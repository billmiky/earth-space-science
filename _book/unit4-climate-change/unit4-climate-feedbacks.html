<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Earth &amp; Space Science">

<title>Earth and Space Science - 23&nbsp; Unit 4: Climate Feedbacks 5E</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../unit4-climate-change/unit4-past-and-future.html" rel="next">
<link href="../unit4-climate-change/unit4-earth-sun-dynamics.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../unit4-climate-change/unit4-opening.html">Unit 4: Climate Change</a></li><li class="breadcrumb-item"><a href="../unit4-climate-change/unit4-climate-feedbacks.html"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Unit 4: Climate Feedbacks 5E</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Earth and Space Science</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Earth and Space Science</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Unit 1: Discovering New Worlds</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit1-discovering-new-worlds/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unit 1: Discovering New Worlds</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit1-discovering-new-worlds/unit1-opening.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Unit 1: Opening ‚Äî Discovering New Worlds</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit1-discovering-new-worlds/unit1-sun.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Unit 1: How the Sun Works</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit1-discovering-new-worlds/unit1-stars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Unit 1: Star Life Cycles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit1-discovering-new-worlds/unit1-orbits.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Unit 1: Planets and Orbits</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit1-discovering-new-worlds/unit1-closing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Unit 1: Closing ‚Äî Which Exoplanet Is Most Earth-Like?</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Unit 2: Probability of Life Elsewhere</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit2-probability-of-life/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unit 2: Probability of Life Elsewhere</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit2-probability-of-life/unit2-opening.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Unit 2: Opening ‚Äî Are We Alone?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit2-probability-of-life/unit2-solar-system.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Stability of the Solar System</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit2-probability-of-life/unit2-coevolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Coevolution of Earth and Life</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit2-probability-of-life/unit2-big-bang.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Origin of the Universe</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit2-probability-of-life/unit2-asteroids.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Asteroid Orbits &amp; Planetary Defense</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit2-probability-of-life/unit2-closing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Unit 2: Closing ‚Äî The Probability of Life</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Unit 3: Earthquakes, Volcanoes, &amp; Tsunamis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit3-earthquakes-volcanoes-tsunamis/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Unit 3: Earthquakes, Volcanoes &amp; Tsunamis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit3-earthquakes-volcanoes-tsunamis/unit3-opening.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Unit 3: Opening ‚Äî The Krakatoa Enigma</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit3-earthquakes-volcanoes-tsunamis/unit3-earth-interior.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Earth‚Äôs Interior</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit3-earthquakes-volcanoes-tsunamis/unit3-plate-boundaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Surface Features &amp; Plate Boundaries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit3-earthquakes-volcanoes-tsunamis/unit3-energy-matter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Energy &amp; Matter in Earth's Interior</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit3-earthquakes-volcanoes-tsunamis/unit3-closing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Performance Task: Natural Hazard Risk Assessment</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Unit 4: Climate Change</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit4-climate-change/unit4-opening.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Unit 4: Climate Change - Unit Opening</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit4-climate-change/climate_story.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">The Story of a Warming World</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit4-climate-change/unit4-seasons-optional.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Unit 4: Seasons (Optional 3E)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit4-climate-change/unit4-earth-sun-dynamics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Unit 4: Earth-Sun Dynamics 5E</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit4-climate-change/unit4-climate-feedbacks.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Unit 4: Climate Feedbacks 5E</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit4-climate-change/unit4-past-and-future.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Unit 4: The Past and the Future 5E</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit4-climate-change/unit4-closing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Unit 4: Climate Change - Unit Closing</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Unit 5: More Hurricanes &amp; Blizzards in NYC?</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit5-hurricanes-blizzards/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unit 5: More Hurricanes &amp; Blizzards in NYC?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit5-hurricanes-blizzards/unit5-opening.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Unit 5: More Hurricanes &amp; Blizzards in NYC? ‚Äî Unit Opening</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit5-hurricanes-blizzards/unit5-blizzards.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Unit 5: Blizzards 5E</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit5-hurricanes-blizzards/unit5-storm-paths.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Unit 5: Paths of Severe Storms 5E</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit5-hurricanes-blizzards/unit5-hurricanes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Unit 5: Hurricanes 5E</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit5-hurricanes-blizzards/unit5-closing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Unit 5: Closing ‚Äî Constructing Your Argument</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Unit 6: Solutions for a Sustainable Future</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit6-sustainable-future/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unit 6: Building a Sustainable Future</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit6-sustainable-future/unit6-opening.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Unit 6: Solutions for a Sustainable Future ‚Äî Unit Opening</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit6-sustainable-future/unit6-burning-fossil-fuels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Unit 6: Burning Fossil Fuels</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit6-sustainable-future/unit6-land_use_and_biodiversity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Unit 6: Land Use and Biodiversity</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit6-sustainable-future/unit6-mining.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Unit 6: Mining</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unit6-sustainable-future/unit6-closing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Unit 6: Closing ‚Äî Your Solutions, Your Argument</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../unit4-climate-change/unit4-opening.html">Unit 4: Climate Change</a></li><li class="breadcrumb-item"><a href="../unit4-climate-change/unit4-climate-feedbacks.html"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Unit 4: Climate Feedbacks 5E</span></a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Unit 4: Climate Feedbacks 5E</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead">What is causing global temperatures to rise, and why is the Arctic warming at almost 4 times the rate as the rest of the globe?</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Earth &amp; Space Science </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<style>
.engage-box { background: linear-gradient(135deg, #1565C0 0%, #0D47A1 100%); color: white; border-left: 5px solid #2196F3; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }
.explore-box { background: linear-gradient(135deg, #E65100 0%, #BF360C 100%); color: white; border-left: 5px solid #ff9800; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }
.explain-box { background: linear-gradient(135deg, #2E7D32 0%, #1B5E20 100%); color: white; border-left: 5px solid #4caf50; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }
.elaborate-box { background: linear-gradient(135deg, #6A1B9A 0%, #4A148C 100%); color: white; border-left: 5px solid #9c27b0; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }
.evaluate-box { background: linear-gradient(135deg, #C62828 0%, #B71C1C 100%); color: white; border-left: 5px solid #f44336; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }
.check-understanding { background: linear-gradient(135deg, #00838F 0%, #006064 100%); color: white; border-left: 5px solid #17a2b8; padding: 15px; margin: 15px 0; }
.key-idea { background: linear-gradient(135deg, #2E7D32 0%, #1B5E20 100%); color: white; border-left: 5px solid #28a745; padding: 15px; margin: 15px 0; }
.lab-activity { background: linear-gradient(135deg, #424242 0%, #212121 100%); color: white; border: 2px solid #666; padding: 20px; margin: 20px 0; border-radius: 10px; }
.quiz-section { background: linear-gradient(135deg, #C62828 0%, #B71C1C 100%); color: white; border-left: 5px solid #dc3545; padding: 20px; margin: 20px 0; border-radius: 10px; }
.feedback-loop { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 15px; margin: 20px 0; }
.pe-badge { display: inline-block; background: #673ab7; color: white; padding: 5px 10px; border-radius: 5px; font-size: 12px; margin: 5px; }
</style>
<p><span class="pe-badge">HS-ESS2-2</span> <span class="pe-badge">HS-ESS2-4</span> <span class="pe-badge">HS-ESS2-6</span> <span class="pe-badge">Time: 7-9 Days</span></p>
<section id="investigative-phenomenon" class="level1" data-number="24">
<h1 data-number="24"><span class="header-section-number">24</span> Investigative Phenomenon</h1>
<section id="arctic-amplification" class="level2 engage-box" data-number="24.1">
<h2 data-number="24.1" class="anchored" data-anchor-id="arctic-amplification"><span class="header-section-number">24.1</span> üå°Ô∏è Arctic Amplification</h2>
<p><strong>The globe is warming, and the average temperature of the Arctic is increasing at almost 4 times the rate as the rest of the globe.</strong></p>
<section id="driving-questions" class="level3" data-number="24.1.1">
<h3 data-number="24.1.1" class="anchored" data-anchor-id="driving-questions"><span class="header-section-number">24.1.1</span> Driving Questions:</h3>
<ul>
<li>What is causing global temperatures to rise today?</li>
<li>Why is the Arctic warming almost 4x faster than the rest of the globe?</li>
<li>How do feedbacks (like greenhouse gases and ice) amplify or reduce change?</li>
<li>How do greenhouse gas increases connect to glacial cycles and current warming?</li>
</ul>
</section>
</section>
</section>
<section id="engage-arctic-vs-global-warming" class="level1" data-number="25">
<h1 data-number="25"><span class="header-section-number">25</span> Engage: Arctic vs Global Warming</h1>
<p>What is happening to temperatures and Arctic ice today? Use the graph below to compare warming in the Arctic to the global average and surface student questions about the current climate change that orbital factors did not explain in the previous lesson.</p>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="55" data-source-offset="-67"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 54;"><span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>Plot <span class="op">=</span> <span class="pp">require</span>(<span class="st">"@observablehq/plot@0.6.13"</span>)</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>arcticData <span class="op">=</span> [</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1980</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">0.26</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">0.4</span>}<span class="op">,</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1985</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">0.12</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">0.3</span>}<span class="op">,</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1990</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">0.45</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">0.8</span>}<span class="op">,</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1995</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">0.45</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">0.9</span>}<span class="op">,</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2000</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">0.42</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">1.0</span>}<span class="op">,</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2005</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">0.69</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">1.5</span>}<span class="op">,</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2010</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">0.72</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">1.8</span>}<span class="op">,</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2015</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">0.90</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">2.5</span>}<span class="op">,</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2020</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">1.02</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">3.2</span>}<span class="op">,</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2024</span><span class="op">,</span> <span class="dt">global</span><span class="op">:</span> <span class="fl">1.29</span><span class="op">,</span> <span class="dt">arctic</span><span class="op">:</span> <span class="fl">4.1</span>}</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Temperature Change: Arctic vs Global Average"</span><span class="op">,</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>  <span class="dt">subtitle</span><span class="op">:</span> <span class="st">"Anomaly relative to 1951-1980 baseline (¬∞C)"</span><span class="op">,</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature Anomaly (¬∞C)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="fl">4.5</span>]}<span class="op">,</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Year"</span><span class="op">,</span> <span class="dt">tickFormat</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span> <span class="co">// Format year to avoid commas (e.g. 2,020)</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {<span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span>}<span class="op">,</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 1. Add a vertical scanning line that follows the mouse (pointerX)</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>(arcticData<span class="op">,</span> Plot<span class="op">.</span><span class="fu">pointerX</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"gray"</span><span class="op">,</span> <span class="dt">strokeOpacity</span><span class="op">:</span> <span class="fl">0.5</span>}))<span class="op">,</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ARCTIC LINE &amp; DOTS</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(arcticData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"arctic"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"#3498db"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(arcticData<span class="op">,</span> {</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> </span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"arctic"</span><span class="op">,</span> </span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> <span class="st">"#3498db"</span><span class="op">,</span> </span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>      <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>      <span class="co">// 2. Enable Tooltip</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>      <span class="co">// 3. Rename tooltip labels (so it doesn't say 'y: 4.1')</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>      <span class="dt">channels</span><span class="op">:</span> {<span class="dt">Temp</span><span class="op">:</span> <span class="st">"arctic"</span><span class="op">,</span> <span class="dt">Year</span><span class="op">:</span> <span class="st">"year"</span>}</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>    <span class="co">// GLOBAL LINE &amp; DOTS</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(arcticData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"global"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"#e74c3c"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(arcticData<span class="op">,</span> {</span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> </span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"global"</span><span class="op">,</span> </span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> <span class="st">"#e74c3c"</span><span class="op">,</span> </span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>      <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>      <span class="dt">channels</span><span class="op">:</span> {<span class="dt">Temp</span><span class="op">:</span> <span class="st">"global"</span><span class="op">,</span> <span class="dt">Year</span><span class="op">:</span> <span class="st">"year"</span>}</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Text labels (Static)</span></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">2010</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="fl">2.3</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="st">"Arctic"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#3498db"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">14</span><span class="op">,</span> <span class="dt">fontWeight</span><span class="op">:</span> <span class="st">"bold"</span>})<span class="op">,</span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">2010</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="fl">0.5</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="st">"Global"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#e74c3c"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">14</span><span class="op">,</span> <span class="dt">fontWeight</span><span class="op">:</span> <span class="st">"bold"</span>})</span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
<section id="initial-questions" class="level3 check-understanding" data-number="25.0.1">
<h3 data-number="25.0.1" class="anchored" data-anchor-id="initial-questions"><span class="header-section-number">25.0.1</span> ü§î Initial Questions</h3>
<ol type="1">
<li>How much faster is the Arctic warming compared to the global average?</li>
<li>What evidence from the graph suggests the Arctic is changing more rapidly?</li>
<li>What changes in the Arctic might amplify or reduce this warming trend?</li>
</ol>
</section>
<div class="cell" data-execution_count="1">
<div id="fig-co2-temp-800ka" class="cell quarto-figure quarto-figure-center quarto-float anchored" data-execution_count="1">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-co2-temp-800ka-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div id="fig-co2-temp-800ka-1" class="cell-output cell-output-display quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-co2-temp-800ka-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.3.1.min"</script>
        
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-co2-temp-800ka-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Atmospheric CO‚ÇÇ concentration and Antarctic temperature over the past 800,000 years, showing strong correlation during glacial-interglacial cycles and unprecedented current CO‚ÇÇ levels.
</figcaption>
</figure>
</div>
<div id="fig-co2-temp-800ka-2" class="cell-output cell-output-display quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-co2-temp-800ka-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.3.1.min.js" integrity="sha256-4rD3fugVb/nVJYUv5Ky3v+fYXoouHaBSP20WIJuEiWg=" crossorigin="anonymous"></script>                <div id="f8f9a6a7-db12-40be-b4fd-e0d2d79ecf4e" class="plotly-graph-div" style="height:600px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("f8f9a6a7-db12-40be-b4fd-e0d2d79ecf4e")) {                    Plotly.newPlot(                        "f8f9a6a7-db12-40be-b4fd-e0d2d79ecf4e",                        [{"hovertemplate":"\u003cb\u003eCO‚ÇÇ\u003c\u002fb\u003e\u003cbr\u003e%{x:.0f}k years ago\u003cbr\u003e%{y:.0f} ppm\u003cextra\u003e\u003c\u002fextra\u003e","line":{"color":"rgb(40, 120, 200)","width":2},"mode":"lines","name":"Atmospheric CO‚ÇÇ","x":{"dtype":"f8","bdata":"AAAAAAAAiUCaOIzV1t+IQDVxGKutv4hAz6mkgISfiEBq4jBWW3+IQAQbvSsyX4hAnlNJAQk\u002fiEA5jNXW3x6IQNPEYay2\u002fodAbf3tgY3eh0AINnpXZL6HQKJuBi07nodAPKeSAhJ+h0DX3x7Y6F2HQHEYq62\u002fPYdADFE3g5Ydh0CmicNYbf2GQEDCTy5E3YZA2\u002frbAxu9hkB1M2jZ8ZyGQBBs9K7IfIZAqqSAhJ9chkBE3QxadjyGQN8VmS9NHIZAeU4lBST8hUATh7Ha+tuFQK6\u002fPbDRu4VASPjJhaibhUDiMFZbf3uFQH1p4jBWW4VAF6JuBi07hUCy2vrbAxuFQEwTh7Ha+oRA5ksTh7HahECBhJ9ciLqEQBu9KzJfmoRAtvW3BzZ6hEBQLkTdDFqEQOpm0LLjOYRAhJ9ciLoZhEAf2OhdkfmDQLoQdTNo2YNAVEkBCT+5g0DugY3eFZmDQIi6GbTseINAI\u002fOlicNYg0C9KzJfmjiDQFhkvjRxGINA8pxKCkj4gkCM1dbfHtiCQCcOY7X1t4JAwUbvisyXgkBcf3tgo3eCQPa3BzZ6V4JAkPCTC1E3gkAqKSDhJxeCQMVhrLb+9oFAYJo4jNXWgUD60sRhrLaBQJQLUTeDloFALkTdDFp2gUDJfGniMFaBQGO19bcHNoFA\u002fu2Bjd4VgUCYJg5jtfWAQDJfmjiM1YBAzZcmDmO1gEBn0LLjOZWAQAIJP7kQdYBAnEHLjudUgEA2eldkvjSAQNCy4zmVFIBA1tbfHtjof0ALSPjJhah\u002fQEC5EHUzaH9AdCopIOEnf0Cpm0HLjud+QN4MWnY8p35AEn5yIepmfkBH74rMlyZ+QHxgo3dF5n1AsdG7IvOlfUDmQtTNoGV9QBq07HhOJX1ATyUFJPzkfECElh3PqaR8QLgHNnpXZHxA7XhOJQUkfEAi6mbQsuN7QFdbf3tgo3tAjMyXJg5je0DAPbDRuyJ7QPWuyHxp4npAKiDhJxeiekBekfnSxGF6QJMCEn5yIXpAyHMqKSDheUD95ELUzaB5QDJWW397YHlAZsdzKikgeUCbOIzV1t94QNCppICEn3hABBu9KzJfeEA5jNXW3x54QG797YGN3ndAo24GLTued0DY3x7Y6F13QAxRN4OWHXdAQcJPLkTddkB2M2jZ8Zx2QKqkgISfXHZA3xWZL00cdkAUh7Ha+tt1QEn4yYWom3VAfmniMFZbdUCy2vrbAxt1QOdLE4ex2nRAHL0rMl+adEBQLkTdDFp0QIWfXIi6GXRAuhB1M2jZc0DvgY3eFZlzQCTzpYnDWHNAWGS+NHEYc0CN1dbfHthyQMJG74rMl3JA9rcHNnpXckArKSDhJxdyQGCaOIzV1nFAlAtRN4OWcUDKfGniMFZxQP7tgY3eFXFANF+aOIzVcEBo0LLjOZVwQJxBy47nVHBA0rLjOZUUcEAMSPjJhahvQHQqKSDhJ29A4AxadjynbkBI74rMlyZuQLDRuyLzpW1AHLTseE4lbUCElh3PqaRsQPB4TiUFJGxAWFt\u002fe2Cja0DAPbDRuyJrQCwg4ScXompAlAISfnIhakAA5ULUzaBpQGjHcyopIGlA0KmkgISfaEA8jNXW3x5oQKRuBi07nmdADFE3g5YdZ0B4M2jZ8ZxmQOAVmS9NHGZASPjJhaibZUC02vrbAxtlQBy9KzJfmmRAiJ9ciLoZZEDwgY3eFZljQFhkvjRxGGNAxEbvisyXYkAsKSDhJxdiQJgLUTeDlmFAAO6Bjd4VYUBo0LLjOZVgQNSy4zmVFGBAeCopIOEnX0BI74rMlyZeQCC07HhOJV1A8HhOJQUkXEDAPbDRuyJbQJgCEn5yIVpAaMdzKikgWUBAjNXW3x5YQBBRN4OWHVdA4BWZL00cVkC42vrbAxtVQIifXIi6GVRAYGS+NHEYU0AwKSDhJxdSQADugY3eFVFA2LLjOZUUUEBQ74rMlyZOQPB4TiUFJExAoAISfnIhSkBAjNXW3x5IQOAVmS9NHEZAkJ9ciLoZREAwKSDhJxdCQOCy4zmVFEBAAHlOJQUkPEBAjNXW3x44QKCfXIi6GTRA4LLjOZUUMECAjNXW3x4oQACz4zmVFCBAALPjOZUUEEAAAAAAAAAAAA=="},"y":{"dtype":"f8","bdata":"+aZlaXkPaEC8CynfYglpQNziHTIip2pAAG8\u002fLSMYbEClwigLXK1rQI7Qn6+fKWxAHKaSIGGabUBMa1DI8D1tQBTp+E7GeGxAmdUbljP7bEARTJPl+R5sQC4fYfMIzGtAdcHuJ9zXa0Brgqi7PwtqQOq\u002fOlO3q2lAg1x6rKLiaUDqszDzexZpQFv\u002fJfFBamlAetzKqhsuaEDUrMs5R3FnQLieCLCD4mhAGaad6AaOZ0DMmR7n8JBnQLvtL4p5lGZAL33zaGk2Z0BO+DRbldtnQLNOQKKtdmdA3tVglLHxaEAhZqxxmfVoQN5z\u002fhAo2GlAjnpddlFgakAEcb0m\u002faJsQDYKIxNmKmxANIIWccokbEC2DWYFQ9ptQAvWpLq++mxARyxXtVkdbkBswB6rS85sQDvAehb8BW1A1K2x3GiXbUBz6oapMWFtQIUjtthWWmxA93tLJBhsa0DbXiZs8IRqQN6QmgX0AGlAoDgKUKu\u002faEBM32h9cEZoQCpmRXSXuWhAOLZdPMz1Z0BE1FnqMoxmQKsvTJWvBWhA3BBXcEwHaEBMCdQ1C4hoQLbxec4qNWpAYG3p19x5a0AzIBy0UIFsQBky2yhlhmxANRXNvqf3bUDBooeb1mlvQBezXk+DX3BAxdspVvVMcECxBKGzm6pwQKQiytoKhXBA6MIB35t6cEBZCFGs0fNwQG3afnRH2nBAEu7F1SQMcEAza0xnXuxvQH1kOCfTmm5AwaarYn0JbUCIpFQOScJsQE\u002feMqy6q2xAGXaKA\u002fH\u002fakDY\u002fg8bUYBrQCkmeT7OoGhAMFSL\u002fFTQakCqyAd4zLBqQF5v1Hd6CWtA+FPOm\u002fcQbEAsrCDl3rFrQFqhkM0S0W1A5rBq0Y06b0ALrRVyBXtwQM+hzlXzVXBAOVMSuvOocED9e1YfXRRxQBfMIKtRunFAqegmT7yacUBjvaBIJztxQNg0wLK7TXFAa6ft6rTMcECCK13K7JpwQBfwKIEoGm9AFXuGQYAybkD7RYjVov9sQI1Rc37ZNGtAMYkPcGhGa0CPM8HeYF5qQGUWpDTChmlA8Av9Z6zzaEActboyjRloQGPVgK4u62hAxm0gWndsaUDCDNDALMxpQJcsx7J6AmtAfvr9BkVFbEAeIrEBbCVuQPKdfTlVA25Ad3zwyzfvbkCXPiLyoXlvQKeSuywV5W5AkyxiI701cECD5gdWFURwQItgwo0z43BAWFfsSNWUb0CZP5I9SyNvQNvI14KSA25AjZx12WVJbEDqF7XaNqpsQCbu2nPmXGtApJD6FCxlakCSR2vqcXZoQLXjw\u002fKXN2lAziQL+nECZ0CPTYEuKhdoQCEJVj2FRmlA\u002fWLyg3HNZ0Do8Ni\u002fR9toQPMJ8rqURmpAU7ZINVUOa0DsSMNhQKdrQPw2+d+5821Aa5VyHtSBbkBH1iINfFJwQLyfwMJGZ3BAj9CiDfOWcUByvFqeqiRxQHYyCNuNaHFANWASLl21cUAeVeAZS9xwQIjhhZ3L+nBAI1c0ujPhcEAKfEEhM+puQBiEOlXT6m5AzD5P8C7ObUARrdNTH\u002fxsQMBkxmNWpGpAZ\u002f4GUKqgaUCaveWNSf1pQCIdEjb2SGlA7TrM+\u002f\u002f2aECdmK2k0\u002f5oQCufZCKii2hA73IJgbd8aUCVo93WJglqQBlLLtbCA2pAo0ux4vpKbECk2FowxxpsQCW2jbN7uGtAi5G702R3bUDVCjrbSO5sQNqA1eIyXm5AnAafWWu\u002fbkDWw6D0knRtQPaeR2g7V25A4+KCGgugbUAaIaT7dWZtQFNK2KK0g21A\u002fqqsW+2Sa0BawjLQkqRqQB2uALor92lA4HCJG\u002fR4aUBsBeQ0IntpQEX5n61daGlAyg0obAQvaUAIoqwdy4VpQCfXwlS8L2lAvJSdIBZtakB1dDop1dhpQDY31lL9WWxArM26y4TQa0DiaA0nHshrQHdWmQ0cp2xAMJnuAFC6bkAy46quo3pvQOSpe1LUqnBA9oVBFYZCcUC8tyUWzshxQFEKDhtvQnJAXlMoEq\u002fIckCQCS2cj9xzQHmRB0h9BHVAwE0nSaeQdUCmRoNA1tl1QPadsn9PBndAizEjxczNd0DNNQw+6Rh4QL1JWhJCFXlAPsb+gjiueUAAAAAAAEB6QA=="},"type":"scatter","xaxis":"x","yaxis":"y"},{"hovertemplate":"\u003cb\u003eTemperature\u003c\u002fb\u003e\u003cbr\u003e%{x:.0f}k years ago\u003cbr\u003e%{y:.1f}¬∞C\u003cextra\u003e\u003c\u002fextra\u003e","line":{"color":"rgb(230, 140, 50)","width":2},"mode":"lines","name":"Antarctic Temperature","x":{"dtype":"f8","bdata":"AAAAAAAAiUCaOIzV1t+IQDVxGKutv4hAz6mkgISfiEBq4jBWW3+IQAQbvSsyX4hAnlNJAQk\u002fiEA5jNXW3x6IQNPEYay2\u002fodAbf3tgY3eh0AINnpXZL6HQKJuBi07nodAPKeSAhJ+h0DX3x7Y6F2HQHEYq62\u002fPYdADFE3g5Ydh0CmicNYbf2GQEDCTy5E3YZA2\u002frbAxu9hkB1M2jZ8ZyGQBBs9K7IfIZAqqSAhJ9chkBE3QxadjyGQN8VmS9NHIZAeU4lBST8hUATh7Ha+tuFQK6\u002fPbDRu4VASPjJhaibhUDiMFZbf3uFQH1p4jBWW4VAF6JuBi07hUCy2vrbAxuFQEwTh7Ha+oRA5ksTh7HahECBhJ9ciLqEQBu9KzJfmoRAtvW3BzZ6hEBQLkTdDFqEQOpm0LLjOYRAhJ9ciLoZhEAf2OhdkfmDQLoQdTNo2YNAVEkBCT+5g0DugY3eFZmDQIi6GbTseINAI\u002fOlicNYg0C9KzJfmjiDQFhkvjRxGINA8pxKCkj4gkCM1dbfHtiCQCcOY7X1t4JAwUbvisyXgkBcf3tgo3eCQPa3BzZ6V4JAkPCTC1E3gkAqKSDhJxeCQMVhrLb+9oFAYJo4jNXWgUD60sRhrLaBQJQLUTeDloFALkTdDFp2gUDJfGniMFaBQGO19bcHNoFA\u002fu2Bjd4VgUCYJg5jtfWAQDJfmjiM1YBAzZcmDmO1gEBn0LLjOZWAQAIJP7kQdYBAnEHLjudUgEA2eldkvjSAQNCy4zmVFIBA1tbfHtjof0ALSPjJhah\u002fQEC5EHUzaH9AdCopIOEnf0Cpm0HLjud+QN4MWnY8p35AEn5yIepmfkBH74rMlyZ+QHxgo3dF5n1AsdG7IvOlfUDmQtTNoGV9QBq07HhOJX1ATyUFJPzkfECElh3PqaR8QLgHNnpXZHxA7XhOJQUkfEAi6mbQsuN7QFdbf3tgo3tAjMyXJg5je0DAPbDRuyJ7QPWuyHxp4npAKiDhJxeiekBekfnSxGF6QJMCEn5yIXpAyHMqKSDheUD95ELUzaB5QDJWW397YHlAZsdzKikgeUCbOIzV1t94QNCppICEn3hABBu9KzJfeEA5jNXW3x54QG797YGN3ndAo24GLTued0DY3x7Y6F13QAxRN4OWHXdAQcJPLkTddkB2M2jZ8Zx2QKqkgISfXHZA3xWZL00cdkAUh7Ha+tt1QEn4yYWom3VAfmniMFZbdUCy2vrbAxt1QOdLE4ex2nRAHL0rMl+adEBQLkTdDFp0QIWfXIi6GXRAuhB1M2jZc0DvgY3eFZlzQCTzpYnDWHNAWGS+NHEYc0CN1dbfHthyQMJG74rMl3JA9rcHNnpXckArKSDhJxdyQGCaOIzV1nFAlAtRN4OWcUDKfGniMFZxQP7tgY3eFXFANF+aOIzVcEBo0LLjOZVwQJxBy47nVHBA0rLjOZUUcEAMSPjJhahvQHQqKSDhJ29A4AxadjynbkBI74rMlyZuQLDRuyLzpW1AHLTseE4lbUCElh3PqaRsQPB4TiUFJGxAWFt\u002fe2Cja0DAPbDRuyJrQCwg4ScXompAlAISfnIhakAA5ULUzaBpQGjHcyopIGlA0KmkgISfaEA8jNXW3x5oQKRuBi07nmdADFE3g5YdZ0B4M2jZ8ZxmQOAVmS9NHGZASPjJhaibZUC02vrbAxtlQBy9KzJfmmRAiJ9ciLoZZEDwgY3eFZljQFhkvjRxGGNAxEbvisyXYkAsKSDhJxdiQJgLUTeDlmFAAO6Bjd4VYUBo0LLjOZVgQNSy4zmVFGBAeCopIOEnX0BI74rMlyZeQCC07HhOJV1A8HhOJQUkXEDAPbDRuyJbQJgCEn5yIVpAaMdzKikgWUBAjNXW3x5YQBBRN4OWHVdA4BWZL00cVkC42vrbAxtVQIifXIi6GVRAYGS+NHEYU0AwKSDhJxdSQADugY3eFVFA2LLjOZUUUEBQ74rMlyZOQPB4TiUFJExAoAISfnIhSkBAjNXW3x5IQOAVmS9NHEZAkJ9ciLoZREAwKSDhJxdCQOCy4zmVFEBAAHlOJQUkPEBAjNXW3x44QKCfXIi6GTRA4LLjOZUUMECAjNXW3x4oQACz4zmVFCBAALPjOZUUEEAAAAAAAAAAAA=="},"y":{"dtype":"f8","bdata":"kMNYGNBIH8A69ZMA3JIYwForSMs\u002fYhLAT7QsZirADMAi1o4iLisQwMQD1SJ\u002fRQrADYIfaP3SAcBBKNqHsbMAwC5gkWmL6gDA\u002fu87Oorg47+NdIb43oUEwBsi2BoLjQXAoBpKbiZDCsBi3GrLgv4PwDa+NMXWYBTAWeNeZ6bIFMAmMoQWLW0awMA\u002flzKs4BvAXfbWbc3CHsDfrhrrc8sfwFR2coXNMh3AdrlBxpmGI8Dz0ctbg3whwIa06oJIByTAsAKyprjRIsDu1e7Hf9YgwJaS3lp5EyHAxZa7I+gfIcAkhaq33t0ewDsbXmBuFxnA02Tv7dq9GMAqEj+GBaMTwDb4b66F3hDA7PH7LmPMDsCpgYIR0VP9v+X5J6JY0ADAyqOtmrToCMCsMPScOVD+v0jaSXi8hwPA0mn+yuQ2AMDYTTxKjvAKwD6RBXk4aw3A5HEhtWZoEMCHOVxBf8kSwMG2xRHVABrAzafb\u002f8EoG8AbGD7Qj\u002fMdwBOR0EO7ISDAE4xmVEalHMCVDOi8tqsfwLKLZ+E0GyHAEfNnq5XqG8AaXjkKS5sWwFp7FZHuIhXAkh6+\u002fmMOFsDnXyfuoPYOwKbRQee1ef2\u002fPuZZvMNC+7+M6dhcxzG1v\u002fcn365Mzu8\u002fgoLZUY6+6z8Rr+fEqon8P7SJwzL7ZNg\u002f+v+vNWtx9T+fLt7ptUf0P+AZHehMuK8\u002f2UPNrq9Z4z\u002fuDHQKEkH\u002fv9IbXpvtbwTAgXvi9EQAC8Di\u002fNLZ5zMOwEnz2AXeohjAeTHx8ZuJFsBNaGYzlgUbwFEBiJvhBR7Acorfk9rBGsC24oOTv3gZwEDviIlVEBjA\u002fAZht\u002f\u002fHEsDc7eRCniQOwLJVMJz8EQLAv4DXwJ3p5b+qMefF\u002fdXwP5JbwdhUb+o\u002fIv9YOLBYDECbRljd24ICQABO\u002fMh+8w1AC4SYwusuEUCn0W8e524PQKXD0hQBRAdAb8MEKw8KAkATGVv+gmbwP7K1sYpJdtG\u002fZstCylrS7L9ftDJg5zcEwLDTMT+ZmhHAq5z1HchtE8DiB0Wd4foYwJPvTP7\u002fbhvAUrfb8LwaHsC5kzwqdfUgwAFs6PzIbSDAPddjn9iHHMDWCXwSNiQawIEcQ8dhBxjA42nH0GjnE8AmvRFzMwALwIG\u002fWuYdUgrAlPDemfEw\u002fL+Ba6VS1MX0v+YezrYvvOS\u002f3JPAB8tq2z\u002f1+8FC40DaP74UrgqS8sc\u002f8Aq2b6jDs7\u002fyW+m+jGz3v3qbZiukbQDAaNqNma+wDMAz0oU9MXQRwBzcPmdovBbA4Y3vhGhqGsDS\u002fmixFhQdwOzoxZ1WbSHAiOQ7LVcJH8Dnral8KgcjwPltbSv68iLAOokUod86H8Ahy5kzIu0cwEIIVBdVWhnAtXqfPwrOFMAmcM9jBigRwJm+ogvqsQvAsFDu7Cqo+7+MOSlfFSDuv4A8pTRi9ew\u002fHGYvQkqR8j9W2szp6fv1P4vVj9V2rf0\u002fazWchxHJAECZ0IQKndbyPx9SSbWMH9c\u002fQIpH5WqsfT8OFWoEo2bwv3xE4zmLNATAU9fuoMlbDcAkUsuEwdoRwBAjY08igxnAfZkCc0I6HcChdLqLpe0ewNrVtUP7ByDA8ea7VDYEIMDR4lsKbqQdwN\u002fHVC015h3AiP8uoFg0HsAi7kjkOpsbwDTCgpMH1hrAfCmjqPTfFcDmHbuiz1QTwIBjfCbYMg7AOuLGEHNCDcAJtuw4\u002fSQDwHAxZ0pdAfe\u002fc0+Np53l\u002f79Gkcwb\u002f8H6vzhK6dfEKfq\u002fhYNWXsFyA8CtO9wgkdoDwDytc8HWRQjAWpz07bfuC8Cy6wk2Ls0RwP++UNZHRhLARaba2A5AE8DUl56JZQATwPODPmAaQhXAVt37PZSjE8Cth4ZlKKUZwElnws2q8hXA0kAoY4ZjFsCxdlY8vvsQwCkAnhwRMhXARaChz5AlE8Af562rYkoQwAFPWxqawxDAl6HA+Fe2BcB0PyLL8BMBwF3dw9N\u002fa++\u002fQmgDQxrZyb+4ZgEN84PzP\u002fEK6Mgm2fU\u002fM2lxRXdh8j\u002f46sN+EFH3P0hDwEB1OQRAWL2T7hc1\u002fj\u002fEs1arbtUMQIT0ZidzNwpAVBN9GWVaAkDZM7If7XD1P7eOs7IG0QJA8dkMBcqC7D8EGiZ6GM7jPw=="},"type":"scatter","xaxis":"x","yaxis":"y2"},{"hovertemplate":"\u003cb\u003eCurrent (2026)\u003c\u002fb\u003e\u003cbr\u003e420 ppm\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"color":"red","size":12},"mode":"markers+text","showlegend":false,"text":["Current\u003cbr\u003e420 ppm"],"textfont":{"color":"red","size":11},"textposition":"top center","x":[0],"y":[420],"type":"scatter","xaxis":"x","yaxis":"y"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,0.94],"title":{"text":"Years ago (in thousands)"},"autorange":"reversed","gridcolor":"lightgray"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Atmospheric CO‚ÇÇ (ppm)"},"gridcolor":"lightgray","range":[150,450]},"yaxis2":{"anchor":"x","overlaying":"y","side":"right","title":{"text":"Temperature Anomaly (¬∞C)"},"showgrid":false,"range":[-12,8]},"legend":{"x":0.02,"y":0.98,"bgcolor":"rgba(255, 255, 255, 0.9)","bordercolor":"gray","borderwidth":1},"title":{"text":"CO‚ÇÇ and Antarctic Temperature over 800,000 Years"},"hovermode":"x unified","plot_bgcolor":"white","height":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f8f9a6a7-db12-40be-b4fd-e0d2d79ecf4e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-co2-temp-800ka-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b)
</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-co2-temp-800ka-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;25.1
</figcaption>
</figure>
</div>
</div>
</section>
<section id="explore-part-1-the-greenhouse-effect" class="level1" data-number="26">
<h1 data-number="26"><span class="header-section-number">26</span> Explore Part 1: The Greenhouse Effect</h1>
<p>How do carbon dioxide levels in the air both impact and change as a result of Earth‚Äôs systems? Use the simulation to gather evidence about the causal mechanism behind the correlation between atmospheric CO‚ÇÇ levels and climate factors like temperature.</p>
<section id="carbon-cycle-model-pre-vs.-post-industrial" class="level3" data-number="26.0.1">
<h3 data-number="26.0.1" class="anchored" data-anchor-id="carbon-cycle-model-pre-vs.-post-industrial"><span class="header-section-number">26.0.1</span> Carbon Cycle Model: Pre vs.&nbsp;Post Industrial</h3>
<p>Use the sliders below to simulate the flow of carbon. 1. Keep <strong>Fossil Fuel Burning</strong> at <strong>0</strong> to see the Pre-Industrial equilibrium. 2. Increase the burning rate to see how the <strong>Atmosphere</strong> reservoir changes over time.</p>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="253" data-source-offset="-34"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 252;"><span id="cb2-253"><a href="#cb2-253" aria-hidden="true" tabindex="-1"></a>viewof years <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">100</span>]<span class="op">,</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Years Elapsed"</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span>})<span class="op">;</span></span>
<span id="cb2-254"><a href="#cb2-254" aria-hidden="true" tabindex="-1"></a>viewof human_emissions <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">15</span>]<span class="op">,</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Fossil Fuel Burning (Gt/year)"</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span>})<span class="op">;</span></span>
<span id="cb2-255"><a href="#cb2-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-256"><a href="#cb2-256" aria-hidden="true" tabindex="-1"></a><span class="co">// --- 2. THE MATH MODEL ---</span></span>
<span id="cb2-257"><a href="#cb2-257" aria-hidden="true" tabindex="-1"></a><span class="co">// Initial Stocks (Table 1)</span></span>
<span id="cb2-258"><a href="#cb2-258" aria-hidden="true" tabindex="-1"></a>init_atmos <span class="op">=</span> <span class="dv">560</span><span class="op">;</span></span>
<span id="cb2-259"><a href="#cb2-259" aria-hidden="true" tabindex="-1"></a>init_ocean <span class="op">=</span> <span class="dv">38000</span><span class="op">;</span></span>
<span id="cb2-260"><a href="#cb2-260" aria-hidden="true" tabindex="-1"></a>init_bio <span class="op">=</span> <span class="dv">2160</span><span class="op">;</span></span>
<span id="cb2-261"><a href="#cb2-261" aria-hidden="true" tabindex="-1"></a>init_fossil <span class="op">=</span> <span class="dv">10000</span><span class="op">;</span></span>
<span id="cb2-262"><a href="#cb2-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-263"><a href="#cb2-263" aria-hidden="true" tabindex="-1"></a><span class="co">// Flows (Table 2) - Constant Linear Rates</span></span>
<span id="cb2-264"><a href="#cb2-264" aria-hidden="true" tabindex="-1"></a><span class="co">// Note: In reality, flows change with concentration, but for this high school model we use the fixed rates provided.</span></span>
<span id="cb2-265"><a href="#cb2-265" aria-hidden="true" tabindex="-1"></a>flow_ocean_to_atmos <span class="op">=</span> <span class="dv">62</span><span class="op">;</span></span>
<span id="cb2-266"><a href="#cb2-266" aria-hidden="true" tabindex="-1"></a>flow_atmos_to_ocean <span class="op">=</span> <span class="dv">60</span><span class="op">;</span></span>
<span id="cb2-267"><a href="#cb2-267" aria-hidden="true" tabindex="-1"></a>flow_bio_to_atmos <span class="op">=</span> <span class="dv">107</span><span class="op">;</span></span>
<span id="cb2-268"><a href="#cb2-268" aria-hidden="true" tabindex="-1"></a>flow_atmos_to_bio <span class="op">=</span> <span class="dv">109</span><span class="op">;</span></span>
<span id="cb2-269"><a href="#cb2-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-270"><a href="#cb2-270" aria-hidden="true" tabindex="-1"></a><span class="co">// Calculate Current State</span></span>
<span id="cb2-271"><a href="#cb2-271" aria-hidden="true" tabindex="-1"></a>current_fossil <span class="op">=</span> init_fossil <span class="op">-</span> (human_emissions <span class="op">*</span> years)<span class="op">;</span></span>
<span id="cb2-272"><a href="#cb2-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-273"><a href="#cb2-273" aria-hidden="true" tabindex="-1"></a><span class="co">// Net Flux to Atmosphere = (In from Ocean + In from Bio + Human) - (Out to Ocean + Out to Bio)</span></span>
<span id="cb2-274"><a href="#cb2-274" aria-hidden="true" tabindex="-1"></a>yearly_atmos_change <span class="op">=</span> (flow_ocean_to_atmos <span class="op">+</span> flow_bio_to_atmos <span class="op">+</span> human_emissions) <span class="op">-</span> (flow_atmos_to_ocean <span class="op">+</span> flow_atmos_to_bio)<span class="op">;</span></span>
<span id="cb2-275"><a href="#cb2-275" aria-hidden="true" tabindex="-1"></a>current_atmos <span class="op">=</span> init_atmos <span class="op">+</span> (yearly_atmos_change <span class="op">*</span> years)<span class="op">;</span></span>
<span id="cb2-276"><a href="#cb2-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-277"><a href="#cb2-277" aria-hidden="true" tabindex="-1"></a><span class="co">// Net Flux to Ocean (In - Out)</span></span>
<span id="cb2-278"><a href="#cb2-278" aria-hidden="true" tabindex="-1"></a>current_ocean <span class="op">=</span> init_ocean <span class="op">+</span> ((flow_atmos_to_ocean <span class="op">-</span> flow_ocean_to_atmos) <span class="op">*</span> years)<span class="op">;</span></span>
<span id="cb2-279"><a href="#cb2-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-280"><a href="#cb2-280" aria-hidden="true" tabindex="-1"></a><span class="co">// Net Flux to Bio (In - Out)</span></span>
<span id="cb2-281"><a href="#cb2-281" aria-hidden="true" tabindex="-1"></a>current_bio <span class="op">=</span> init_bio <span class="op">+</span> ((flow_atmos_to_bio <span class="op">-</span> flow_bio_to_atmos) <span class="op">*</span> years)<span class="op">;</span></span>
<span id="cb2-282"><a href="#cb2-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-283"><a href="#cb2-283" aria-hidden="true" tabindex="-1"></a><span class="co">// --- 3. THE VISUALIZATION (SVG) ---</span></span>
<span id="cb2-284"><a href="#cb2-284" aria-hidden="true" tabindex="-1"></a>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;svg width="600" height="450" viewBox="0 0 600 450" style="font-family: sans-serif;"&gt;</span></span>
<span id="cb2-285"><a href="#cb2-285" aria-hidden="true" tabindex="-1"></a><span class="vs">  </span></span>
<span id="cb2-286"><a href="#cb2-286" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;defs&gt;</span></span>
<span id="cb2-287"><a href="#cb2-287" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto"&gt;</span></span>
<span id="cb2-288"><a href="#cb2-288" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;polygon points="0 0, 10 3.5, 0 7" fill="#666" /&gt;</span></span>
<span id="cb2-289"><a href="#cb2-289" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/marker&gt;</span></span>
<span id="cb2-290"><a href="#cb2-290" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/defs&gt;</span></span>
<span id="cb2-291"><a href="#cb2-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-292"><a href="#cb2-292" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;text x="300" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#333"&gt;</span></span>
<span id="cb2-293"><a href="#cb2-293" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>human_emissions <span class="op">==</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"Pre-Industrial Equilibrium"</span> <span class="op">:</span> <span class="st">"Post-Industrial Disruption"</span><span class="sc">}</span></span>
<span id="cb2-294"><a href="#cb2-294" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/text&gt;</span></span>
<span id="cb2-295"><a href="#cb2-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-296"><a href="#cb2-296" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;g transform="translate(200, 50)"&gt;</span></span>
<span id="cb2-297"><a href="#cb2-297" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;rect x="0" y="0" width="200" height="80" rx="10" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/&gt;</span></span>
<span id="cb2-298"><a href="#cb2-298" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;text x="100" y="30" text-anchor="middle" font-weight="bold"&gt;ATMOSPHERE&lt;/text&gt;</span></span>
<span id="cb2-299"><a href="#cb2-299" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;text x="100" y="55" text-anchor="middle" font-size="20" fill="#D32F2F" font-weight="bold"&gt;</span></span>
<span id="cb2-300"><a href="#cb2-300" aria-hidden="true" tabindex="-1"></a><span class="vs">      </span><span class="sc">${</span>current_atmos<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs"> Gt</span></span>
<span id="cb2-301"><a href="#cb2-301" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/text&gt;</span></span>
<span id="cb2-302"><a href="#cb2-302" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/g&gt;</span></span>
<span id="cb2-303"><a href="#cb2-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-304"><a href="#cb2-304" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;g transform="translate(380, 250)"&gt;</span></span>
<span id="cb2-305"><a href="#cb2-305" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;rect x="0" y="0" width="180" height="80" rx="10" fill="#E0F7FA" stroke="#00BCD4" stroke-width="2"/&gt;</span></span>
<span id="cb2-306"><a href="#cb2-306" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;text x="90" y="30" text-anchor="middle" font-weight="bold"&gt;OCEAN&lt;/text&gt;</span></span>
<span id="cb2-307"><a href="#cb2-307" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;text x="90" y="55" text-anchor="middle" font-size="16"&gt;</span></span>
<span id="cb2-308"><a href="#cb2-308" aria-hidden="true" tabindex="-1"></a><span class="vs">      </span><span class="sc">${</span>current_ocean<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs"> Gt</span></span>
<span id="cb2-309"><a href="#cb2-309" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/text&gt;</span></span>
<span id="cb2-310"><a href="#cb2-310" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/g&gt;</span></span>
<span id="cb2-311"><a href="#cb2-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-312"><a href="#cb2-312" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;g transform="translate(40, 250)"&gt;</span></span>
<span id="cb2-313"><a href="#cb2-313" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;rect x="0" y="0" width="180" height="80" rx="10" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/&gt;</span></span>
<span id="cb2-314"><a href="#cb2-314" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;text x="90" y="30" text-anchor="middle" font-weight="bold"&gt;BIOSPHERE&lt;/text&gt;</span></span>
<span id="cb2-315"><a href="#cb2-315" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;text x="90" y="55" text-anchor="middle" font-size="16"&gt;</span></span>
<span id="cb2-316"><a href="#cb2-316" aria-hidden="true" tabindex="-1"></a><span class="vs">      </span><span class="sc">${</span>current_bio<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs"> Gt</span></span>
<span id="cb2-317"><a href="#cb2-317" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/text&gt;</span></span>
<span id="cb2-318"><a href="#cb2-318" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/g&gt;</span></span>
<span id="cb2-319"><a href="#cb2-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-320"><a href="#cb2-320" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;g transform="translate(200, 370)"&gt;</span></span>
<span id="cb2-321"><a href="#cb2-321" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;rect x="0" y="0" width="200" height="60" rx="10" fill="#424242" stroke="#000" stroke-width="2"/&gt;</span></span>
<span id="cb2-322"><a href="#cb2-322" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;text x="100" y="25" text-anchor="middle" fill="white" font-weight="bold"&gt;FOSSIL FUELS&lt;/text&gt;</span></span>
<span id="cb2-323"><a href="#cb2-323" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;text x="100" y="45" text-anchor="middle" fill="white" font-size="14"&gt;</span></span>
<span id="cb2-324"><a href="#cb2-324" aria-hidden="true" tabindex="-1"></a><span class="vs">      </span><span class="sc">${</span>current_fossil<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs"> Gt</span></span>
<span id="cb2-325"><a href="#cb2-325" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/text&gt;</span></span>
<span id="cb2-326"><a href="#cb2-326" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/g&gt;</span></span>
<span id="cb2-327"><a href="#cb2-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-328"><a href="#cb2-328" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;line x1="140" y1="250" x2="220" y2="130" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/&gt;</span></span>
<span id="cb2-329"><a href="#cb2-329" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;text x="150" y="190" font-size="10" fill="#666"&gt;107&lt;/text&gt;</span></span>
<span id="cb2-330"><a href="#cb2-330" aria-hidden="true" tabindex="-1"></a><span class="vs">  </span></span>
<span id="cb2-331"><a href="#cb2-331" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;line x1="240" y1="130" x2="160" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/&gt;</span></span>
<span id="cb2-332"><a href="#cb2-332" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;text x="210" y="200" font-size="10" fill="#666"&gt;109&lt;/text&gt;</span></span>
<span id="cb2-333"><a href="#cb2-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-334"><a href="#cb2-334" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;line x1="440" y1="250" x2="360" y2="130" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/&gt;</span></span>
<span id="cb2-335"><a href="#cb2-335" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;text x="410" y="200" font-size="10" fill="#666"&gt;62&lt;/text&gt;</span></span>
<span id="cb2-336"><a href="#cb2-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-337"><a href="#cb2-337" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;line x1="380" y1="130" x2="460" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/&gt;</span></span>
<span id="cb2-338"><a href="#cb2-338" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;text x="430" y="190" font-size="10" fill="#666"&gt;60&lt;/text&gt;</span></span>
<span id="cb2-339"><a href="#cb2-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-340"><a href="#cb2-340" aria-hidden="true" tabindex="-1"></a><span class="vs">  </span><span class="sc">${</span>human_emissions <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">?</span> htl<span class="op">.</span><span class="fu">html</span><span class="vs">`</span></span>
<span id="cb2-341"><a href="#cb2-341" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;line x1="300" y1="370" x2="300" y2="140" stroke="#D32F2F" stroke-width="4" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/&gt;</span></span>
<span id="cb2-342"><a href="#cb2-342" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;text x="310" y="300" font-size="12" fill="#D32F2F" font-weight="bold"&gt;+ </span><span class="sc">${</span>human_emissions<span class="sc">}</span><span class="vs"> Gt/yr&lt;/text&gt;</span></span>
<span id="cb2-343"><a href="#cb2-343" aria-hidden="true" tabindex="-1"></a><span class="vs">  `</span> <span class="op">:</span> <span class="st">""</span><span class="sc">}</span></span>
<span id="cb2-344"><a href="#cb2-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-345"><a href="#cb2-345" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/svg&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-16" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="modeling-the-effect-of-the-carbon-cycle-on-temperature" class="level2" data-number="26.1">
<h2 data-number="26.1" class="anchored" data-anchor-id="modeling-the-effect-of-the-carbon-cycle-on-temperature"><span class="header-section-number">26.1</span> Modeling the Effect of the Carbon Cycle on Temperature</h2>
<p>Explore how greenhouse gases trap heat in Earth‚Äôs atmosphere:</p>
<style>
  .phet-launch {
    max-width: 920px;
    margin: 20px auto;
  }
  .phet-card {
    display: block;
    border-radius: 14px;
    border: 1px solid rgba(0,0,0,.12);
    background: #fff;
    overflow: hidden;
    text-decoration: none;
    box-shadow: 0 10px 30px rgba(0,0,0,.10);
    transition: transform .15s ease, box-shadow .15s ease;
  }
  .phet-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 44px rgba(0,0,0,.14);
  }
  .phet-card svg {
    width: 100%;
    height: auto;
    display: block;
  }
  .phet-actions {
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: center;
    margin-top: 12px;
    flex-wrap: wrap;
  }
  .phet-btn {
    display: inline-block;
    background: #2563eb;
    color: #fff;
    padding: 10px 14px;
    border-radius: 999px;
    font-weight: 700;
    text-decoration: none;
  }
  .phet-btn:hover { filter: brightness(0.95); }
  .phet-note {
    margin-top: 10px;
    font-size: 12px;
    color: #666;
    line-height: 1.4;
    text-align: center;
  }
</style>

<div class="phet-launch">
  <a class="phet-card" href="https://phet.colorado.edu/sims/html/greenhouse-effect/latest/greenhouse-effect_en.html" target="_blank" rel="noopener">
    <svg viewbox="0 0 1200 675" role="img" aria-label="Launch PhET Greenhouse Effect simulation">
      <defs>
        <lineargradient id="bg" x1="0" x2="1" y1="0" y2="1">
          <stop offset="0" stop-color="#0ea5e9"></stop>
          <stop offset="1" stop-color="#7c3aed"></stop>
        </lineargradient>
        <lineargradient id="glow" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0" stop-color="#ffffff" stop-opacity=".95"></stop>
          <stop offset="1" stop-color="#ffffff" stop-opacity=".75"></stop>
        </lineargradient>
        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
          <fedropshadow dx="0" dy="12" stddeviation="18" flood-color="#000" flood-opacity=".28"></fedropshadow>
        </filter>
      </defs>

      <rect width="1200" height="675" fill="url(#bg)"></rect>
      <circle cx="220" cy="160" r="110" fill="#fde047" opacity=".95"></circle>
      <circle cx="220" cy="160" r="170" fill="#fde047" opacity=".22"></circle>
      <circle cx="220" cy="160" r="240" fill="#fde047" opacity=".10"></circle>

      <path d="M0 520 C180 420, 280 640, 520 540 C760 440, 920 660, 1200 520 L1200 675 L0 675 Z" fill="#0b1220" opacity=".35"></path>
      <path d="M0 560 C220 470, 300 650, 560 570 C820 490, 940 650, 1200 580 L1200 675 L0 675 Z" fill="#0b1220" opacity=".25"></path>

      <g filter="url(#shadow)">
        <rect x="90" y="180" width="1020" height="340" rx="24" fill="url(#glow)"></rect>
      </g>

      <text x="140" y="260" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="44" font-weight="800" fill="#0b1220">
        PhET Simulation: Greenhouse Effect
      </text>
      <text x="140" y="312" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="26" font-weight="600" fill="#0b1220" opacity=".82">
        Click to open in a new tab (works even if embeds are blocked)
      </text>

      <g transform="translate(140 360)">
        <rect x="0" y="0" width="360" height="86" rx="43" fill="#2563eb"></rect>
        <polygon points="64,22 64,64 102,43" fill="#fff"></polygon>
        <text x="130" y="55" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="28" font-weight="800" fill="#fff">
          Launch Sim
        </text>
      </g>

      <text x="90" y="610" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="18" fill="#fff" opacity=".88">
        Tip: if your school network blocks the site, use the link below.
      </text>
    </svg>
  </a>

  <div class="phet-actions">
    <a class="phet-btn" href="https://phet.colorado.edu/sims/html/greenhouse-effect/latest/greenhouse-effect_en.html" target="_blank" rel="noopener">Open the simulation</a>
    <a class="phet-btn" style="background:#0f172a" href="https://phet.colorado.edu/en/simulations/greenhouse-effect" target="_blank" rel="noopener">PhET sim page</a>
  </div>

  <p class="phet-note">
    Some previews (and some LMS pages) block external iframes, so this lesson uses a click-to-open launch card instead of an embed.
  </p>
</div>
<section id="simulation-investigation-tasks" class="level3 explore-box" data-number="26.1.1">
<h3 data-number="26.1.1" class="anchored" data-anchor-id="simulation-investigation-tasks"><span class="header-section-number">26.1.1</span> üî¨ Simulation Investigation Tasks</h3>
<p><strong>Task 1: Explore the Greenhouse Effect</strong> 1. Start with ‚ÄúWaves‚Äù mode to see how infrared radiation interacts with greenhouse gases 2. Compare Earth‚Äôs temperature with NO greenhouse gases vs.&nbsp;with greenhouse gases 3. Record the equilibrium temperature for each scenario</p>
<p><strong>Task 2: Compare Different Atmospheres</strong> 1. Try the Ice Age atmosphere setting 2. Try the 1750 (pre-industrial) setting 3. Try the ‚ÄúToday‚Äù setting 4. Record how temperature changes with different CO‚ÇÇ levels</p>
<p><strong>Task 3: Photon Absorption</strong> 1. Switch to ‚ÄúPhotons‚Äù mode 2. Observe what happens when infrared photons encounter CO‚ÇÇ molecules 3. Explain why more CO‚ÇÇ = more warming</p>
</section>
</section>
<section id="co‚ÇÇ-and-temperature-the-evidence" class="level2" data-number="26.2">
<h2 data-number="26.2" class="anchored" data-anchor-id="co‚ÇÇ-and-temperature-the-evidence"><span class="header-section-number">26.2</span> CO‚ÇÇ and Temperature: The Evidence</h2>
<section id="ice-core-data-800000-years-of-co‚ÇÇ-and-temperature" class="level3" data-number="26.2.1">
<h3 data-number="26.2.1" class="anchored" data-anchor-id="ice-core-data-800000-years-of-co‚ÇÇ-and-temperature"><span class="header-section-number">26.2.1</span> Ice Core Data: 800,000 Years of CO‚ÇÇ and Temperature</h3>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="490" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 489;"><span id="cb3-490"><a href="#cb3-490" aria-hidden="true" tabindex="-1"></a><span class="co">// Ice core CO2 and temperature data</span></span>
<span id="cb3-491"><a href="#cb3-491" aria-hidden="true" tabindex="-1"></a>iceCoreData <span class="op">=</span> [</span>
<span id="cb3-492"><a href="#cb3-492" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">190</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">8</span>}<span class="op">,</span></span>
<span id="cb3-493"><a href="#cb3-493" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">210</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">6</span>}<span class="op">,</span></span>
<span id="cb3-494"><a href="#cb3-494" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">600</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">240</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span>}<span class="op">,</span></span>
<span id="cb3-495"><a href="#cb3-495" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">500</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">7</span>}<span class="op">,</span></span>
<span id="cb3-496"><a href="#cb3-496" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">180</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">9</span>}<span class="op">,</span></span>
<span id="cb3-497"><a href="#cb3-497" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">6</span>}<span class="op">,</span></span>
<span id="cb3-498"><a href="#cb3-498" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">240</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">3</span>}<span class="op">,</span></span>
<span id="cb3-499"><a href="#cb3-499" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">7</span>}<span class="op">,</span></span>
<span id="cb3-500"><a href="#cb3-500" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">190</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">8</span>}<span class="op">,</span></span>
<span id="cb3-501"><a href="#cb3-501" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">220</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">5</span>}<span class="op">,</span></span>
<span id="cb3-502"><a href="#cb3-502" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">130</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">280</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="dv">2</span>}<span class="op">,</span></span>
<span id="cb3-503"><a href="#cb3-503" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">230</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span>}<span class="op">,</span></span>
<span id="cb3-504"><a href="#cb3-504" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">6</span>}<span class="op">,</span></span>
<span id="cb3-505"><a href="#cb3-505" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">180</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">9</span>}<span class="op">,</span></span>
<span id="cb3-506"><a href="#cb3-506" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">260</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span>}<span class="op">,</span></span>
<span id="cb3-507"><a href="#cb3-507" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">280</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span></span>
<span id="cb3-508"><a href="#cb3-508" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">kya</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">420</span><span class="op">,</span> <span class="dt">temp</span><span class="op">:</span> <span class="fl">1.2</span>}</span>
<span id="cb3-509"><a href="#cb3-509" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="514" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 513;"><span id="cb4-514"><a href="#cb4-514" aria-hidden="true" tabindex="-1"></a>viewof showModern <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">toggle</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Show modern CO‚ÇÇ level (420 ppm)"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">false</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="520" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 519;"><span id="cb5-520"><a href="#cb5-520" aria-hidden="true" tabindex="-1"></a>displayData <span class="op">=</span> showModern <span class="op">?</span> iceCoreData <span class="op">:</span> iceCoreData<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">kya</span> <span class="op">&gt;</span> <span class="fl">0.1</span>)</span>
<span id="cb5-521"><a href="#cb5-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-522"><a href="#cb5-522" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb5-523"><a href="#cb5-523" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"CO‚ÇÇ Concentration Over 800,000 Years"</span><span class="op">,</span></span>
<span id="cb5-524"><a href="#cb5-524" aria-hidden="true" tabindex="-1"></a>  <span class="dt">subtitle</span><span class="op">:</span> <span class="st">"Data from Antarctic ice cores"</span><span class="op">,</span></span>
<span id="cb5-525"><a href="#cb5-525" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">750</span><span class="op">,</span></span>
<span id="cb5-526"><a href="#cb5-526" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span></span>
<span id="cb5-527"><a href="#cb5-527" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Thousands of Years Ago"</span><span class="op">,</span> <span class="dt">reverse</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">800</span><span class="op">,</span> <span class="dv">0</span>]}<span class="op">,</span></span>
<span id="cb5-528"><a href="#cb5-528" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"CO‚ÇÇ (ppm)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">150</span><span class="op">,</span> showModern <span class="op">?</span> <span class="dv">450</span> <span class="op">:</span> <span class="dv">320</span>]}<span class="op">,</span></span>
<span id="cb5-529"><a href="#cb5-529" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb5-530"><a href="#cb5-530" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">280</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"#999"</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"4,4"</span>})<span class="op">,</span></span>
<span id="cb5-531"><a href="#cb5-531" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(displayData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"kya"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"co2"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"#27ae60"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb5-532"><a href="#cb5-532" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb5-533"><a href="#cb5-533" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(displayData<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">kya</span> <span class="op">===</span> <span class="dv">0</span>)<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"kya"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"co2"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#e74c3c"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb5-534"><a href="#cb5-534" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb5-535"><a href="#cb5-535" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">295</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="st">"Pre-industrial maximum: 280 ppm"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#999"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">11</span>})<span class="op">,</span></span>
<span id="cb5-536"><a href="#cb5-536" aria-hidden="true" tabindex="-1"></a>    showModern <span class="op">?</span> Plot<span class="op">.</span><span class="fu">text</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">420</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="st">"TODAY: 420 ppm"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#e74c3c"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">12</span><span class="op">,</span> <span class="dt">fontWeight</span><span class="op">:</span> <span class="st">"bold"</span>}) <span class="op">:</span> <span class="kw">null</span></span>
<span id="cb5-537"><a href="#cb5-537" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> d <span class="op">!==</span> <span class="kw">null</span>)</span>
<span id="cb5-538"><a href="#cb5-538" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="data-analysis" class="level3 check-understanding" data-number="26.2.2">
<h3 data-number="26.2.2" class="anchored" data-anchor-id="data-analysis"><span class="header-section-number">26.2.2</span> ‚úÖ Data Analysis</h3>
<ol type="1">
<li>What is the highest CO‚ÇÇ level in the past 800,000 years (before humans)?</li>
<li>What is today‚Äôs CO‚ÇÇ level?</li>
<li>How does today‚Äôs CO‚ÇÇ compare to the natural range?</li>
<li>What pattern do you notice between CO‚ÇÇ and temperature in the ice core record?</li>
<li>Based on these data, make a claim about how CO‚ÇÇ levels and temperature are related.</li>
</ol>
</section>
</section>
</section>
<section id="explore-part-2-the-albedo-effect" class="level1" data-number="27">
<h1 data-number="27"><span class="header-section-number">27</span> Explore Part 2: The Albedo Effect</h1>
<p>How is the icy surface of the poles changing, and what does that do to Earth‚Äôs temperature? Analyze albedo models and datasets to figure out how different surfaces change the surrounding system and impact temperature.</p>
<section id="what-is-albedo" class="level2" data-number="27.1">
<h2 data-number="27.1" class="anchored" data-anchor-id="what-is-albedo"><span class="header-section-number">27.1</span> What is Albedo?</h2>
<p><strong>Albedo</strong> is the measure of how much light a surface reflects. It ranges from 0 (absorbs all light) to 1 (reflects all light).</p>
<div id="cell-fig-glacier-comparison" class="cell" data-execution_count="2">
<div id="fig-glacier-comparison" class="cell-output cell-output-display quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-glacier-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">

<style>
    .comparison-container {
        position: relative;
        width: 100%;
        max-width: 800px;
        margin: 20px auto;
        overflow: hidden;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .comparison-container img {
        display: block;
        width: 100%;
        height: auto;
    }

    .base-image {
      position: relative;
      width: 100%;
      display: block;
    }

    .overlay-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 50%;
        height: 100%;
        overflow: hidden;
    }

    .slider {
        position: absolute;
        top: 0;
        left: 50%;
        width: 4px;
        height: 100%;
        background: white;
        cursor: ew-resize;
        transform: translateX(-50%);
        z-index: 10;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    .slider-button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 50px;
        height: 50px;
        background: white;
        border-radius: 50%;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: ew-resize;
    }

    .slider-button::before,
    .slider-button::after {
        content: '';
        position: absolute;
        width: 0;
        height: 0;
        border-style: solid;
    }

    .slider-button::before {
        left: 12px;
        border-width: 8px 12px 8px 0;
        border-color: transparent #2c3e50 transparent transparent;
    }

    .slider-button::after {
        right: 12px;
        border-width: 8px 0 8px 12px;
        border-color: transparent transparent transparent #2c3e50;
    }

    .labels {
        position: absolute;
        top: 20px;
        width: 100%;
        display: flex;
        justify-content: space-between;
        padding: 0 20px;
        pointer-events: none;
        z-index: 5;
    }

    .label {
        background: rgba(255, 255, 255, 0.9);
        padding: 8px 16px;
        border-radius: 6px;
        font-weight: 600;
        color: #2c3e50;
        font-size: 14px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .instructions {
        text-align: center;
        margin-top: 15px;
        color: #7f8c8d;
        font-size: 14px;
        font-style: italic;
    }
</style>

<div class="comparison-container" id="comparison">
  <img src="../images/glacier_june_2023.JPG" alt="June 14, 2023 (base image)" class="base-image figure-img">
  <div class="overlay" id="overlay">
    <img src="../images/glacier_july_2023.JPG" alt="July 24, 2023 (overlay image)" class="overlay-image figure-img">
  </div>
    <div class="slider" id="slider">
        <div class="slider-button"></div>
    </div>
    <div class="labels">
        <div class="label">June 14, 2023</div>
        <div class="label">July 24, 2023</div>
    </div>
</div>

<p class="instructions">
    Drag the slider left and right to compare the images
</p>

<script>
    const slider = document.getElementById('slider');
    const overlay = document.getElementById('overlay');
    const container = document.getElementById('comparison');

    let isDragging = false;

    function updateSliderPosition(x) {
        const containerRect = container.getBoundingClientRect();
        const containerWidth = containerRect.width;
        const position = Math.max(0, Math.min(x - containerRect.left, containerWidth));
        const percentage = (position / containerWidth) * 100;

        overlay.style.width = percentage + '%';
        slider.style.left = percentage + '%';
    }

    slider.addEventListener('mousedown', () => {
        isDragging = true;
    });

    document.addEventListener('mouseup', () => {
        isDragging = false;
    });

    document.addEventListener('mousemove', (e) => {
        if (isDragging) {
            updateSliderPosition(e.clientX);
        }
    });

    slider.addEventListener('touchstart', (e) => {
        isDragging = true;
        e.preventDefault();
    });

    document.addEventListener('touchend', () => {
        isDragging = false;
    });

    document.addEventListener('touchmove', (e) => {
        if (isDragging) {
            updateSliderPosition(e.touches[0].clientX);
        }
    });

    container.addEventListener('click', (e) => {
        updateSliderPosition(e.clientX);
    });
</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-glacier-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;27.1: Interactive comparison of Frederiksdal Glacier, Greenland between June 14 and July 24, 2023, showing dramatic ice loss over 40 days.
</figcaption>
</figure>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="767" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 766;"><span id="cb6-767"><a href="#cb6-767" aria-hidden="true" tabindex="-1"></a>albedoData <span class="op">=</span> [</span>
<span id="cb6-768"><a href="#cb6-768" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">surface</span><span class="op">:</span> <span class="st">"Fresh Snow"</span><span class="op">,</span> <span class="dt">albedo</span><span class="op">:</span> <span class="fl">0.85</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#ffffff"</span>}<span class="op">,</span></span>
<span id="cb6-769"><a href="#cb6-769" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">surface</span><span class="op">:</span> <span class="st">"Sea Ice"</span><span class="op">,</span> <span class="dt">albedo</span><span class="op">:</span> <span class="fl">0.60</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#b3e5fc"</span>}<span class="op">,</span></span>
<span id="cb6-770"><a href="#cb6-770" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">surface</span><span class="op">:</span> <span class="st">"Old Snow"</span><span class="op">,</span> <span class="dt">albedo</span><span class="op">:</span> <span class="fl">0.45</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#e0e0e0"</span>}<span class="op">,</span></span>
<span id="cb6-771"><a href="#cb6-771" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">surface</span><span class="op">:</span> <span class="st">"Desert Sand"</span><span class="op">,</span> <span class="dt">albedo</span><span class="op">:</span> <span class="fl">0.40</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#fdd835"</span>}<span class="op">,</span></span>
<span id="cb6-772"><a href="#cb6-772" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">surface</span><span class="op">:</span> <span class="st">"Grassland"</span><span class="op">,</span> <span class="dt">albedo</span><span class="op">:</span> <span class="fl">0.25</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#81c784"</span>}<span class="op">,</span></span>
<span id="cb6-773"><a href="#cb6-773" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">surface</span><span class="op">:</span> <span class="st">"Forest"</span><span class="op">,</span> <span class="dt">albedo</span><span class="op">:</span> <span class="fl">0.15</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#2e7d32"</span>}<span class="op">,</span></span>
<span id="cb6-774"><a href="#cb6-774" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">surface</span><span class="op">:</span> <span class="st">"Ocean Water"</span><span class="op">,</span> <span class="dt">albedo</span><span class="op">:</span> <span class="fl">0.06</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#1565c0"</span>}<span class="op">,</span></span>
<span id="cb6-775"><a href="#cb6-775" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">surface</span><span class="op">:</span> <span class="st">"Asphalt"</span><span class="op">,</span> <span class="dt">albedo</span><span class="op">:</span> <span class="fl">0.04</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#37474f"</span>}</span>
<span id="cb6-776"><a href="#cb6-776" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb6-777"><a href="#cb6-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-778"><a href="#cb6-778" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb6-779"><a href="#cb6-779" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Albedo of Different Surfaces"</span><span class="op">,</span></span>
<span id="cb6-780"><a href="#cb6-780" aria-hidden="true" tabindex="-1"></a>  <span class="dt">subtitle</span><span class="op">:</span> <span class="st">"Higher albedo = more reflection = less heating"</span><span class="op">,</span></span>
<span id="cb6-781"><a href="#cb6-781" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span></span>
<span id="cb6-782"><a href="#cb6-782" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb6-783"><a href="#cb6-783" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Albedo (reflection coefficient)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>]}<span class="op">,</span></span>
<span id="cb6-784"><a href="#cb6-784" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Surface Type"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> albedoData<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">surface</span>)}<span class="op">,</span></span>
<span id="cb6-785"><a href="#cb6-785" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb6-786"><a href="#cb6-786" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">barX</span>(albedoData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"albedo"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"surface"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"color"</span><span class="op">,</span> <span class="dt">sort</span><span class="op">:</span> {<span class="dt">y</span><span class="op">:</span> <span class="st">"-x"</span>}<span class="op">,</span></span>
<span id="cb6-787"><a href="#cb6-787" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb6-788"><a href="#cb6-788" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(albedoData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"albedo"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"surface"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">albedo</span> <span class="op">*</span> <span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>) <span class="op">+</span> <span class="st">"%"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">12</span>})</span>
<span id="cb6-789"><a href="#cb6-789" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb6-790"><a href="#cb6-790" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="interactive-ice-albedo-feedback-simulation" class="level2" data-number="27.2">
<h2 data-number="27.2" class="anchored" data-anchor-id="interactive-ice-albedo-feedback-simulation"><span class="header-section-number">27.2</span> Interactive: Ice-Albedo Feedback Simulation</h2>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="796" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 795;"><span id="cb7-796"><a href="#cb7-796" aria-hidden="true" tabindex="-1"></a>viewof iceExtent <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">100</span>]<span class="op">,</span> {</span>
<span id="cb7-797"><a href="#cb7-797" aria-hidden="true" tabindex="-1"></a>  <span class="dt">step</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb7-798"><a href="#cb7-798" aria-hidden="true" tabindex="-1"></a>  <span class="dt">value</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span></span>
<span id="cb7-799"><a href="#cb7-799" aria-hidden="true" tabindex="-1"></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Arctic Ice Coverage (%):"</span></span>
<span id="cb7-800"><a href="#cb7-800" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="807" data-source-offset="-49"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 806;"><span id="cb8-807"><a href="#cb8-807" aria-hidden="true" tabindex="-1"></a>avgAlbedo <span class="op">=</span> (iceExtent <span class="op">/</span> <span class="dv">100</span> <span class="op">*</span> <span class="fl">0.6</span>) <span class="op">+</span> ((<span class="dv">100</span> <span class="op">-</span> iceExtent) <span class="op">/</span> <span class="dv">100</span> <span class="op">*</span> <span class="fl">0.06</span>)</span>
<span id="cb8-808"><a href="#cb8-808" aria-hidden="true" tabindex="-1"></a>absorbedEnergy <span class="op">=</span> ((<span class="dv">1</span> <span class="op">-</span> avgAlbedo) <span class="op">*</span> <span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)</span>
<span id="cb8-809"><a href="#cb8-809" aria-hidden="true" tabindex="-1"></a>reflectedEnergy <span class="op">=</span> (avgAlbedo <span class="op">*</span> <span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)</span>
<span id="cb8-810"><a href="#cb8-810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-811"><a href="#cb8-811" aria-hidden="true" tabindex="-1"></a><span class="fu">html</span><span class="vs">`</span></span>
<span id="cb8-812"><a href="#cb8-812" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;div style="display: flex; gap: 20px; flex-wrap: wrap; margin: 20px 0;"&gt;</span></span>
<span id="cb8-813"><a href="#cb8-813" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;div style="flex: 1; min-width: 300px;"&gt;</span></span>
<span id="cb8-814"><a href="#cb8-814" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;svg width="350" height="250" style="background: linear-gradient(180deg, #87CEEB 0%, #1565c0 100%); border-radius: 10px;"&gt;</span></span>
<span id="cb8-815"><a href="#cb8-815" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;!-- Ice --&gt;</span></span>
<span id="cb8-816"><a href="#cb8-816" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;rect x="0" y="150" width="</span><span class="sc">${</span>iceExtent <span class="op">*</span> <span class="fl">3.5</span><span class="sc">}</span><span class="vs">" height="100" fill="#e3f2fd" opacity="0.9"/&gt;</span></span>
<span id="cb8-817"><a href="#cb8-817" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;!-- Ocean --&gt;</span></span>
<span id="cb8-818"><a href="#cb8-818" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;rect x="</span><span class="sc">${</span>iceExtent <span class="op">*</span> <span class="fl">3.5</span><span class="sc">}</span><span class="vs">" y="150" width="</span><span class="sc">${</span>(<span class="dv">100</span> <span class="op">-</span> iceExtent) <span class="op">*</span> <span class="fl">3.5</span><span class="sc">}</span><span class="vs">" height="100" fill="#0d47a1"/&gt;</span></span>
<span id="cb8-819"><a href="#cb8-819" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;!-- Sun rays --&gt;</span></span>
<span id="cb8-820"><a href="#cb8-820" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;line x1="175" y1="20" x2="100" y2="140" stroke="yellow" stroke-width="3" marker-end="url(#arrow)"/&gt;</span></span>
<span id="cb8-821"><a href="#cb8-821" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;line x1="175" y1="20" x2="250" y2="140" stroke="yellow" stroke-width="3"/&gt;</span></span>
<span id="cb8-822"><a href="#cb8-822" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;!-- Reflected rays from ice --&gt;</span></span>
<span id="cb8-823"><a href="#cb8-823" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;line x1="100" y1="140" x2="50" y2="60" stroke="yellow" stroke-width="2" stroke-dasharray="5,5" opacity="</span><span class="sc">${</span>iceExtent<span class="op">/</span><span class="dv">100</span><span class="sc">}</span><span class="vs">"/&gt;</span></span>
<span id="cb8-824"><a href="#cb8-824" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;!-- Labels --&gt;</span></span>
<span id="cb8-825"><a href="#cb8-825" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;text x="50" y="200" fill="white" font-size="12"&gt;Ice: </span><span class="sc">${</span>iceExtent<span class="sc">}</span><span class="vs">%&lt;/text&gt;</span></span>
<span id="cb8-826"><a href="#cb8-826" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;text x="250" y="200" fill="white" font-size="12"&gt;Ocean: </span><span class="sc">${</span><span class="dv">100</span><span class="op">-</span>iceExtent<span class="sc">}</span><span class="vs">%&lt;/text&gt;</span></span>
<span id="cb8-827"><a href="#cb8-827" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/svg&gt;</span></span>
<span id="cb8-828"><a href="#cb8-828" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/div&gt;</span></span>
<span id="cb8-829"><a href="#cb8-829" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;div style="flex: 1; min-width: 250px; padding: 20px; background: #f5f5f5; border-radius: 10px;"&gt;</span></span>
<span id="cb8-830"><a href="#cb8-830" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h4 style="margin-top: 0;"&gt;Energy Balance&lt;/h4&gt;</span></span>
<span id="cb8-831"><a href="#cb8-831" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;p&gt;&lt;strong&gt;Average Albedo:&lt;/strong&gt; </span><span class="sc">${</span>(avgAlbedo <span class="op">*</span> <span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">%&lt;/p&gt;</span></span>
<span id="cb8-832"><a href="#cb8-832" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;p&gt;&lt;strong&gt;Energy Reflected:&lt;/strong&gt; </span><span class="sc">${</span>reflectedEnergy<span class="sc">}</span><span class="vs">%&lt;/p&gt;</span></span>
<span id="cb8-833"><a href="#cb8-833" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;p&gt;&lt;strong&gt;Energy Absorbed:&lt;/strong&gt; </span><span class="sc">${</span>absorbedEnergy<span class="sc">}</span><span class="vs">%&lt;/p&gt;</span></span>
<span id="cb8-834"><a href="#cb8-834" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;div style="margin-top: 15px; padding: 10px; background: </span><span class="sc">${</span>iceExtent <span class="op">&lt;</span> <span class="dv">30</span> <span class="op">?</span> <span class="st">'#ffcdd2'</span> <span class="op">:</span> iceExtent <span class="op">&gt;</span> <span class="dv">70</span> <span class="op">?</span> <span class="st">'#c8e6c9'</span> <span class="op">:</span> <span class="st">'#fff9c4'</span><span class="sc">}</span><span class="vs">; border-radius: 5px;"&gt;</span></span>
<span id="cb8-835"><a href="#cb8-835" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;strong&gt;Effect:&lt;/strong&gt; </span><span class="sc">${</span>iceExtent <span class="op">&lt;</span> <span class="dv">30</span> <span class="op">?</span> <span class="st">'üî• High absorption ‚Üí More warming ‚Üí More ice melts'</span> <span class="op">:</span> iceExtent <span class="op">&gt;</span> <span class="dv">70</span> <span class="op">?</span> <span class="st">'‚ùÑÔ∏è High reflection ‚Üí Less warming ‚Üí Ice preserved'</span> <span class="op">:</span> <span class="st">'‚öñÔ∏è Moderate balance'</span><span class="sc">}</span></span>
<span id="cb8-836"><a href="#cb8-836" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb8-837"><a href="#cb8-837" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/div&gt;</span></span>
<span id="cb8-838"><a href="#cb8-838" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb8-839"><a href="#cb8-839" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="lab-activity-albedo-investigation" class="level2 lab-activity" data-number="27.3">
<h2 data-number="27.3" class="anchored" data-anchor-id="lab-activity-albedo-investigation"><span class="header-section-number">27.3</span> üî¨ Lab Activity: Albedo Investigation</h2>
<section id="materials" class="level3" data-number="27.3.1">
<h3 data-number="27.3.1" class="anchored" data-anchor-id="materials"><span class="header-section-number">27.3.1</span> Materials:</h3>
<ul>
<li>Two identical containers with lids</li>
<li>Black paper and white paper</li>
<li>Two thermometers</li>
<li>Heat lamp or sunny window</li>
<li>Timer</li>
</ul>
</section>
<section id="procedure" class="level3" data-number="27.3.2">
<h3 data-number="27.3.2" class="anchored" data-anchor-id="procedure"><span class="header-section-number">27.3.2</span> Procedure:</h3>
<ol type="1">
<li><strong>Setup:</strong>
<ul>
<li>Line one container with black paper (low albedo)</li>
<li>Line the other with white paper (high albedo)</li>
<li>Place a thermometer in each container</li>
</ul></li>
<li><strong>Data Collection:</strong>
<ul>
<li>Record starting temperatures</li>
<li>Place both containers under heat lamp or in direct sunlight</li>
<li>Record temperatures every 2 minutes for 20 minutes</li>
</ul></li>
<li><strong>Data Table:</strong></li>
</ol>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 29%">
<col style="width: 29%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th>Time (min)</th>
<th>Black Container (¬∞C)</th>
<th>White Container (¬∞C)</th>
<th>Difference (¬∞C)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>4</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>6</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>8</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>10</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>12</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>14</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>16</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>18</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>20</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ol start="4" type="1">
<li><strong>Analysis Questions:</strong>
<ul>
<li>Which container heated up faster? Why?</li>
<li>How does this relate to ice-covered vs.&nbsp;ice-free Arctic?</li>
<li>Predict what happens as Arctic ice melts.</li>
</ul></li>
</ol>
</section>
</section>
<div id="cell-fig-pbs-glacier-comparison" class="cell" data-execution_count="3">
<div id="fig-pbs-glacier-comparison" class="cell-output cell-output-display quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pbs-glacier-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">

<style>
  .pbs-launch-card {
    max-width: 920px;
    margin: 20px auto;
  }
  .pbs-card {
    display: block;
    border-radius: 14px;
    border: 1px solid rgba(0,0,0,.12);
    background: #fff;
    overflow: hidden;
    text-decoration: none;
    box-shadow: 0 10px 30px rgba(0,0,0,.10);
    transition: transform .15s ease, box-shadow .15s ease;
  }
  .pbs-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 44px rgba(0,0,0,.14);
  }
  .pbs-card svg {
    width: 100%;
    height: auto;
    display: block;
  }
  .pbs-actions {
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: center;
    margin-top: 12px;
    flex-wrap: wrap;
  }
  .pbs-btn {
    display: inline-block;
    background: #0277bd;
    color: #fff;
    padding: 10px 14px;
    border-radius: 999px;
    font-weight: 700;
    text-decoration: none;
    font-size: 14px;
  }
  .pbs-btn:hover { filter: brightness(0.95); }
  .pbs-note {
    margin-top: 10px;
    font-size: 12px;
    color: #666;
    line-height: 1.4;
    text-align: center;
  }
</style>

<div class="pbs-launch-card">
  <a class="pbs-card" href="https://ny.pbslearningmedia.org/resource/ipy07.sci.ess.earthsys.glacierphoto/documenting-glacial-change/" target="_blank" rel="noopener">
    <svg viewbox="0 0 1200 675" role="img" aria-label="Launch PBS LearningMedia glacier comparison interactive">
      <defs>
        <lineargradient id="pbsbg" x1="0" x2="1" y1="0" y2="1">
          <stop offset="0" stop-color="#0288d1"></stop>
          <stop offset="1" stop-color="#0d47a1"></stop>
        </lineargradient>
        <lineargradient id="pbsglow" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0" stop-color="#ffffff" stop-opacity=".95"></stop>
          <stop offset="1" stop-color="#ffffff" stop-opacity=".75"></stop>
        </lineargradient>
        <filter id="pbsshadow" x="-20%" y="-20%" width="140%" height="140%">
          <fedropshadow dx="0" dy="12" stddeviation="18" flood-color="#000" flood-opacity=".28"></fedropshadow>
        </filter>
      </defs>

      <rect width="1200" height="675" fill="url(#pbsbg)"></rect>

      <!-- Mountain/glacier shapes -->
      <path d="M0 300 L200 150 L350 250 L500 120 L700 200 L900 100 L1200 250 L1200 675 L0 675 Z" fill="#e1f5fe" opacity=".85"></path>
      <path d="M0 400 L150 280 L400 350 L600 250 L850 320 L1200 280 L1200 675 L0 675 Z" fill="#b3e5fc" opacity=".75"></path>

      <!-- Ice/snow highlights -->
      <circle cx="500" cy="120" r="60" fill="#ffffff" opacity=".6"></circle>
      <circle cx="900" cy="100" r="70" fill="#ffffff" opacity=".5"></circle>

      <g filter="url(#pbsshadow)">
        <rect x="90" y="180" width="1020" height="340" rx="24" fill="url(#pbsglow)"></rect>
      </g>

      <text x="140" y="260" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="44" font-weight="800" fill="#0b1220">
        PBS LearningMedia: Glacier Photos
      </text>
      <text x="140" y="312" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="26" font-weight="600" fill="#0b1220" opacity=".82">
        Interactive slider comparing glacier retreat over time
      </text>

      <g transform="translate(140 360)">
        <rect x="0" y="0" width="420" height="86" rx="43" fill="#0277bd"></rect>
        <polygon points="64,22 64,64 102,43" fill="#fff"></polygon>
        <text x="130" y="55" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="28" font-weight="800" fill="#fff">
          Open Interactive
        </text>
      </g>

      <text x="90" y="610" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="18" fill="#fff" opacity=".88">
        Click to launch PBS resource (opens in new tab)
      </text>
    </svg>
  </a>

  <div class="pbs-actions">
    <a class="pbs-btn" href="https://ny.pbslearningmedia.org/resource/ipy07.sci.ess.earthsys.glacierphoto/documenting-glacial-change/" target="_blank" rel="noopener">Launch PBS Glacier Interactive</a>
  </div>

  <p class="pbs-note">
    PBS LearningMedia resources work best when opened in a new browser tab. If blocked, check your school network settings.
  </p>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pbs-glacier-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;27.2: Interactive glacier photo comparison showing dramatic glacial retreat over time. Drag the slider to compare images. (Source: PBS LearningMedia)
</figcaption>
</figure>
</div>
</div>
</section>
<section id="explain-part-1-co‚ÇÇtemperature-connection" class="level1" data-number="28">
<h1 data-number="28"><span class="header-section-number">28</span> Explain Part 1: CO‚ÇÇ‚ÄìTemperature Connection</h1>
<p>How are atmospheric carbon dioxide levels and temperatures related? Construct an explanation using evidence from the simulation, ice core data, and text, describing how human activities have increased greenhouse gas levels and how that drives warming.</p>
</section>
<section id="explain-part-2-feedback-loops-in-the-climate-system" class="level1" data-number="29">
<h1 data-number="29"><span class="header-section-number">29</span> Explain Part 2: Feedback Loops in the Climate System</h1>
<section id="understanding-climate-feedbacks" class="level2 explain-box" data-number="29.1">
<h2 data-number="29.1" class="anchored" data-anchor-id="understanding-climate-feedbacks"><span class="header-section-number">29.1</span> üîÑ Understanding Climate Feedbacks</h2>
<p>A <strong>feedback loop</strong> occurs when the output of a system affects its input, creating a cycle.</p>
<section id="positive-feedback-amplifying" class="level3" data-number="29.1.1">
<h3 data-number="29.1.1" class="anchored" data-anchor-id="positive-feedback-amplifying"><span class="header-section-number">29.1.1</span> Positive Feedback (Amplifying)</h3>
<p>Makes changes BIGGER - the system amplifies itself</p>
</section>
<section id="negative-feedback-stabilizing" class="level3" data-number="29.1.2">
<h3 data-number="29.1.2" class="anchored" data-anchor-id="negative-feedback-stabilizing"><span class="header-section-number">29.1.2</span> Negative Feedback (Stabilizing)</h3>
<p>Makes changes SMALLER - the system stabilizes itself</p>
</section>
</section>
<section id="interactive-feedback-loop-diagram" class="level2" data-number="29.2">
<h2 data-number="29.2" class="anchored" data-anchor-id="interactive-feedback-loop-diagram"><span class="header-section-number">29.2</span> Interactive Feedback Loop Diagram</h2>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="1033" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1032;"><span id="cb9-1033"><a href="#cb9-1033" aria-hidden="true" tabindex="-1"></a>viewof feedbackTypeSimple <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>([<span class="st">"Ice-Albedo Feedback"</span><span class="op">,</span> <span class="st">"Water Vapor Feedback"</span><span class="op">,</span> <span class="st">"Permafrost Feedback"</span>]<span class="op">,</span> {</span>
<span id="cb9-1034"><a href="#cb9-1034" aria-hidden="true" tabindex="-1"></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Select feedback loop:"</span><span class="op">,</span></span>
<span id="cb9-1035"><a href="#cb9-1035" aria-hidden="true" tabindex="-1"></a>  <span class="dt">value</span><span class="op">:</span> <span class="st">"Ice-Albedo Feedback"</span></span>
<span id="cb9-1036"><a href="#cb9-1036" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb10" data-startfrom="1042" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1041;"><span id="cb10-1042"><a href="#cb10-1042" aria-hidden="true" tabindex="-1"></a>feedbackInfo <span class="op">=</span> {</span>
<span id="cb10-1043"><a href="#cb10-1043" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (feedbackTypeSimple <span class="op">===</span> <span class="st">"Ice-Albedo Feedback"</span>) {</span>
<span id="cb10-1044"><a href="#cb10-1044" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb10-1045"><a href="#cb10-1045" aria-hidden="true" tabindex="-1"></a>      <span class="dt">steps</span><span class="op">:</span> [</span>
<span id="cb10-1046"><a href="#cb10-1046" aria-hidden="true" tabindex="-1"></a>        <span class="st">"1. Temperature increases"</span><span class="op">,</span></span>
<span id="cb10-1047"><a href="#cb10-1047" aria-hidden="true" tabindex="-1"></a>        <span class="st">"2. Ice and snow melt"</span><span class="op">,</span></span>
<span id="cb10-1048"><a href="#cb10-1048" aria-hidden="true" tabindex="-1"></a>        <span class="st">"3. Darker ocean/land exposed"</span><span class="op">,</span></span>
<span id="cb10-1049"><a href="#cb10-1049" aria-hidden="true" tabindex="-1"></a>        <span class="st">"4. More solar radiation absorbed"</span><span class="op">,</span></span>
<span id="cb10-1050"><a href="#cb10-1050" aria-hidden="true" tabindex="-1"></a>        <span class="st">"5. Temperature increases MORE"</span></span>
<span id="cb10-1051"><a href="#cb10-1051" aria-hidden="true" tabindex="-1"></a>      ]<span class="op">,</span></span>
<span id="cb10-1052"><a href="#cb10-1052" aria-hidden="true" tabindex="-1"></a>      <span class="dt">color</span><span class="op">:</span> <span class="st">"#3498db"</span><span class="op">,</span></span>
<span id="cb10-1053"><a href="#cb10-1053" aria-hidden="true" tabindex="-1"></a>      <span class="dt">icon</span><span class="op">:</span> <span class="st">"üßä"</span></span>
<span id="cb10-1054"><a href="#cb10-1054" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-1055"><a href="#cb10-1055" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (feedbackTypeSimple <span class="op">===</span> <span class="st">"Water Vapor Feedback"</span>) {</span>
<span id="cb10-1056"><a href="#cb10-1056" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb10-1057"><a href="#cb10-1057" aria-hidden="true" tabindex="-1"></a>      <span class="dt">steps</span><span class="op">:</span> [</span>
<span id="cb10-1058"><a href="#cb10-1058" aria-hidden="true" tabindex="-1"></a>        <span class="st">"1. Temperature increases"</span><span class="op">,</span></span>
<span id="cb10-1059"><a href="#cb10-1059" aria-hidden="true" tabindex="-1"></a>        <span class="st">"2. More water evaporates"</span><span class="op">,</span></span>
<span id="cb10-1060"><a href="#cb10-1060" aria-hidden="true" tabindex="-1"></a>        <span class="st">"3. Water vapor is a greenhouse gas"</span><span class="op">,</span></span>
<span id="cb10-1061"><a href="#cb10-1061" aria-hidden="true" tabindex="-1"></a>        <span class="st">"4. More heat trapped in atmosphere"</span><span class="op">,</span></span>
<span id="cb10-1062"><a href="#cb10-1062" aria-hidden="true" tabindex="-1"></a>        <span class="st">"5. Temperature increases MORE"</span></span>
<span id="cb10-1063"><a href="#cb10-1063" aria-hidden="true" tabindex="-1"></a>      ]<span class="op">,</span></span>
<span id="cb10-1064"><a href="#cb10-1064" aria-hidden="true" tabindex="-1"></a>      <span class="dt">color</span><span class="op">:</span> <span class="st">"#9b59b6"</span><span class="op">,</span></span>
<span id="cb10-1065"><a href="#cb10-1065" aria-hidden="true" tabindex="-1"></a>      <span class="dt">icon</span><span class="op">:</span> <span class="st">"üí®"</span></span>
<span id="cb10-1066"><a href="#cb10-1066" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-1067"><a href="#cb10-1067" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb10-1068"><a href="#cb10-1068" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb10-1069"><a href="#cb10-1069" aria-hidden="true" tabindex="-1"></a>      <span class="dt">steps</span><span class="op">:</span> [</span>
<span id="cb10-1070"><a href="#cb10-1070" aria-hidden="true" tabindex="-1"></a>        <span class="st">"1. Temperature increases"</span><span class="op">,</span></span>
<span id="cb10-1071"><a href="#cb10-1071" aria-hidden="true" tabindex="-1"></a>        <span class="st">"2. Permafrost thaws"</span><span class="op">,</span></span>
<span id="cb10-1072"><a href="#cb10-1072" aria-hidden="true" tabindex="-1"></a>        <span class="st">"3. Trapped methane/CO‚ÇÇ released"</span><span class="op">,</span></span>
<span id="cb10-1073"><a href="#cb10-1073" aria-hidden="true" tabindex="-1"></a>        <span class="st">"4. More greenhouse gases in atmosphere"</span><span class="op">,</span></span>
<span id="cb10-1074"><a href="#cb10-1074" aria-hidden="true" tabindex="-1"></a>        <span class="st">"5. Temperature increases MORE"</span></span>
<span id="cb10-1075"><a href="#cb10-1075" aria-hidden="true" tabindex="-1"></a>      ]<span class="op">,</span></span>
<span id="cb10-1076"><a href="#cb10-1076" aria-hidden="true" tabindex="-1"></a>      <span class="dt">color</span><span class="op">:</span> <span class="st">"#e67e22"</span><span class="op">,</span></span>
<span id="cb10-1077"><a href="#cb10-1077" aria-hidden="true" tabindex="-1"></a>      <span class="dt">icon</span><span class="op">:</span> <span class="st">"üèîÔ∏è"</span></span>
<span id="cb10-1078"><a href="#cb10-1078" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-1079"><a href="#cb10-1079" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-1080"><a href="#cb10-1080" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-1081"><a href="#cb10-1081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-1082"><a href="#cb10-1082" aria-hidden="true" tabindex="-1"></a><span class="fu">html</span><span class="vs">`</span></span>
<span id="cb10-1083"><a href="#cb10-1083" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;div style="background: linear-gradient(135deg, </span><span class="sc">${</span>feedbackInfo<span class="op">.</span><span class="at">color</span><span class="sc">}</span><span class="vs">22, </span><span class="sc">${</span>feedbackInfo<span class="op">.</span><span class="at">color</span><span class="sc">}</span><span class="vs">44); padding: 25px; border-radius: 15px; border-left: 5px solid </span><span class="sc">${</span>feedbackInfo<span class="op">.</span><span class="at">color</span><span class="sc">}</span><span class="vs">;"&gt;</span></span>
<span id="cb10-1084"><a href="#cb10-1084" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;h3 style="margin-top: 0;"&gt;</span><span class="sc">${</span>feedbackInfo<span class="op">.</span><span class="at">icon</span><span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>feedbackType<span class="sc">}</span><span class="vs">&lt;/h3&gt;</span></span>
<span id="cb10-1085"><a href="#cb10-1085" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;div style="display: flex; flex-direction: column; gap: 10px;"&gt;</span></span>
<span id="cb10-1086"><a href="#cb10-1086" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>feedbackInfo<span class="op">.</span><span class="at">steps</span><span class="op">.</span><span class="fu">map</span>((step<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="vs">`</span></span>
<span id="cb10-1087"><a href="#cb10-1087" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;div style="display: flex; align-items: center; gap: 10px;"&gt;</span></span>
<span id="cb10-1088"><a href="#cb10-1088" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;div style="width: 30px; height: 30px; background: </span><span class="sc">${</span>feedbackInfo<span class="op">.</span><span class="at">color</span><span class="sc">}</span><span class="vs">; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;"&gt;</span><span class="sc">${</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="vs">&lt;/div&gt;</span></span>
<span id="cb10-1089"><a href="#cb10-1089" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;div style="flex: 1; padding: 10px; background: white; border-radius: 5px;"&gt;</span><span class="sc">${</span>step<span class="op">.</span><span class="fu">substring</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs">&lt;/div&gt;</span></span>
<span id="cb10-1090"><a href="#cb10-1090" aria-hidden="true" tabindex="-1"></a><span class="vs">        </span><span class="sc">${</span>i <span class="op">&lt;</span> feedbackInfo<span class="op">.</span><span class="at">steps</span><span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span> <span class="op">?</span> <span class="st">'&lt;div style="font-size: 20px;"&gt;‚Üì&lt;/div&gt;'</span> <span class="op">:</span> <span class="st">'&lt;div style="font-size: 20px;"&gt;üîÑ&lt;/div&gt;'</span><span class="sc">}</span></span>
<span id="cb10-1091"><a href="#cb10-1091" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;/div&gt;</span></span>
<span id="cb10-1092"><a href="#cb10-1092" aria-hidden="true" tabindex="-1"></a><span class="vs">    `</span>)<span class="op">.</span><span class="fu">join</span>(<span class="st">''</span>)<span class="sc">}</span></span>
<span id="cb10-1093"><a href="#cb10-1093" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/div&gt;</span></span>
<span id="cb10-1094"><a href="#cb10-1094" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;p style="margin-top: 15px; font-style: italic;"&gt;&lt;strong&gt;Type:&lt;/strong&gt; Positive (amplifying) feedback - makes warming worse!&lt;/p&gt;</span></span>
<span id="cb10-1095"><a href="#cb10-1095" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb10-1096"><a href="#cb10-1096" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="why-the-arctic-warms-4x-faster" class="level2 feedback-loop" data-number="29.3">
<h2 data-number="29.3" class="anchored" data-anchor-id="why-the-arctic-warms-4x-faster"><span class="header-section-number">29.3</span> üåç Why the Arctic Warms ~4x Faster</h2>
<p>The <strong>Ice-Albedo Feedback</strong> explains Arctic amplification:</p>
<ol type="1">
<li><strong>Arctic starts bright</strong>: thick ice/snow with high albedo (~60%)</li>
<li><strong>Warming melts ice</strong>: exposes darker ocean/land (albedo ~6%)</li>
<li><strong>Energy jump</strong>: darker surfaces absorb ~10x more solar energy</li>
<li><strong>Faster local warming</strong>: extra absorbed heat accelerates melt</li>
<li><strong>Runaway loop</strong>: more melt ‚Üí lower albedo ‚Üí more absorption</li>
</ol>
<p>This positive feedback is why the Arctic is the ‚Äúcanary in the coal mine.‚Äù It also explains why Arctic warming is much higher than the global average.</p>
</section>
<section id="arctic-sea-ice-decline" class="level2" data-number="29.4">
<h2 data-number="29.4" class="anchored" data-anchor-id="arctic-sea-ice-decline"><span class="header-section-number">29.4</span> Arctic Sea Ice Decline</h2>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb11" data-startfrom="1117" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1116;"><span id="cb11-1117"><a href="#cb11-1117" aria-hidden="true" tabindex="-1"></a>seaIceData <span class="op">=</span> [</span>
<span id="cb11-1118"><a href="#cb11-1118" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1980</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">7.8</span>}<span class="op">,</span></span>
<span id="cb11-1119"><a href="#cb11-1119" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1985</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">7.5</span>}<span class="op">,</span></span>
<span id="cb11-1120"><a href="#cb11-1120" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1990</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">7.4</span>}<span class="op">,</span></span>
<span id="cb11-1121"><a href="#cb11-1121" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1995</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">7.1</span>}<span class="op">,</span></span>
<span id="cb11-1122"><a href="#cb11-1122" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2000</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">6.8</span>}<span class="op">,</span></span>
<span id="cb11-1123"><a href="#cb11-1123" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2005</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">6.2</span>}<span class="op">,</span></span>
<span id="cb11-1124"><a href="#cb11-1124" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2007</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">4.3</span>}<span class="op">,</span></span>
<span id="cb11-1125"><a href="#cb11-1125" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2010</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">5.0</span>}<span class="op">,</span></span>
<span id="cb11-1126"><a href="#cb11-1126" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2012</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">3.6</span>}<span class="op">,</span></span>
<span id="cb11-1127"><a href="#cb11-1127" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2015</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">4.6</span>}<span class="op">,</span></span>
<span id="cb11-1128"><a href="#cb11-1128" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2020</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">3.9</span>}<span class="op">,</span></span>
<span id="cb11-1129"><a href="#cb11-1129" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2024</span><span class="op">,</span> <span class="dt">extent</span><span class="op">:</span> <span class="fl">4.2</span>}</span>
<span id="cb11-1130"><a href="#cb11-1130" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb11-1131"><a href="#cb11-1131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-1132"><a href="#cb11-1132" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb11-1133"><a href="#cb11-1133" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"September Arctic Sea Ice Extent"</span><span class="op">,</span></span>
<span id="cb11-1134"><a href="#cb11-1134" aria-hidden="true" tabindex="-1"></a>  <span class="dt">subtitle</span><span class="op">:</span> <span class="st">"Million square kilometers"</span><span class="op">,</span></span>
<span id="cb11-1135"><a href="#cb11-1135" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span></span>
<span id="cb11-1136"><a href="#cb11-1136" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb11-1137"><a href="#cb11-1137" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Year"</span>}<span class="op">,</span></span>
<span id="cb11-1138"><a href="#cb11-1138" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Sea Ice Extent (million km¬≤)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">9</span>]}<span class="op">,</span></span>
<span id="cb11-1139"><a href="#cb11-1139" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb11-1140"><a href="#cb11-1140" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">areaY</span>(seaIceData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"extent"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#81d4fa"</span><span class="op">,</span> <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb11-1141"><a href="#cb11-1141" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb11-1142"><a href="#cb11-1142" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(seaIceData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"extent"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"#0277bd"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb11-1143"><a href="#cb11-1143" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb11-1144"><a href="#cb11-1144" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(seaIceData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"extent"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#01579b"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb11-1145"><a href="#cb11-1145" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb11-1146"><a href="#cb11-1146" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(seaIceData<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">year</span> <span class="op">===</span> <span class="dv">2012</span>)<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"extent"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#e74c3c"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span></span>
<span id="cb11-1147"><a href="#cb11-1147" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb11-1148"><a href="#cb11-1148" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(seaIceData<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">year</span> <span class="op">===</span> <span class="dv">2012</span>)<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"extent"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="st">"Record Low: 2012"</span><span class="op">,</span> <span class="dt">dy</span><span class="op">:</span> <span class="op">-</span><span class="dv">15</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#e74c3c"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">11</span>})<span class="op">,</span></span>
<span id="cb11-1149"><a href="#cb11-1149" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(seaIceData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"extent"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"#e74c3c"</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"5,5"</span>})</span>
<span id="cb11-1150"><a href="#cb11-1150" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb11-1151"><a href="#cb11-1151" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<section id="check-your-understanding" class="level3 check-understanding" data-number="29.4.1">
<h3 data-number="29.4.1" class="anchored" data-anchor-id="check-your-understanding"><span class="header-section-number">29.4.1</span> ‚úÖ Check Your Understanding</h3>
<ol type="1">
<li>What type of feedback is the ice-albedo feedback? (positive or negative)</li>
<li>Why does exposing dark ocean water lead to more warming?</li>
<li>Calculate: If ice (albedo 0.6) is replaced by ocean (albedo 0.06), how much more energy is absorbed?</li>
<li>How does the ice-albedo feedback help explain why the Arctic warms faster than the rest of the planet?</li>
</ol>
</section>
</section>
</section>
<section id="elaborate-greenhouse-gases-albedo-together" class="level1" data-number="30">
<h1 data-number="30"><span class="header-section-number">30</span> Elaborate: Greenhouse Gases + Albedo Together</h1>
<p>How do greenhouse gases and albedo interact? Model the combined effects of greenhouse gas and albedo feedback loops to explain the rapid rate of change of Earth‚Äôs temperature and make claims about what could happen in the future based on historical and current evidence.</p>
<section id="co‚ÇÇ-and-human-activity" class="level2" data-number="30.1">
<h2 data-number="30.1" class="anchored" data-anchor-id="co‚ÇÇ-and-human-activity"><span class="header-section-number">30.1</span> CO‚ÇÇ and Human Activity</h2>
</section>
<section id="where-does-the-co‚ÇÇ-come-from" class="level2" data-number="30.2">
<h2 data-number="30.2" class="anchored" data-anchor-id="where-does-the-co‚ÇÇ-come-from"><span class="header-section-number">30.2</span> Where Does the CO‚ÇÇ Come From?</h2>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb12" data-startfrom="1173" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1172;"><span id="cb12-1173"><a href="#cb12-1173" aria-hidden="true" tabindex="-1"></a>co2SourcesData <span class="op">=</span> [</span>
<span id="cb12-1174"><a href="#cb12-1174" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">source</span><span class="op">:</span> <span class="st">"Electricity &amp; Heat"</span><span class="op">,</span> <span class="dt">emissions</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#e74c3c"</span>}<span class="op">,</span></span>
<span id="cb12-1175"><a href="#cb12-1175" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">source</span><span class="op">:</span> <span class="st">"Transportation"</span><span class="op">,</span> <span class="dt">emissions</span><span class="op">:</span> <span class="dv">16</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#3498db"</span>}<span class="op">,</span></span>
<span id="cb12-1176"><a href="#cb12-1176" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">source</span><span class="op">:</span> <span class="st">"Manufacturing"</span><span class="op">,</span> <span class="dt">emissions</span><span class="op">:</span> <span class="dv">21</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#f39c12"</span>}<span class="op">,</span></span>
<span id="cb12-1177"><a href="#cb12-1177" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">source</span><span class="op">:</span> <span class="st">"Agriculture &amp; Land Use"</span><span class="op">,</span> <span class="dt">emissions</span><span class="op">:</span> <span class="dv">24</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#27ae60"</span>}<span class="op">,</span></span>
<span id="cb12-1178"><a href="#cb12-1178" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">source</span><span class="op">:</span> <span class="st">"Buildings"</span><span class="op">,</span> <span class="dt">emissions</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#9b59b6"</span>}<span class="op">,</span></span>
<span id="cb12-1179"><a href="#cb12-1179" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">source</span><span class="op">:</span> <span class="st">"Other Energy"</span><span class="op">,</span> <span class="dt">emissions</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#95a5a6"</span>}</span>
<span id="cb12-1180"><a href="#cb12-1180" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb12-1181"><a href="#cb12-1181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-1182"><a href="#cb12-1182" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb12-1183"><a href="#cb12-1183" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Global Greenhouse Gas Emissions by Sector"</span><span class="op">,</span></span>
<span id="cb12-1184"><a href="#cb12-1184" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">600</span><span class="op">,</span></span>
<span id="cb12-1185"><a href="#cb12-1185" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb12-1186"><a href="#cb12-1186" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Percentage of Global Emissions"</span>}<span class="op">,</span></span>
<span id="cb12-1187"><a href="#cb12-1187" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Sector"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> co2SourcesData<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">source</span>)}<span class="op">,</span></span>
<span id="cb12-1188"><a href="#cb12-1188" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb12-1189"><a href="#cb12-1189" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">barX</span>(co2SourcesData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"emissions"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"source"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"color"</span><span class="op">,</span> <span class="dt">sort</span><span class="op">:</span> {<span class="dt">y</span><span class="op">:</span> <span class="st">"-x"</span>}<span class="op">,</span></span>
<span id="cb12-1190"><a href="#cb12-1190" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb12-1191"><a href="#cb12-1191" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(co2SourcesData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"emissions"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"source"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">emissions</span> <span class="op">+</span> <span class="st">"%"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">12</span><span class="op">,</span> <span class="dt">fontWeight</span><span class="op">:</span> <span class="st">"bold"</span>})</span>
<span id="cb12-1192"><a href="#cb12-1192" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb12-1193"><a href="#cb12-1193" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="co‚ÇÇ-growth-over-time" class="level2" data-number="30.3">
<h2 data-number="30.3" class="anchored" data-anchor-id="co‚ÇÇ-growth-over-time"><span class="header-section-number">30.3</span> CO‚ÇÇ Growth Over Time</h2>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb13" data-startfrom="1200" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1199;"><span id="cb13-1200"><a href="#cb13-1200" aria-hidden="true" tabindex="-1"></a>co2GrowthData <span class="op">=</span> [</span>
<span id="cb13-1201"><a href="#cb13-1201" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1750</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">280</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Pre-industrial"</span>}<span class="op">,</span></span>
<span id="cb13-1202"><a href="#cb13-1202" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1800</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">283</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Historical"</span>}<span class="op">,</span></span>
<span id="cb13-1203"><a href="#cb13-1203" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1850</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">288</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Historical"</span>}<span class="op">,</span></span>
<span id="cb13-1204"><a href="#cb13-1204" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1900</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">296</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Historical"</span>}<span class="op">,</span></span>
<span id="cb13-1205"><a href="#cb13-1205" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1950</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">311</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Historical"</span>}<span class="op">,</span></span>
<span id="cb13-1206"><a href="#cb13-1206" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1960</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">317</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Mauna Loa"</span>}<span class="op">,</span></span>
<span id="cb13-1207"><a href="#cb13-1207" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1970</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">326</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Mauna Loa"</span>}<span class="op">,</span></span>
<span id="cb13-1208"><a href="#cb13-1208" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1980</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">339</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Mauna Loa"</span>}<span class="op">,</span></span>
<span id="cb13-1209"><a href="#cb13-1209" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">1990</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">354</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Mauna Loa"</span>}<span class="op">,</span></span>
<span id="cb13-1210"><a href="#cb13-1210" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2000</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">369</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Mauna Loa"</span>}<span class="op">,</span></span>
<span id="cb13-1211"><a href="#cb13-1211" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2010</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">390</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Mauna Loa"</span>}<span class="op">,</span></span>
<span id="cb13-1212"><a href="#cb13-1212" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2020</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">414</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Mauna Loa"</span>}<span class="op">,</span></span>
<span id="cb13-1213"><a href="#cb13-1213" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">year</span><span class="op">:</span> <span class="dv">2024</span><span class="op">,</span> <span class="dt">co2</span><span class="op">:</span> <span class="dv">422</span><span class="op">,</span> <span class="dt">source</span><span class="op">:</span> <span class="st">"Mauna Loa"</span>}</span>
<span id="cb13-1214"><a href="#cb13-1214" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb13-1215"><a href="#cb13-1215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-1216"><a href="#cb13-1216" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb13-1217"><a href="#cb13-1217" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Atmospheric CO‚ÇÇ Concentration (1750-2024)"</span><span class="op">,</span></span>
<span id="cb13-1218"><a href="#cb13-1218" aria-hidden="true" tabindex="-1"></a>  <span class="dt">subtitle</span><span class="op">:</span> <span class="st">"Parts per million (ppm)"</span><span class="op">,</span></span>
<span id="cb13-1219"><a href="#cb13-1219" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span></span>
<span id="cb13-1220"><a href="#cb13-1220" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb13-1221"><a href="#cb13-1221" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Year"</span>}<span class="op">,</span></span>
<span id="cb13-1222"><a href="#cb13-1222" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"CO‚ÇÇ (ppm)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">270</span><span class="op">,</span> <span class="dv">440</span>]}<span class="op">,</span></span>
<span id="cb13-1223"><a href="#cb13-1223" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb13-1224"><a href="#cb13-1224" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">280</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"#27ae60"</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"5,5"</span>})<span class="op">,</span></span>
<span id="cb13-1225"><a href="#cb13-1225" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">1800</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">275</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="st">"Pre-industrial level: 280 ppm"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#27ae60"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">10</span>})<span class="op">,</span></span>
<span id="cb13-1226"><a href="#cb13-1226" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">350</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"#f39c12"</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"5,5"</span>})<span class="op">,</span></span>
<span id="cb13-1227"><a href="#cb13-1227" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">1800</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">345</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="st">"</span><span class="sc">\"</span><span class="st">Safe</span><span class="sc">\"</span><span class="st"> level: 350 ppm"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#f39c12"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">10</span>})<span class="op">,</span></span>
<span id="cb13-1228"><a href="#cb13-1228" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(co2GrowthData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"co2"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"#e74c3c"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb13-1229"><a href="#cb13-1229" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb13-1230"><a href="#cb13-1230" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(co2GrowthData<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"co2"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"#c0392b"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></span>
<span id="cb13-1231"><a href="#cb13-1231" aria-hidden="true" tabindex="-1"></a>        <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})</span>
<span id="cb13-1232"><a href="#cb13-1232" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb13-1233"><a href="#cb13-1233" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<section id="key-ideas-climate-feedbacks" class="level3 key-idea" data-number="30.3.1">
<h3 data-number="30.3.1" class="anchored" data-anchor-id="key-ideas-climate-feedbacks"><span class="header-section-number">30.3.1</span> üí° Key Ideas: Climate Feedbacks</h3>
<ol type="1">
<li><strong>The greenhouse effect</strong> explains why increasing CO‚ÇÇ leads to global warming</li>
<li><strong>Albedo</strong> is the tendency of a surface to reflect or absorb radiation</li>
<li><strong>Ice has high albedo</strong> (~60%) compared to seawater (~6%)</li>
<li><strong>As ice melts, more radiation is absorbed</strong>, causing more warming ‚Üí positive feedback</li>
<li><strong>Arctic amplification</strong> (4x faster warming) is explained by ice-albedo feedback</li>
<li><strong>Multiple feedback loops</strong> (ice-albedo, water vapor, permafrost) amplify climate change</li>
<li><strong>Human activities</strong> have dramatically increased CO‚ÇÇ levels beyond natural ranges</li>
</ol>
</section>
</section>
</section>
<section id="evaluate-modeling-climate-feedbacks" class="level1" data-number="31">
<h1 data-number="31"><span class="header-section-number">31</span> Evaluate: Modeling Climate Feedbacks</h1>
<section id="performance-task-check-in" class="level2 evaluate-box" data-number="31.1">
<h2 data-number="31.1" class="anchored" data-anchor-id="performance-task-check-in"><span class="header-section-number">31.1</span> üìä Performance Task Check-In</h2>
<p>Using what you‚Äôve learned, you can now explain:</p>
<ol type="1">
<li><strong>Why scientists are confident humans are causing climate change:</strong>
<ul>
<li>CO‚ÇÇ levels are far beyond natural range (420 ppm vs.&nbsp;max 280 ppm)</li>
<li>The timing matches industrialization</li>
<li>Natural factors (Milankovitch cycles, solar output) can‚Äôt explain current warming</li>
</ul></li>
<li><strong>Why the Arctic is warming so fast:</strong>
<ul>
<li>Ice-albedo feedback amplifies warming</li>
<li>As ice melts, dark ocean absorbs more energy</li>
<li>This creates a self-reinforcing cycle</li>
</ul></li>
<li><strong>How feedbacks make climate change worse:</strong>
<ul>
<li>Ice-albedo: melting ice ‚Üí more absorption ‚Üí more melting</li>
<li>Water vapor: warming ‚Üí more evaporation ‚Üí more greenhouse effect</li>
<li>Permafrost: warming ‚Üí methane release ‚Üí more warming</li>
</ul></li>
<li><strong>Claim with evidence:</strong> Use data from this lesson to explain how human activities are driving destabilizing feedback loops today.</li>
</ol>
</section>
<section id="create-your-feedback-diagram" class="level2" data-number="31.2">
<h2 data-number="31.2" class="anchored" data-anchor-id="create-your-feedback-diagram"><span class="header-section-number">31.2</span> Create Your Feedback Diagram</h2>
<section id="activity-draw-your-own-feedback-loop" class="level3 lab-activity" data-number="31.2.1">
<h3 data-number="31.2.1" class="anchored" data-anchor-id="activity-draw-your-own-feedback-loop"><span class="header-section-number">31.2.1</span> üìù Activity: Draw Your Own Feedback Loop</h3>
<p>Create a diagram showing how multiple feedback loops interact:</p>
<ol type="1">
<li>Start with ‚ÄúHuman emissions increase CO‚ÇÇ‚Äù</li>
<li>Show how this leads to warming</li>
<li>Include ice-albedo feedback</li>
<li>Include water vapor feedback</li>
<li>Show how they connect and amplify each other</li>
<li>Indicate which parts are observed data vs.&nbsp;projected consequences</li>
</ol>
<p><strong>Guiding Questions:</strong> - Where do humans enter this system? - Which parts of the cycle have we already observed? - What might happen if Arctic ice disappears entirely in summer? - Are there any potential negative (stabilizing) feedbacks?</p>
</section>
</section>
</section>
<section id="interactive-carbon-cycle-flow-diagram" class="level1" data-number="32">
<h1 data-number="32"><span class="header-section-number">32</span> Interactive Carbon Cycle Flow Diagram</h1>
<p>This visualization shows how carbon flows between Earth‚Äôs major reservoirs changed after the Industrial Revolution.</p>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb14" data-startfrom="1302" data-source-offset="-41"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1301;"><span id="cb14-1302"><a href="#cb14-1302" aria-hidden="true" tabindex="-1"></a>carbonData <span class="op">=</span> {</span>
<span id="cb14-1303"><a href="#cb14-1303" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> preIndustrial <span class="op">=</span> {</span>
<span id="cb14-1304"><a href="#cb14-1304" aria-hidden="true" tabindex="-1"></a>    <span class="dt">atmosphere</span><span class="op">:</span> <span class="dv">560</span><span class="op">,</span></span>
<span id="cb14-1305"><a href="#cb14-1305" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ocean</span><span class="op">:</span> <span class="dv">38000</span><span class="op">,</span></span>
<span id="cb14-1306"><a href="#cb14-1306" aria-hidden="true" tabindex="-1"></a>    <span class="dt">landBiomass</span><span class="op">:</span> <span class="dv">2160</span><span class="op">,</span></span>
<span id="cb14-1307"><a href="#cb14-1307" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fossilFuels</span><span class="op">:</span> <span class="dv">10000</span><span class="op">,</span></span>
<span id="cb14-1308"><a href="#cb14-1308" aria-hidden="true" tabindex="-1"></a>    <span class="dt">flows</span><span class="op">:</span> [</span>
<span id="cb14-1309"><a href="#cb14-1309" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"ocean"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span></span>
<span id="cb14-1310"><a href="#cb14-1310" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"ocean"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span></span>
<span id="cb14-1311"><a href="#cb14-1311" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"landBiomass"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">60</span>}<span class="op">,</span></span>
<span id="cb14-1312"><a href="#cb14-1312" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"landBiomass"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">62</span>}<span class="op">,</span></span>
<span id="cb14-1313"><a href="#cb14-1313" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"fossilFuels"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span>}</span>
<span id="cb14-1314"><a href="#cb14-1314" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb14-1315"><a href="#cb14-1315" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb14-1316"><a href="#cb14-1316" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1317"><a href="#cb14-1317" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> postIndustrial <span class="op">=</span> {</span>
<span id="cb14-1318"><a href="#cb14-1318" aria-hidden="true" tabindex="-1"></a>    <span class="dt">atmosphere</span><span class="op">:</span> <span class="dv">840</span><span class="op">,</span></span>
<span id="cb14-1319"><a href="#cb14-1319" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ocean</span><span class="op">:</span> <span class="dv">41000</span><span class="op">,</span></span>
<span id="cb14-1320"><a href="#cb14-1320" aria-hidden="true" tabindex="-1"></a>    <span class="dt">landBiomass</span><span class="op">:</span> <span class="dv">2500</span><span class="op">,</span></span>
<span id="cb14-1321"><a href="#cb14-1321" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fossilFuels</span><span class="op">:</span> <span class="dv">9000</span><span class="op">,</span></span>
<span id="cb14-1322"><a href="#cb14-1322" aria-hidden="true" tabindex="-1"></a>    <span class="dt">flows</span><span class="op">:</span> [</span>
<span id="cb14-1323"><a href="#cb14-1323" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"ocean"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span></span>
<span id="cb14-1324"><a href="#cb14-1324" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"ocean"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span></span>
<span id="cb14-1325"><a href="#cb14-1325" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"landBiomass"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">60</span>}<span class="op">,</span></span>
<span id="cb14-1326"><a href="#cb14-1326" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"landBiomass"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">63</span>}<span class="op">,</span></span>
<span id="cb14-1327"><a href="#cb14-1327" aria-hidden="true" tabindex="-1"></a>      {<span class="dt">from</span><span class="op">:</span> <span class="st">"fossilFuels"</span><span class="op">,</span> <span class="dt">to</span><span class="op">:</span> <span class="st">"atmosphere"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="fl">9.4</span>}</span>
<span id="cb14-1328"><a href="#cb14-1328" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb14-1329"><a href="#cb14-1329" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb14-1330"><a href="#cb14-1330" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1331"><a href="#cb14-1331" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> {preIndustrial<span class="op">,</span> postIndustrial}<span class="op">;</span></span>
<span id="cb14-1332"><a href="#cb14-1332" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-1333"><a href="#cb14-1333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-1334"><a href="#cb14-1334" aria-hidden="true" tabindex="-1"></a><span class="co">// Time period selector</span></span>
<span id="cb14-1335"><a href="#cb14-1335" aria-hidden="true" tabindex="-1"></a>viewof timePeriod <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb14-1336"><a href="#cb14-1336" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Pre-Industrial Revolution (1750)"</span><span class="op">,</span> <span class="st">"Post-Industrial Revolution (2020)"</span>]<span class="op">,</span></span>
<span id="cb14-1337"><a href="#cb14-1337" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Pre-Industrial Revolution (1750)"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Time Period"</span>}</span>
<span id="cb14-1338"><a href="#cb14-1338" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-1339"><a href="#cb14-1339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-1340"><a href="#cb14-1340" aria-hidden="true" tabindex="-1"></a><span class="co">// Get current data based on selection</span></span>
<span id="cb14-1341"><a href="#cb14-1341" aria-hidden="true" tabindex="-1"></a>currentData <span class="op">=</span> timePeriod<span class="op">.</span><span class="fu">includes</span>(<span class="st">"Pre-Industrial"</span>) </span>
<span id="cb14-1342"><a href="#cb14-1342" aria-hidden="true" tabindex="-1"></a>  <span class="op">?</span> carbonData<span class="op">.</span><span class="at">preIndustrial</span> </span>
<span id="cb14-1343"><a href="#cb14-1343" aria-hidden="true" tabindex="-1"></a>  <span class="op">:</span> carbonData<span class="op">.</span><span class="at">postIndustrial</span></span>
<span id="cb14-1344"><a href="#cb14-1344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-1345"><a href="#cb14-1345" aria-hidden="true" tabindex="-1"></a><span class="co">// Calculate changes</span></span>
<span id="cb14-1346"><a href="#cb14-1346" aria-hidden="true" tabindex="-1"></a>atmosphereChange <span class="op">=</span> carbonData<span class="op">.</span><span class="at">postIndustrial</span><span class="op">.</span><span class="at">atmosphere</span> <span class="op">-</span> carbonData<span class="op">.</span><span class="at">preIndustrial</span><span class="op">.</span><span class="at">atmosphere</span></span>
<span id="cb14-1347"><a href="#cb14-1347" aria-hidden="true" tabindex="-1"></a>fossilFuelBurned <span class="op">=</span> carbonData<span class="op">.</span><span class="at">preIndustrial</span><span class="op">.</span><span class="at">fossilFuels</span> <span class="op">-</span> carbonData<span class="op">.</span><span class="at">postIndustrial</span><span class="op">.</span><span class="at">fossilFuels</span></span>
<span id="cb14-1348"><a href="#cb14-1348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-1349"><a href="#cb14-1349" aria-hidden="true" tabindex="-1"></a><span class="co">// Visualization</span></span>
<span id="cb14-1350"><a href="#cb14-1350" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb14-1351"><a href="#cb14-1351" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> width <span class="op">=</span> <span class="dv">800</span><span class="op">;</span></span>
<span id="cb14-1352"><a href="#cb14-1352" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> height <span class="op">=</span> <span class="dv">600</span><span class="op">;</span></span>
<span id="cb14-1353"><a href="#cb14-1353" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> margin <span class="op">=</span> {<span class="dt">top</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">right</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">bottom</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span> <span class="dt">left</span><span class="op">:</span> <span class="dv">20</span>}<span class="op">;</span></span>
<span id="cb14-1354"><a href="#cb14-1354" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1355"><a href="#cb14-1355" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">create</span>(<span class="st">"svg"</span>)</span>
<span id="cb14-1356"><a href="#cb14-1356" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"viewBox"</span><span class="op">,</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> height])</span>
<span id="cb14-1357"><a href="#cb14-1357" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"style"</span><span class="op">,</span> <span class="st">"max-width: 100%; height: auto;"</span>)<span class="op">;</span></span>
<span id="cb14-1358"><a href="#cb14-1358" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1359"><a href="#cb14-1359" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Define positions for reservoirs</span></span>
<span id="cb14-1360"><a href="#cb14-1360" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> positions <span class="op">=</span> {</span>
<span id="cb14-1361"><a href="#cb14-1361" aria-hidden="true" tabindex="-1"></a>    <span class="dt">atmosphere</span><span class="op">:</span> {<span class="dt">x</span><span class="op">:</span> width<span class="op">/</span><span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#93c5fd"</span>}<span class="op">,</span></span>
<span id="cb14-1362"><a href="#cb14-1362" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ocean</span><span class="op">:</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#0ea5e9"</span>}<span class="op">,</span></span>
<span id="cb14-1363"><a href="#cb14-1363" aria-hidden="true" tabindex="-1"></a>    <span class="dt">landBiomass</span><span class="op">:</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">650</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#22c55e"</span>}<span class="op">,</span></span>
<span id="cb14-1364"><a href="#cb14-1364" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fossilFuels</span><span class="op">:</span> {<span class="dt">x</span><span class="op">:</span> width<span class="op">/</span><span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">500</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#64748b"</span>}</span>
<span id="cb14-1365"><a href="#cb14-1365" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb14-1366"><a href="#cb14-1366" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1367"><a href="#cb14-1367" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw flows (arrows)</span></span>
<span id="cb14-1368"><a href="#cb14-1368" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> arrowGroup <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">;</span></span>
<span id="cb14-1369"><a href="#cb14-1369" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1370"><a href="#cb14-1370" aria-hidden="true" tabindex="-1"></a>  currentData<span class="op">.</span><span class="at">flows</span><span class="op">.</span><span class="fu">forEach</span>(flow <span class="kw">=&gt;</span> {</span>
<span id="cb14-1371"><a href="#cb14-1371" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (flow<span class="op">.</span><span class="at">value</span> <span class="op">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb14-1372"><a href="#cb14-1372" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> start <span class="op">=</span> positions[flow<span class="op">.</span><span class="at">from</span>]<span class="op">;</span></span>
<span id="cb14-1373"><a href="#cb14-1373" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> end <span class="op">=</span> positions[flow<span class="op">.</span><span class="at">to</span>]<span class="op">;</span></span>
<span id="cb14-1374"><a href="#cb14-1374" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-1375"><a href="#cb14-1375" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Calculate arrow path with curve</span></span>
<span id="cb14-1376"><a href="#cb14-1376" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> midX <span class="op">=</span> (start<span class="op">.</span><span class="at">x</span> <span class="op">+</span> end<span class="op">.</span><span class="at">x</span>) <span class="op">/</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb14-1377"><a href="#cb14-1377" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> midY <span class="op">=</span> (start<span class="op">.</span><span class="at">y</span> <span class="op">+</span> end<span class="op">.</span><span class="at">y</span>) <span class="op">/</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb14-1378"><a href="#cb14-1378" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> dx <span class="op">=</span> end<span class="op">.</span><span class="at">x</span> <span class="op">-</span> start<span class="op">.</span><span class="at">x</span><span class="op">;</span></span>
<span id="cb14-1379"><a href="#cb14-1379" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> dy <span class="op">=</span> end<span class="op">.</span><span class="at">y</span> <span class="op">-</span> start<span class="op">.</span><span class="at">y</span><span class="op">;</span></span>
<span id="cb14-1380"><a href="#cb14-1380" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> dr <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(dx <span class="op">*</span> dx <span class="op">+</span> dy <span class="op">*</span> dy) <span class="op">*</span> <span class="fl">0.7</span><span class="op">;</span></span>
<span id="cb14-1381"><a href="#cb14-1381" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-1382"><a href="#cb14-1382" aria-hidden="true" tabindex="-1"></a>      arrowGroup<span class="op">.</span><span class="fu">append</span>(<span class="st">"path"</span>)</span>
<span id="cb14-1383"><a href="#cb14-1383" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"d"</span><span class="op">,</span> <span class="vs">`M</span><span class="sc">${</span>start<span class="op">.</span><span class="at">x</span><span class="sc">}</span><span class="vs">,</span><span class="sc">${</span>start<span class="op">.</span><span class="at">y</span><span class="sc">}</span><span class="vs"> Q</span><span class="sc">${</span>midX <span class="op">+</span> dy<span class="op">/</span><span class="dv">4</span><span class="sc">}</span><span class="vs">,</span><span class="sc">${</span>midY <span class="op">-</span> dx<span class="op">/</span><span class="dv">4</span><span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>end<span class="op">.</span><span class="at">x</span><span class="sc">}</span><span class="vs">,</span><span class="sc">${</span>end<span class="op">.</span><span class="at">y</span><span class="sc">}</span><span class="vs">`</span>)</span>
<span id="cb14-1384"><a href="#cb14-1384" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"none"</span>)</span>
<span id="cb14-1385"><a href="#cb14-1385" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> flow<span class="op">.</span><span class="at">from</span> <span class="op">===</span> <span class="st">"fossilFuels"</span> <span class="op">?</span> <span class="st">"#ef4444"</span> <span class="op">:</span> <span class="st">"#94a3b8"</span>)</span>
<span id="cb14-1386"><a href="#cb14-1386" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="dv">2</span><span class="op">,</span> flow<span class="op">.</span><span class="at">value</span> <span class="op">/</span> <span class="dv">10</span>))</span>
<span id="cb14-1387"><a href="#cb14-1387" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="fl">0.6</span>)</span>
<span id="cb14-1388"><a href="#cb14-1388" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"marker-end"</span><span class="op">,</span> <span class="st">"url(#arrowhead)"</span>)<span class="op">;</span></span>
<span id="cb14-1389"><a href="#cb14-1389" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-1390"><a href="#cb14-1390" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Add flow label</span></span>
<span id="cb14-1391"><a href="#cb14-1391" aria-hidden="true" tabindex="-1"></a>      arrowGroup<span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb14-1392"><a href="#cb14-1392" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> midX <span class="op">+</span> dy<span class="op">/</span><span class="dv">4</span>)</span>
<span id="cb14-1393"><a href="#cb14-1393" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> midY <span class="op">-</span> dx<span class="op">/</span><span class="dv">4</span>)</span>
<span id="cb14-1394"><a href="#cb14-1394" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb14-1395"><a href="#cb14-1395" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"12px"</span>)</span>
<span id="cb14-1396"><a href="#cb14-1396" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"#1e293b"</span>)</span>
<span id="cb14-1397"><a href="#cb14-1397" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"600"</span>)</span>
<span id="cb14-1398"><a href="#cb14-1398" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">text</span>(<span class="vs">`</span><span class="sc">${</span>flow<span class="op">.</span><span class="at">value</span><span class="sc">}</span><span class="vs"> Gt/yr`</span>)<span class="op">;</span></span>
<span id="cb14-1399"><a href="#cb14-1399" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-1400"><a href="#cb14-1400" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb14-1401"><a href="#cb14-1401" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1402"><a href="#cb14-1402" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Define arrowhead marker</span></span>
<span id="cb14-1403"><a href="#cb14-1403" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"defs"</span>)</span>
<span id="cb14-1404"><a href="#cb14-1404" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"marker"</span>)</span>
<span id="cb14-1405"><a href="#cb14-1405" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"id"</span><span class="op">,</span> <span class="st">"arrowhead"</span>)</span>
<span id="cb14-1406"><a href="#cb14-1406" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"markerWidth"</span><span class="op">,</span> <span class="dv">10</span>)</span>
<span id="cb14-1407"><a href="#cb14-1407" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"markerHeight"</span><span class="op">,</span> <span class="dv">10</span>)</span>
<span id="cb14-1408"><a href="#cb14-1408" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"refX"</span><span class="op">,</span> <span class="dv">9</span>)</span>
<span id="cb14-1409"><a href="#cb14-1409" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"refY"</span><span class="op">,</span> <span class="dv">3</span>)</span>
<span id="cb14-1410"><a href="#cb14-1410" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"orient"</span><span class="op">,</span> <span class="st">"auto"</span>)</span>
<span id="cb14-1411"><a href="#cb14-1411" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"polygon"</span>)</span>
<span id="cb14-1412"><a href="#cb14-1412" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"points"</span><span class="op">,</span> <span class="st">"0 0, 10 3, 0 6"</span>)</span>
<span id="cb14-1413"><a href="#cb14-1413" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"#94a3b8"</span>)<span class="op">;</span></span>
<span id="cb14-1414"><a href="#cb14-1414" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1415"><a href="#cb14-1415" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw reservoirs</span></span>
<span id="cb14-1416"><a href="#cb14-1416" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Object</span><span class="op">.</span><span class="fu">entries</span>(positions)<span class="op">.</span><span class="fu">forEach</span>(([name<span class="op">,</span> pos]) <span class="kw">=&gt;</span> {</span>
<span id="cb14-1417"><a href="#cb14-1417" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> reservoir <span class="op">=</span> currentData[name]<span class="op">;</span></span>
<span id="cb14-1418"><a href="#cb14-1418" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> radius <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(reservoir) <span class="op">/</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb14-1419"><a href="#cb14-1419" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-1420"><a href="#cb14-1420" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> group <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb14-1421"><a href="#cb14-1421" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(</span><span class="sc">${</span>pos<span class="op">.</span><span class="at">x</span><span class="sc">}</span><span class="vs">, </span><span class="sc">${</span>pos<span class="op">.</span><span class="at">y</span><span class="sc">}</span><span class="vs">)`</span>)<span class="op">;</span></span>
<span id="cb14-1422"><a href="#cb14-1422" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-1423"><a href="#cb14-1423" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Circle</span></span>
<span id="cb14-1424"><a href="#cb14-1424" aria-hidden="true" tabindex="-1"></a>    group<span class="op">.</span><span class="fu">append</span>(<span class="st">"circle"</span>)</span>
<span id="cb14-1425"><a href="#cb14-1425" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> radius)</span>
<span id="cb14-1426"><a href="#cb14-1426" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> pos<span class="op">.</span><span class="at">color</span>)</span>
<span id="cb14-1427"><a href="#cb14-1427" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="st">"#1e293b"</span>)</span>
<span id="cb14-1428"><a href="#cb14-1428" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb14-1429"><a href="#cb14-1429" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="fl">0.8</span>)<span class="op">;</span></span>
<span id="cb14-1430"><a href="#cb14-1430" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-1431"><a href="#cb14-1431" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Label</span></span>
<span id="cb14-1432"><a href="#cb14-1432" aria-hidden="true" tabindex="-1"></a>    group<span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb14-1433"><a href="#cb14-1433" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb14-1434"><a href="#cb14-1434" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dy"</span><span class="op">,</span> <span class="op">-</span>radius <span class="op">-</span> <span class="dv">10</span>)</span>
<span id="cb14-1435"><a href="#cb14-1435" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"14px"</span>)</span>
<span id="cb14-1436"><a href="#cb14-1436" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"700"</span>)</span>
<span id="cb14-1437"><a href="#cb14-1437" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"#1e293b"</span>)</span>
<span id="cb14-1438"><a href="#cb14-1438" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">text</span>(name<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">([A-Z])</span><span class="ss">/g</span><span class="op">,</span> <span class="st">' $1'</span>)<span class="op">.</span><span class="fu">trim</span>())<span class="op">;</span></span>
<span id="cb14-1439"><a href="#cb14-1439" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-1440"><a href="#cb14-1440" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Value</span></span>
<span id="cb14-1441"><a href="#cb14-1441" aria-hidden="true" tabindex="-1"></a>    group<span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb14-1442"><a href="#cb14-1442" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb14-1443"><a href="#cb14-1443" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dy"</span><span class="op">,</span> <span class="st">"0.35em"</span>)</span>
<span id="cb14-1444"><a href="#cb14-1444" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"16px"</span>)</span>
<span id="cb14-1445"><a href="#cb14-1445" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"600"</span>)</span>
<span id="cb14-1446"><a href="#cb14-1446" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"#ffffff"</span>)</span>
<span id="cb14-1447"><a href="#cb14-1447" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">text</span>(<span class="vs">`</span><span class="sc">${</span>reservoir<span class="sc">}</span><span class="vs"> Gt`</span>)<span class="op">;</span></span>
<span id="cb14-1448"><a href="#cb14-1448" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb14-1449"><a href="#cb14-1449" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1450"><a href="#cb14-1450" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Add title</span></span>
<span id="cb14-1451"><a href="#cb14-1451" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb14-1452"><a href="#cb14-1452" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> width<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb14-1453"><a href="#cb14-1453" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> <span class="dv">30</span>)</span>
<span id="cb14-1454"><a href="#cb14-1454" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb14-1455"><a href="#cb14-1455" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"18px"</span>)</span>
<span id="cb14-1456"><a href="#cb14-1456" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"700"</span>)</span>
<span id="cb14-1457"><a href="#cb14-1457" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"#1e293b"</span>)</span>
<span id="cb14-1458"><a href="#cb14-1458" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(<span class="vs">`Carbon Reservoirs: </span><span class="sc">${</span>timePeriod<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-1459"><a href="#cb14-1459" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-1460"><a href="#cb14-1460" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> svg<span class="op">.</span><span class="fu">node</span>()<span class="op">;</span></span>
<span id="cb14-1461"><a href="#cb14-1461" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-6" data-nodetype="expression">

</div>
</div>
</div>
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb15" data-startfrom="1464" data-source-offset="-4798"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1463;"><span id="cb15-1464"><a href="#cb15-1464" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`</span></span>
<span id="cb15-1465"><a href="#cb15-1465" aria-hidden="true" tabindex="-1"></a><span class="vs">### Key Changes After Industrial Revolution:</span></span>
<span id="cb15-1466"><a href="#cb15-1466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-1467"><a href="#cb15-1467" aria-hidden="true" tabindex="-1"></a><span class="vs">- **Atmospheric CO‚ÇÇ increased by </span><span class="sc">${</span>atmosphereChange<span class="sc">}</span><span class="vs"> Gt** (</span><span class="sc">${</span>((atmosphereChange<span class="op">/</span>carbonData<span class="op">.</span><span class="at">preIndustrial</span><span class="op">.</span><span class="at">atmosphere</span>)<span class="op">*</span><span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">% increase)</span></span>
<span id="cb15-1468"><a href="#cb15-1468" aria-hidden="true" tabindex="-1"></a><span class="vs">- **</span><span class="sc">${</span>fossilFuelBurned<span class="sc">}</span><span class="vs"> Gt of fossil fuels burned** and added to atmosphere</span></span>
<span id="cb15-1469"><a href="#cb15-1469" aria-hidden="true" tabindex="-1"></a><span class="vs">- **Ocean absorbed </span><span class="sc">${</span>carbonData<span class="op">.</span><span class="at">postIndustrial</span><span class="op">.</span><span class="at">ocean</span> <span class="op">-</span> carbonData<span class="op">.</span><span class="at">preIndustrial</span><span class="op">.</span><span class="at">ocean</span><span class="sc">}</span><span class="vs"> Gt** more carbon</span></span>
<span id="cb15-1470"><a href="#cb15-1470" aria-hidden="true" tabindex="-1"></a><span class="vs">- **The carbon cycle became unbalanced** - more carbon entering atmosphere than leaving</span></span>
<span id="cb15-1471"><a href="#cb15-1471" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-7" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="feedback-loop-visualization" class="level1" data-number="33">
<h1 data-number="33"><span class="header-section-number">33</span> Feedback Loop Visualization</h1>
<p>This visualization shows how positive feedback mechanisms amplify climate change through interconnected processes.</p>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb16" data-startfrom="1482" data-source-offset="-22"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1481;"><span id="cb16-1482"><a href="#cb16-1482" aria-hidden="true" tabindex="-1"></a>d3 <span class="op">=</span> <span class="pp">require</span>(<span class="st">"d3@7"</span>)</span>
<span id="cb16-1483"><a href="#cb16-1483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-1484"><a href="#cb16-1484" aria-hidden="true" tabindex="-1"></a><span class="co">// Feedback type selector</span></span>
<span id="cb16-1485"><a href="#cb16-1485" aria-hidden="true" tabindex="-1"></a>viewof feedbackType <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb16-1486"><a href="#cb16-1486" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Ice-Albedo Feedback"</span><span class="op">,</span> <span class="st">"Greenhouse Gas Feedback"</span><span class="op">,</span> <span class="st">"Combined Feedbacks"</span>]<span class="op">,</span></span>
<span id="cb16-1487"><a href="#cb16-1487" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Ice-Albedo Feedback"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Select Feedback Mechanism"</span>}</span>
<span id="cb16-1488"><a href="#cb16-1488" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-1489"><a href="#cb16-1489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-1490"><a href="#cb16-1490" aria-hidden="true" tabindex="-1"></a><span class="co">// Animation control</span></span>
<span id="cb16-1491"><a href="#cb16-1491" aria-hidden="true" tabindex="-1"></a>viewof isAnimating <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">toggle</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Animate feedback loop"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">true</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-15-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-15-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-15-3" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb17" data-startfrom="1495" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1494;"><span id="cb17-1495"><a href="#cb17-1495" aria-hidden="true" tabindex="-1"></a><span class="co">// Define feedback loops</span></span>
<span id="cb17-1496"><a href="#cb17-1496" aria-hidden="true" tabindex="-1"></a>feedbackLoops <span class="op">=</span> {</span>
<span id="cb17-1497"><a href="#cb17-1497" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> iceAlbedo <span class="op">=</span> [</span>
<span id="cb17-1498"><a href="#cb17-1498" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"CO‚ÇÇ Emissions</span><span class="sc">\n</span><span class="st">Increase"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#ef4444"</span>}<span class="op">,</span></span>
<span id="cb17-1499"><a href="#cb17-1499" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Global Temperature</span><span class="sc">\n</span><span class="st">Rises"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">650</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#f97316"</span>}<span class="op">,</span></span>
<span id="cb17-1500"><a href="#cb17-1500" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Arctic Ice</span><span class="sc">\n</span><span class="st">Melts"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">650</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#06b6d4"</span>}<span class="op">,</span></span>
<span id="cb17-1501"><a href="#cb17-1501" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Less Solar</span><span class="sc">\n</span><span class="st">Reflection"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">450</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#3b82f6"</span>}<span class="op">,</span></span>
<span id="cb17-1502"><a href="#cb17-1502" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"More Heat</span><span class="sc">\n</span><span class="st">Absorbed"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#8b5cf6"</span>}<span class="op">,</span></span>
<span id="cb17-1503"><a href="#cb17-1503" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature</span><span class="sc">\n</span><span class="st">Rises Further"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#dc2626"</span>}</span>
<span id="cb17-1504"><a href="#cb17-1504" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb17-1505"><a href="#cb17-1505" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-1506"><a href="#cb17-1506" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> greenhouseGas <span class="op">=</span> [</span>
<span id="cb17-1507"><a href="#cb17-1507" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature</span><span class="sc">\n</span><span class="st">Increases"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#f97316"</span>}<span class="op">,</span></span>
<span id="cb17-1508"><a href="#cb17-1508" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Ocean Water</span><span class="sc">\n</span><span class="st">Warms"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">650</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#0ea5e9"</span>}<span class="op">,</span></span>
<span id="cb17-1509"><a href="#cb17-1509" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"CO‚ÇÇ Released</span><span class="sc">\n</span><span class="st">from Ocean"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">650</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#64748b"</span>}<span class="op">,</span></span>
<span id="cb17-1510"><a href="#cb17-1510" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Permafrost</span><span class="sc">\n</span><span class="st">Thaws"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">450</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#a855f7"</span>}<span class="op">,</span></span>
<span id="cb17-1511"><a href="#cb17-1511" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"More GHGs</span><span class="sc">\n</span><span class="st">Enter Atmosphere"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#ef4444"</span>}<span class="op">,</span></span>
<span id="cb17-1512"><a href="#cb17-1512" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Greenhouse Effect</span><span class="sc">\n</span><span class="st">Strengthens"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#dc2626"</span>}</span>
<span id="cb17-1513"><a href="#cb17-1513" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb17-1514"><a href="#cb17-1514" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-1515"><a href="#cb17-1515" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> combined <span class="op">=</span> [</span>
<span id="cb17-1516"><a href="#cb17-1516" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Human Activity:</span><span class="sc">\n</span><span class="st">Fossil Fuel Burning"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#1e293b"</span>}<span class="op">,</span></span>
<span id="cb17-1517"><a href="#cb17-1517" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"CO‚ÇÇ &amp; GHGs</span><span class="sc">\n</span><span class="st">Increase"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">600</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">120</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#64748b"</span>}<span class="op">,</span></span>
<span id="cb17-1518"><a href="#cb17-1518" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Enhanced</span><span class="sc">\n</span><span class="st">Greenhouse Effect"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#ef4444"</span>}<span class="op">,</span></span>
<span id="cb17-1519"><a href="#cb17-1519" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature</span><span class="sc">\n</span><span class="st">Rises"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">650</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">380</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#f97316"</span>}<span class="op">,</span></span>
<span id="cb17-1520"><a href="#cb17-1520" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Ice Melts</span><span class="sc">\n</span><span class="st">Albedo ‚Üì"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">480</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">480</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#06b6d4"</span>}<span class="op">,</span></span>
<span id="cb17-1521"><a href="#cb17-1521" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Ocean/Permafrost</span><span class="sc">\n</span><span class="st">Release CO‚ÇÇ"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">280</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">480</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#3b82f6"</span>}<span class="op">,</span></span>
<span id="cb17-1522"><a href="#cb17-1522" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"More Heat</span><span class="sc">\n</span><span class="st">Absorbed"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">120</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">380</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#8b5cf6"</span>}<span class="op">,</span></span>
<span id="cb17-1523"><a href="#cb17-1523" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"AMPLIFICATION:</span><span class="sc">\n</span><span class="st">Faster Warming"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#dc2626"</span>}<span class="op">,</span></span>
<span id="cb17-1524"><a href="#cb17-1524" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">step</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Multiple Feedbacks</span><span class="sc">\n</span><span class="st">Reinforce"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">120</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#991b1b"</span>}</span>
<span id="cb17-1525"><a href="#cb17-1525" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb17-1526"><a href="#cb17-1526" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-1527"><a href="#cb17-1527" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> {iceAlbedo<span class="op">,</span> greenhouseGas<span class="op">,</span> combined}<span class="op">;</span></span>
<span id="cb17-1528"><a href="#cb17-1528" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-16" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb18" data-startfrom="1534" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1533;"><span id="cb18-1534"><a href="#cb18-1534" aria-hidden="true" tabindex="-1"></a><span class="co">// Get current loop</span></span>
<span id="cb18-1535"><a href="#cb18-1535" aria-hidden="true" tabindex="-1"></a>currentLoop <span class="op">=</span> feedbackType <span class="op">===</span> <span class="st">"Ice-Albedo Feedback"</span> </span>
<span id="cb18-1536"><a href="#cb18-1536" aria-hidden="true" tabindex="-1"></a>  <span class="op">?</span> feedbackLoops<span class="op">.</span><span class="at">iceAlbedo</span> </span>
<span id="cb18-1537"><a href="#cb18-1537" aria-hidden="true" tabindex="-1"></a>  <span class="op">:</span> feedbackType <span class="op">===</span> <span class="st">"Greenhouse Gas Feedback"</span></span>
<span id="cb18-1538"><a href="#cb18-1538" aria-hidden="true" tabindex="-1"></a>  <span class="op">?</span> feedbackLoops<span class="op">.</span><span class="at">greenhouseGas</span></span>
<span id="cb18-1539"><a href="#cb18-1539" aria-hidden="true" tabindex="-1"></a>  <span class="op">:</span> feedbackLoops<span class="op">.</span><span class="at">combined</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb19" data-startfrom="1548" data-source-offset="-20"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1547;"><span id="cb19-1548"><a href="#cb19-1548" aria-hidden="true" tabindex="-1"></a>mutable currentStep <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb19-1549"><a href="#cb19-1549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-1550"><a href="#cb19-1550" aria-hidden="true" tabindex="-1"></a>tick <span class="op">=</span> {</span>
<span id="cb19-1551"><a href="#cb19-1551" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (isAnimating) {</span>
<span id="cb19-1552"><a href="#cb19-1552" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> (<span class="kw">true</span>) {</span>
<span id="cb19-1553"><a href="#cb19-1553" aria-hidden="true" tabindex="-1"></a>      <span class="kw">yield</span> Promises<span class="op">.</span><span class="fu">tick</span>(<span class="dv">1500</span>)<span class="op">;</span></span>
<span id="cb19-1554"><a href="#cb19-1554" aria-hidden="true" tabindex="-1"></a>      mutable currentStep <span class="op">=</span> (currentStep <span class="op">+</span> <span class="dv">1</span>) <span class="op">%</span> currentLoop<span class="op">.</span><span class="at">length</span><span class="op">;</span></span>
<span id="cb19-1555"><a href="#cb19-1555" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-1556"><a href="#cb19-1556" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-1557"><a href="#cb19-1557" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb20" data-startfrom="1561" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1560;"><span id="cb20-1561"><a href="#cb20-1561" aria-hidden="true" tabindex="-1"></a><span class="co">// Visualization</span></span>
<span id="cb20-1562"><a href="#cb20-1562" aria-hidden="true" tabindex="-1"></a>chart <span class="op">=</span> {</span>
<span id="cb20-1563"><a href="#cb20-1563" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> width <span class="op">=</span> <span class="dv">800</span><span class="op">;</span></span>
<span id="cb20-1564"><a href="#cb20-1564" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> height <span class="op">=</span> <span class="dv">550</span><span class="op">;</span></span>
<span id="cb20-1565"><a href="#cb20-1565" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-1566"><a href="#cb20-1566" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">create</span>(<span class="st">"svg"</span>)</span>
<span id="cb20-1567"><a href="#cb20-1567" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"viewBox"</span><span class="op">,</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> height])</span>
<span id="cb20-1568"><a href="#cb20-1568" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"style"</span><span class="op">,</span> <span class="st">"max-width: 100%; height: auto;"</span>)<span class="op">;</span></span>
<span id="cb20-1569"><a href="#cb20-1569" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-1570"><a href="#cb20-1570" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Define arrow markers first</span></span>
<span id="cb20-1571"><a href="#cb20-1571" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> defs <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"defs"</span>)<span class="op">;</span></span>
<span id="cb20-1572"><a href="#cb20-1572" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-1573"><a href="#cb20-1573" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"active"</span><span class="op">,</span> <span class="st">"inactive"</span>]<span class="op">.</span><span class="fu">forEach</span>(state <span class="kw">=&gt;</span> {</span>
<span id="cb20-1574"><a href="#cb20-1574" aria-hidden="true" tabindex="-1"></a>    defs<span class="op">.</span><span class="fu">append</span>(<span class="st">"marker"</span>)</span>
<span id="cb20-1575"><a href="#cb20-1575" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"id"</span><span class="op">,</span> <span class="vs">`arrow-</span><span class="sc">${</span>state<span class="sc">}</span><span class="vs">`</span>)</span>
<span id="cb20-1576"><a href="#cb20-1576" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"markerWidth"</span><span class="op">,</span> <span class="dv">12</span>)</span>
<span id="cb20-1577"><a href="#cb20-1577" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"markerHeight"</span><span class="op">,</span> <span class="dv">12</span>)</span>
<span id="cb20-1578"><a href="#cb20-1578" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"refX"</span><span class="op">,</span> <span class="dv">11</span>)</span>
<span id="cb20-1579"><a href="#cb20-1579" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"refY"</span><span class="op">,</span> <span class="dv">3</span>)</span>
<span id="cb20-1580"><a href="#cb20-1580" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"orient"</span><span class="op">,</span> <span class="st">"auto"</span>)</span>
<span id="cb20-1581"><a href="#cb20-1581" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"polygon"</span>)</span>
<span id="cb20-1582"><a href="#cb20-1582" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"points"</span><span class="op">,</span> <span class="st">"0 0, 12 3, 0 6"</span>)</span>
<span id="cb20-1583"><a href="#cb20-1583" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> state <span class="op">===</span> <span class="st">"active"</span> <span class="op">?</span> <span class="st">"#dc2626"</span> <span class="op">:</span> <span class="st">"#cbd5e1"</span>)<span class="op">;</span></span>
<span id="cb20-1584"><a href="#cb20-1584" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb20-1585"><a href="#cb20-1585" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-1586"><a href="#cb20-1586" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw connecting paths</span></span>
<span id="cb20-1587"><a href="#cb20-1587" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> pathGroup <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">;</span></span>
<span id="cb20-1588"><a href="#cb20-1588" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-1589"><a href="#cb20-1589" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> currentLoop<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb20-1590"><a href="#cb20-1590" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> current <span class="op">=</span> currentLoop[i]<span class="op">;</span></span>
<span id="cb20-1591"><a href="#cb20-1591" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> next <span class="op">=</span> currentLoop[(i <span class="op">+</span> <span class="dv">1</span>) <span class="op">%</span> currentLoop<span class="op">.</span><span class="at">length</span>]<span class="op">;</span></span>
<span id="cb20-1592"><a href="#cb20-1592" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-1593"><a href="#cb20-1593" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> isActive <span class="op">=</span> isAnimating <span class="op">?</span> (i <span class="op">===</span> currentStep) <span class="op">:</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb20-1594"><a href="#cb20-1594" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> strokeWidth <span class="op">=</span> isActive <span class="op">?</span> <span class="dv">6</span> <span class="op">:</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb20-1595"><a href="#cb20-1595" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> opacity <span class="op">=</span> isActive <span class="op">?</span> <span class="dv">1</span> <span class="op">:</span> <span class="fl">0.3</span><span class="op">;</span></span>
<span id="cb20-1596"><a href="#cb20-1596" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-1597"><a href="#cb20-1597" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Create curved path</span></span>
<span id="cb20-1598"><a href="#cb20-1598" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> midX <span class="op">=</span> (current<span class="op">.</span><span class="at">x</span> <span class="op">+</span> next<span class="op">.</span><span class="at">x</span>) <span class="op">/</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb20-1599"><a href="#cb20-1599" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> midY <span class="op">=</span> (current<span class="op">.</span><span class="at">y</span> <span class="op">+</span> next<span class="op">.</span><span class="at">y</span>) <span class="op">/</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb20-1600"><a href="#cb20-1600" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> dx <span class="op">=</span> next<span class="op">.</span><span class="at">x</span> <span class="op">-</span> current<span class="op">.</span><span class="at">x</span><span class="op">;</span></span>
<span id="cb20-1601"><a href="#cb20-1601" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> dy <span class="op">=</span> next<span class="op">.</span><span class="at">y</span> <span class="op">-</span> current<span class="op">.</span><span class="at">y</span><span class="op">;</span></span>
<span id="cb20-1602"><a href="#cb20-1602" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-1603"><a href="#cb20-1603" aria-hidden="true" tabindex="-1"></a>    pathGroup<span class="op">.</span><span class="fu">append</span>(<span class="st">"path"</span>)</span>
<span id="cb20-1604"><a href="#cb20-1604" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"d"</span><span class="op">,</span> <span class="vs">`M</span><span class="sc">${</span>current<span class="op">.</span><span class="at">x</span><span class="sc">}</span><span class="vs">,</span><span class="sc">${</span>current<span class="op">.</span><span class="at">y</span><span class="sc">}</span><span class="vs"> Q</span><span class="sc">${</span>midX <span class="op">+</span> dy<span class="op">/</span><span class="dv">3</span><span class="sc">}</span><span class="vs">,</span><span class="sc">${</span>midY <span class="op">-</span> dx<span class="op">/</span><span class="dv">3</span><span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>next<span class="op">.</span><span class="at">x</span><span class="sc">}</span><span class="vs">,</span><span class="sc">${</span>next<span class="op">.</span><span class="at">y</span><span class="sc">}</span><span class="vs">`</span>)</span>
<span id="cb20-1605"><a href="#cb20-1605" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"none"</span>)</span>
<span id="cb20-1606"><a href="#cb20-1606" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> isActive <span class="op">?</span> current<span class="op">.</span><span class="at">color</span> <span class="op">:</span> <span class="st">"#cbd5e1"</span>)</span>
<span id="cb20-1607"><a href="#cb20-1607" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> strokeWidth)</span>
<span id="cb20-1608"><a href="#cb20-1608" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> opacity)</span>
<span id="cb20-1609"><a href="#cb20-1609" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"marker-end"</span><span class="op">,</span> isActive <span class="op">?</span> <span class="st">"url(#arrow-active)"</span> <span class="op">:</span> <span class="st">"url(#arrow-inactive)"</span>)</span>
<span id="cb20-1610"><a href="#cb20-1610" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-dasharray"</span><span class="op">,</span> isActive <span class="op">?</span> <span class="st">"8,4"</span> <span class="op">:</span> <span class="st">"none"</span>)<span class="op">;</span></span>
<span id="cb20-1611"><a href="#cb20-1611" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-1612"><a href="#cb20-1612" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-1613"><a href="#cb20-1613" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Draw nodes</span></span>
<span id="cb20-1614"><a href="#cb20-1614" aria-hidden="true" tabindex="-1"></a>  currentLoop<span class="op">.</span><span class="fu">forEach</span>((node<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb20-1615"><a href="#cb20-1615" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> isActive <span class="op">=</span> isAnimating <span class="op">?</span> (i <span class="op">===</span> currentStep) <span class="op">:</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb20-1616"><a href="#cb20-1616" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> nodeRadius <span class="op">=</span> <span class="dv">50</span><span class="op">;</span></span>
<span id="cb20-1617"><a href="#cb20-1617" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-1618"><a href="#cb20-1618" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> group <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb20-1619"><a href="#cb20-1619" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(</span><span class="sc">${</span>node<span class="op">.</span><span class="at">x</span><span class="sc">}</span><span class="vs">, </span><span class="sc">${</span>node<span class="op">.</span><span class="at">y</span><span class="sc">}</span><span class="vs">)`</span>)<span class="op">;</span></span>
<span id="cb20-1620"><a href="#cb20-1620" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-1621"><a href="#cb20-1621" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Node circle</span></span>
<span id="cb20-1622"><a href="#cb20-1622" aria-hidden="true" tabindex="-1"></a>    group<span class="op">.</span><span class="fu">append</span>(<span class="st">"circle"</span>)</span>
<span id="cb20-1623"><a href="#cb20-1623" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> nodeRadius)</span>
<span id="cb20-1624"><a href="#cb20-1624" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> isActive <span class="op">?</span> node<span class="op">.</span><span class="at">color</span> <span class="op">:</span> <span class="st">"#e2e8f0"</span>)</span>
<span id="cb20-1625"><a href="#cb20-1625" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> isActive <span class="op">?</span> <span class="st">"#1e293b"</span> <span class="op">:</span> <span class="st">"#94a3b8"</span>)</span>
<span id="cb20-1626"><a href="#cb20-1626" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> isActive <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> <span class="dv">2</span>)</span>
<span id="cb20-1627"><a href="#cb20-1627" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> isActive <span class="op">?</span> <span class="fl">0.95</span> <span class="op">:</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb20-1628"><a href="#cb20-1628" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-1629"><a href="#cb20-1629" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Node label</span></span>
<span id="cb20-1630"><a href="#cb20-1630" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> lines <span class="op">=</span> node<span class="op">.</span><span class="at">label</span><span class="op">.</span><span class="fu">split</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">n"</span>)<span class="op">;</span></span>
<span id="cb20-1631"><a href="#cb20-1631" aria-hidden="true" tabindex="-1"></a>    lines<span class="op">.</span><span class="fu">forEach</span>((line<span class="op">,</span> idx) <span class="kw">=&gt;</span> {</span>
<span id="cb20-1632"><a href="#cb20-1632" aria-hidden="true" tabindex="-1"></a>      group<span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb20-1633"><a href="#cb20-1633" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb20-1634"><a href="#cb20-1634" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dy"</span><span class="op">,</span> <span class="vs">`</span><span class="sc">${</span><span class="op">-</span><span class="fl">0.3</span> <span class="op">+</span> idx <span class="op">*</span> <span class="fl">1.2</span><span class="sc">}</span><span class="vs">em`</span>)</span>
<span id="cb20-1635"><a href="#cb20-1635" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"13px"</span>)</span>
<span id="cb20-1636"><a href="#cb20-1636" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> isActive <span class="op">?</span> <span class="st">"700"</span> <span class="op">:</span> <span class="st">"500"</span>)</span>
<span id="cb20-1637"><a href="#cb20-1637" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> isActive <span class="op">?</span> <span class="st">"#ffffff"</span> <span class="op">:</span> <span class="st">"#64748b"</span>)</span>
<span id="cb20-1638"><a href="#cb20-1638" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">text</span>(line)<span class="op">;</span></span>
<span id="cb20-1639"><a href="#cb20-1639" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb20-1640"><a href="#cb20-1640" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-1641"><a href="#cb20-1641" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Step number</span></span>
<span id="cb20-1642"><a href="#cb20-1642" aria-hidden="true" tabindex="-1"></a>    group<span class="op">.</span><span class="fu">append</span>(<span class="st">"circle"</span>)</span>
<span id="cb20-1643"><a href="#cb20-1643" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cx"</span><span class="op">,</span> nodeRadius <span class="op">-</span> <span class="dv">15</span>)</span>
<span id="cb20-1644"><a href="#cb20-1644" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cy"</span><span class="op">,</span> <span class="op">-</span>nodeRadius <span class="op">+</span> <span class="dv">15</span>)</span>
<span id="cb20-1645"><a href="#cb20-1645" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> <span class="dv">15</span>)</span>
<span id="cb20-1646"><a href="#cb20-1646" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"#1e293b"</span>)</span>
<span id="cb20-1647"><a href="#cb20-1647" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"opacity"</span><span class="op">,</span> <span class="fl">0.9</span>)<span class="op">;</span></span>
<span id="cb20-1648"><a href="#cb20-1648" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-1649"><a href="#cb20-1649" aria-hidden="true" tabindex="-1"></a>    group<span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb20-1650"><a href="#cb20-1650" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> nodeRadius <span class="op">-</span> <span class="dv">15</span>)</span>
<span id="cb20-1651"><a href="#cb20-1651" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> <span class="op">-</span>nodeRadius <span class="op">+</span> <span class="dv">15</span>)</span>
<span id="cb20-1652"><a href="#cb20-1652" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb20-1653"><a href="#cb20-1653" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"dy"</span><span class="op">,</span> <span class="st">"0.35em"</span>)</span>
<span id="cb20-1654"><a href="#cb20-1654" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"12px"</span>)</span>
<span id="cb20-1655"><a href="#cb20-1655" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"700"</span>)</span>
<span id="cb20-1656"><a href="#cb20-1656" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"#ffffff"</span>)</span>
<span id="cb20-1657"><a href="#cb20-1657" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">text</span>(i <span class="op">+</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb20-1658"><a href="#cb20-1658" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb20-1659"><a href="#cb20-1659" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-1660"><a href="#cb20-1660" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Add title</span></span>
<span id="cb20-1661"><a href="#cb20-1661" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb20-1662"><a href="#cb20-1662" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> width<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb20-1663"><a href="#cb20-1663" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> height <span class="op">-</span> <span class="dv">20</span>)</span>
<span id="cb20-1664"><a href="#cb20-1664" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb20-1665"><a href="#cb20-1665" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"16px"</span>)</span>
<span id="cb20-1666"><a href="#cb20-1666" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"700"</span>)</span>
<span id="cb20-1667"><a href="#cb20-1667" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"#1e293b"</span>)</span>
<span id="cb20-1668"><a href="#cb20-1668" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(<span class="vs">`</span><span class="sc">${</span>feedbackType<span class="sc">}</span><span class="vs">: A Positive (Amplifying) Feedback Loop`</span>)<span class="op">;</span></span>
<span id="cb20-1669"><a href="#cb20-1669" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-1670"><a href="#cb20-1670" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> svg<span class="op">.</span><span class="fu">node</span>()<span class="op">;</span></span>
<span id="cb20-1671"><a href="#cb20-1671" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-19" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb21" data-startfrom="1677" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1676;"><span id="cb21-1677"><a href="#cb21-1677" aria-hidden="true" tabindex="-1"></a><span class="co">// Explanatory text</span></span>
<span id="cb21-1678"><a href="#cb21-1678" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`</span></span>
<span id="cb21-1679"><a href="#cb21-1679" aria-hidden="true" tabindex="-1"></a><span class="vs">### Understanding Positive Feedbacks</span></span>
<span id="cb21-1680"><a href="#cb21-1680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-1681"><a href="#cb21-1681" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>feedbackType <span class="op">===</span> <span class="st">"Ice-Albedo Feedback"</span> <span class="op">?</span> <span class="vs">`</span></span>
<span id="cb21-1682"><a href="#cb21-1682" aria-hidden="true" tabindex="-1"></a><span class="vs">**Ice-Albedo Feedback** occurs when warming melts reflective ice and snow, exposing darker surfaces (ocean, land) that absorb more solar radiation. This extra absorption causes more warming, which melts more ice - a self-reinforcing cycle that **amplifies** the initial warming.</span></span>
<span id="cb21-1683"><a href="#cb21-1683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-1684"><a href="#cb21-1684" aria-hidden="true" tabindex="-1"></a><span class="vs">**Key Point:** Arctic regions are warming **~4 times faster** than the global average due to this feedback!</span></span>
<span id="cb21-1685"><a href="#cb21-1685" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span> <span class="op">:</span> feedbackType <span class="op">===</span> <span class="st">"Greenhouse Gas Feedback"</span> <span class="op">?</span> <span class="vs">`</span></span>
<span id="cb21-1686"><a href="#cb21-1686" aria-hidden="true" tabindex="-1"></a><span class="vs">**Greenhouse Gas Feedback** happens when warming temperatures cause natural systems to release stored carbon. Warmer oceans hold less dissolved CO‚ÇÇ, and thawing permafrost releases both CO‚ÇÇ and methane. These additional greenhouse gases trap more heat, causing further warming and more release.</span></span>
<span id="cb21-1687"><a href="#cb21-1687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-1688"><a href="#cb21-1688" aria-hidden="true" tabindex="-1"></a><span class="vs">**Key Point:** This creates a situation where human-caused warming **triggers natural carbon releases** that we don't directly control.</span></span>
<span id="cb21-1689"><a href="#cb21-1689" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span> <span class="op">:</span> <span class="vs">`</span></span>
<span id="cb21-1690"><a href="#cb21-1690" aria-hidden="true" tabindex="-1"></a><span class="vs">**Combined Feedbacks** show how multiple reinforcing mechanisms work together to amplify warming far beyond the initial forcing from fossil fuel emissions. Each feedback strengthens the others:</span></span>
<span id="cb21-1691"><a href="#cb21-1691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-1692"><a href="#cb21-1692" aria-hidden="true" tabindex="-1"></a><span class="vs">- More GHGs ‚Üí More warming ‚Üí Ice melts ‚Üí Less reflection ‚Üí Even more warming</span></span>
<span id="cb21-1693"><a href="#cb21-1693" aria-hidden="true" tabindex="-1"></a><span class="vs">- More warming ‚Üí Ocean/permafrost release CO‚ÇÇ ‚Üí More GHGs ‚Üí Even more warming</span></span>
<span id="cb21-1694"><a href="#cb21-1694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-1695"><a href="#cb21-1695" aria-hidden="true" tabindex="-1"></a><span class="vs">**Key Point:** The **rate of current warming** (0.2¬∞C per decade) is unprecedented in the last 2,000 years because these feedbacks amplify the human-caused forcing.</span></span>
<span id="cb21-1696"><a href="#cb21-1696" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span><span class="sc">}</span></span>
<span id="cb21-1697"><a href="#cb21-1697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-1698"><a href="#cb21-1698" aria-hidden="true" tabindex="-1"></a><span class="vs">‚ö†Ô∏è **Why this matters:** These are called **positive feedbacks** not because they're good, but because they **amplify change** rather than damping it. Once triggered, they make climate change harder to stop.</span></span>
<span id="cb21-1699"><a href="#cb21-1699" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-20" data-nodetype="expression">

</div>
</div>
</div>
<hr>
<section id="climate-feedbacks-quiz" class="level2 quiz-section" data-number="33.1">
<h2 data-number="33.1" class="anchored" data-anchor-id="climate-feedbacks-quiz"><span class="header-section-number">33.1</span> üìù Climate Feedbacks Quiz</h2>
</section>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb22" data-startfrom="1712" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1711;"><span id="cb22-1712"><a href="#cb22-1712" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb22-1713"><a href="#cb22-1713" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> questions <span class="op">=</span> [</span>
<span id="cb22-1714"><a href="#cb22-1714" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1715"><a href="#cb22-1715" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"What is the primary greenhouse gas that humans have increased in the atmosphere?"</span><span class="op">,</span></span>
<span id="cb22-1716"><a href="#cb22-1716" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) Oxygen"</span><span class="op">,</span> <span class="st">"B) Nitrogen"</span><span class="op">,</span> <span class="st">"C) Carbon dioxide"</span><span class="op">,</span> <span class="st">"D) Argon"</span>]<span class="op">,</span></span>
<span id="cb22-1717"><a href="#cb22-1717" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb22-1718"><a href="#cb22-1718" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"Carbon dioxide (CO‚ÇÇ) is the primary greenhouse gas increased by human activities, mainly through burning fossil fuels."</span></span>
<span id="cb22-1719"><a href="#cb22-1719" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb22-1720"><a href="#cb22-1720" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1721"><a href="#cb22-1721" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"What is albedo?"</span><span class="op">,</span></span>
<span id="cb22-1722"><a href="#cb22-1722" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) The amount of CO‚ÇÇ in the atmosphere"</span><span class="op">,</span> <span class="st">"B) The measure of how much light a surface reflects"</span><span class="op">,</span> <span class="st">"C) The temperature of the ocean"</span><span class="op">,</span> <span class="st">"D) The speed of ice melting"</span>]<span class="op">,</span></span>
<span id="cb22-1723"><a href="#cb22-1723" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb22-1724"><a href="#cb22-1724" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"Albedo measures the reflectivity of a surface ‚Äî from 0 (absorbs all light) to 1 (reflects all light)."</span></span>
<span id="cb22-1725"><a href="#cb22-1725" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb22-1726"><a href="#cb22-1726" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1727"><a href="#cb22-1727" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"Which surface has the HIGHEST albedo?"</span><span class="op">,</span></span>
<span id="cb22-1728"><a href="#cb22-1728" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) Fresh snow"</span><span class="op">,</span> <span class="st">"B) Ocean water"</span><span class="op">,</span> <span class="st">"C) Forest"</span><span class="op">,</span> <span class="st">"D) Desert sand"</span>]<span class="op">,</span></span>
<span id="cb22-1729"><a href="#cb22-1729" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb22-1730"><a href="#cb22-1730" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"Fresh snow has an albedo of about 0.80‚Äì0.90, reflecting most incoming solar radiation."</span></span>
<span id="cb22-1731"><a href="#cb22-1731" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb22-1732"><a href="#cb22-1732" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1733"><a href="#cb22-1733" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"The ice-albedo feedback is an example of:"</span><span class="op">,</span></span>
<span id="cb22-1734"><a href="#cb22-1734" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) Negative feedback that stabilizes climate"</span><span class="op">,</span> <span class="st">"B) Positive feedback that amplifies warming"</span><span class="op">,</span> <span class="st">"C) No feedback effect"</span><span class="op">,</span> <span class="st">"D) A cooling mechanism"</span>]<span class="op">,</span></span>
<span id="cb22-1735"><a href="#cb22-1735" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb22-1736"><a href="#cb22-1736" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"Ice-albedo is a positive feedback: warming melts ice ‚Üí darker surface ‚Üí more absorption ‚Üí more warming."</span></span>
<span id="cb22-1737"><a href="#cb22-1737" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb22-1738"><a href="#cb22-1738" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1739"><a href="#cb22-1739" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"Why is the Arctic warming almost 4 times faster than the global average?"</span><span class="op">,</span></span>
<span id="cb22-1740"><a href="#cb22-1740" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) The Sun is closer to the Arctic"</span><span class="op">,</span> <span class="st">"B) Ice-albedo feedback amplifies warming there"</span><span class="op">,</span> <span class="st">"C) There are more people in the Arctic"</span><span class="op">,</span> <span class="st">"D) Volcanic activity in the Arctic"</span>]<span class="op">,</span></span>
<span id="cb22-1741"><a href="#cb22-1741" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb22-1742"><a href="#cb22-1742" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"Arctic amplification occurs because the ice-albedo feedback is strongest where ice is melting, creating a self-reinforcing warming cycle."</span></span>
<span id="cb22-1743"><a href="#cb22-1743" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb22-1744"><a href="#cb22-1744" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1745"><a href="#cb22-1745" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"Current atmospheric CO‚ÇÇ levels are approximately:"</span><span class="op">,</span></span>
<span id="cb22-1746"><a href="#cb22-1746" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) 280 ppm (pre-industrial level)"</span><span class="op">,</span> <span class="st">"B) 350 ppm"</span><span class="op">,</span> <span class="st">"C) 420 ppm"</span><span class="op">,</span> <span class="st">"D) 1000 ppm"</span>]<span class="op">,</span></span>
<span id="cb22-1747"><a href="#cb22-1747" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb22-1748"><a href="#cb22-1748" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"As of 2024, atmospheric CO‚ÇÇ is approximately 420 ppm ‚Äî 50% higher than the pre-industrial level of 280 ppm."</span></span>
<span id="cb22-1749"><a href="#cb22-1749" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb22-1750"><a href="#cb22-1750" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1751"><a href="#cb22-1751" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"In the greenhouse effect, what type of radiation do greenhouse gases absorb?"</span><span class="op">,</span></span>
<span id="cb22-1752"><a href="#cb22-1752" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) Visible light from the Sun"</span><span class="op">,</span> <span class="st">"B) Ultraviolet radiation"</span><span class="op">,</span> <span class="st">"C) Infrared radiation from Earth's surface"</span><span class="op">,</span> <span class="st">"D) X-rays"</span>]<span class="op">,</span></span>
<span id="cb22-1753"><a href="#cb22-1753" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb22-1754"><a href="#cb22-1754" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"Greenhouse gases absorb infrared (heat) radiation emitted by Earth's surface, trapping energy in the atmosphere."</span></span>
<span id="cb22-1755"><a href="#cb22-1755" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb22-1756"><a href="#cb22-1756" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1757"><a href="#cb22-1757" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"The permafrost feedback involves the release of which gases?"</span><span class="op">,</span></span>
<span id="cb22-1758"><a href="#cb22-1758" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) Oxygen and nitrogen"</span><span class="op">,</span> <span class="st">"B) Methane and carbon dioxide"</span><span class="op">,</span> <span class="st">"C) Ozone and CFCs"</span><span class="op">,</span> <span class="st">"D) Hydrogen and helium"</span>]<span class="op">,</span></span>
<span id="cb22-1759"><a href="#cb22-1759" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb22-1760"><a href="#cb22-1760" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"Thawing permafrost releases methane (CH‚ÇÑ) and CO‚ÇÇ from decomposing organic matter ‚Äî methane is 80x more potent as a greenhouse gas over 20 years."</span></span>
<span id="cb22-1761"><a href="#cb22-1761" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb22-1762"><a href="#cb22-1762" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1763"><a href="#cb22-1763" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"If Arctic sea ice (albedo 0.60) is replaced by open ocean (albedo 0.06), what happens to energy absorption?"</span><span class="op">,</span></span>
<span id="cb22-1764"><a href="#cb22-1764" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) Stays the same"</span><span class="op">,</span> <span class="st">"B) Decreases slightly"</span><span class="op">,</span> <span class="st">"C) Increases dramatically (10x more absorbed)"</span><span class="op">,</span> <span class="st">"D) Decreases dramatically"</span>]<span class="op">,</span></span>
<span id="cb22-1765"><a href="#cb22-1765" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb22-1766"><a href="#cb22-1766" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"Ocean absorbs 94% of incoming radiation vs. ice absorbing only 40% ‚Äî nearly 10x more energy is absorbed."</span></span>
<span id="cb22-1767"><a href="#cb22-1767" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb22-1768"><a href="#cb22-1768" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb22-1769"><a href="#cb22-1769" aria-hidden="true" tabindex="-1"></a>      <span class="dt">q</span><span class="op">:</span> <span class="st">"Which statement best explains why scientists are confident humans are causing current climate change?"</span><span class="op">,</span></span>
<span id="cb22-1770"><a href="#cb22-1770" aria-hidden="true" tabindex="-1"></a>      <span class="dt">options</span><span class="op">:</span> [<span class="st">"A) It's just a guess"</span><span class="op">,</span> <span class="st">"B) Temperatures have changed before naturally"</span><span class="op">,</span> <span class="st">"C) CO‚ÇÇ levels are far beyond natural range and match timing of industrialization"</span><span class="op">,</span> <span class="st">"D) The Sun has gotten brighter"</span>]<span class="op">,</span></span>
<span id="cb22-1771"><a href="#cb22-1771" aria-hidden="true" tabindex="-1"></a>      <span class="dt">correct</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb22-1772"><a href="#cb22-1772" aria-hidden="true" tabindex="-1"></a>      <span class="dt">explanation</span><span class="op">:</span> <span class="st">"CO‚ÇÇ at 420 ppm is far beyond the 180‚Äì280 ppm natural range of the last 800,000 years, and the rise correlates precisely with fossil fuel use."</span></span>
<span id="cb22-1773"><a href="#cb22-1773" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-1774"><a href="#cb22-1774" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb22-1775"><a href="#cb22-1775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-1776"><a href="#cb22-1776" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> container <span class="op">=</span> d3<span class="op">.</span><span class="fu">create</span>(<span class="st">"div"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"interactive-quiz"</span>)<span class="op">;</span></span>
<span id="cb22-1777"><a href="#cb22-1777" aria-hidden="true" tabindex="-1"></a>  container<span class="op">.</span><span class="fu">append</span>(<span class="st">"p"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"text-align"</span><span class="op">,</span> <span class="st">"center"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"color"</span><span class="op">,</span> <span class="st">"#718096"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"font-style"</span><span class="op">,</span> <span class="st">"italic"</span>)</span>
<span id="cb22-1778"><a href="#cb22-1778" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(<span class="st">"Select an answer for each question, then click 'Check Answers' to see your score."</span>)<span class="op">;</span></span>
<span id="cb22-1779"><a href="#cb22-1779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-1780"><a href="#cb22-1780" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> state <span class="op">=</span> { <span class="dt">answers</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Array</span>(questions<span class="op">.</span><span class="at">length</span>)<span class="op">.</span><span class="fu">fill</span>(<span class="op">-</span><span class="dv">1</span>) }<span class="op">;</span></span>
<span id="cb22-1781"><a href="#cb22-1781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-1782"><a href="#cb22-1782" aria-hidden="true" tabindex="-1"></a>  questions<span class="op">.</span><span class="fu">forEach</span>((question<span class="op">,</span> qi) <span class="kw">=&gt;</span> {</span>
<span id="cb22-1783"><a href="#cb22-1783" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> qDiv <span class="op">=</span> container<span class="op">.</span><span class="fu">append</span>(<span class="st">"div"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"quiz-question"</span>)<span class="op">;</span></span>
<span id="cb22-1784"><a href="#cb22-1784" aria-hidden="true" tabindex="-1"></a>    qDiv<span class="op">.</span><span class="fu">append</span>(<span class="st">"p"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"700"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"margin-bottom"</span><span class="op">,</span> <span class="st">"12px"</span>)</span>
<span id="cb22-1785"><a href="#cb22-1785" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">text</span>(<span class="vs">`Question </span><span class="sc">${</span>qi <span class="op">+</span> <span class="dv">1</span><span class="sc">}</span><span class="vs">: </span><span class="sc">${</span>question<span class="op">.</span><span class="at">q</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb22-1786"><a href="#cb22-1786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-1787"><a href="#cb22-1787" aria-hidden="true" tabindex="-1"></a>    question<span class="op">.</span><span class="at">options</span><span class="op">.</span><span class="fu">forEach</span>((opt<span class="op">,</span> oi) <span class="kw">=&gt;</span> {</span>
<span id="cb22-1788"><a href="#cb22-1788" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> label <span class="op">=</span> qDiv<span class="op">.</span><span class="fu">append</span>(<span class="st">"label"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"quiz-option"</span>)</span>
<span id="cb22-1789"><a href="#cb22-1789" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"display"</span><span class="op">,</span> <span class="st">"block"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"padding"</span><span class="op">,</span> <span class="st">"10px 16px"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"margin"</span><span class="op">,</span> <span class="st">"6px 0"</span>)</span>
<span id="cb22-1790"><a href="#cb22-1790" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"border"</span><span class="op">,</span> <span class="st">"2px solid #e2e8f0"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"border-radius"</span><span class="op">,</span> <span class="st">"8px"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"cursor"</span><span class="op">,</span> <span class="st">"pointer"</span>)<span class="op">;</span></span>
<span id="cb22-1791"><a href="#cb22-1791" aria-hidden="true" tabindex="-1"></a>      label<span class="op">.</span><span class="fu">append</span>(<span class="st">"input"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"type"</span><span class="op">,</span> <span class="st">"radio"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"name"</span><span class="op">,</span> <span class="vs">`cfq</span><span class="sc">${</span>qi<span class="sc">}</span><span class="vs">`</span>)</span>
<span id="cb22-1792"><a href="#cb22-1792" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"margin-right"</span><span class="op">,</span> <span class="st">"10px"</span>)</span>
<span id="cb22-1793"><a href="#cb22-1793" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">on</span>(<span class="st">"change"</span><span class="op">,</span> () <span class="kw">=&gt;</span> { state<span class="op">.</span><span class="at">answers</span>[qi] <span class="op">=</span> oi<span class="op">;</span> })<span class="op">;</span></span>
<span id="cb22-1794"><a href="#cb22-1794" aria-hidden="true" tabindex="-1"></a>      label<span class="op">.</span><span class="fu">append</span>(<span class="st">"span"</span>)<span class="op">.</span><span class="fu">text</span>(opt)<span class="op">;</span></span>
<span id="cb22-1795"><a href="#cb22-1795" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb22-1796"><a href="#cb22-1796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-1797"><a href="#cb22-1797" aria-hidden="true" tabindex="-1"></a>    qDiv<span class="op">.</span><span class="fu">append</span>(<span class="st">"div"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="vs">`cf-feedback-</span><span class="sc">${</span>qi<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb22-1798"><a href="#cb22-1798" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb22-1799"><a href="#cb22-1799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-1800"><a href="#cb22-1800" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> btnDiv <span class="op">=</span> container<span class="op">.</span><span class="fu">append</span>(<span class="st">"div"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"text-align"</span><span class="op">,</span> <span class="st">"center"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"margin-top"</span><span class="op">,</span> <span class="st">"20px"</span>)<span class="op">;</span></span>
<span id="cb22-1801"><a href="#cb22-1801" aria-hidden="true" tabindex="-1"></a>  btnDiv<span class="op">.</span><span class="fu">append</span>(<span class="st">"button"</span>)</span>
<span id="cb22-1802"><a href="#cb22-1802" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">style</span>(<span class="st">"background"</span><span class="op">,</span> <span class="st">"linear-gradient(135deg, #667eea, #764ba2)"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"color"</span><span class="op">,</span> <span class="st">"white"</span>)</span>
<span id="cb22-1803"><a href="#cb22-1803" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">style</span>(<span class="st">"border"</span><span class="op">,</span> <span class="st">"none"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"padding"</span><span class="op">,</span> <span class="st">"12px 36px"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"border-radius"</span><span class="op">,</span> <span class="st">"25px"</span>)</span>
<span id="cb22-1804"><a href="#cb22-1804" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">style</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"1.1em"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"700"</span>)<span class="op">.</span><span class="fu">style</span>(<span class="st">"cursor"</span><span class="op">,</span> <span class="st">"pointer"</span>)</span>
<span id="cb22-1805"><a href="#cb22-1805" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">style</span>(<span class="st">"box-shadow"</span><span class="op">,</span> <span class="st">"0 4px 15px rgba(102,126,234,0.4)"</span>)</span>
<span id="cb22-1806"><a href="#cb22-1806" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(<span class="st">"Check Answers"</span>)</span>
<span id="cb22-1807"><a href="#cb22-1807" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">on</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb22-1808"><a href="#cb22-1808" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-1809"><a href="#cb22-1809" aria-hidden="true" tabindex="-1"></a>      questions<span class="op">.</span><span class="fu">forEach</span>((question<span class="op">,</span> qi) <span class="kw">=&gt;</span> {</span>
<span id="cb22-1810"><a href="#cb22-1810" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> fb <span class="op">=</span> container<span class="op">.</span><span class="fu">select</span>(<span class="vs">`.cf-feedback-</span><span class="sc">${</span>qi<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb22-1811"><a href="#cb22-1811" aria-hidden="true" tabindex="-1"></a>        fb<span class="op">.</span><span class="fu">html</span>(<span class="st">""</span>)<span class="op">;</span></span>
<span id="cb22-1812"><a href="#cb22-1812" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (state<span class="op">.</span><span class="at">answers</span>[qi] <span class="op">===</span> <span class="op">-</span><span class="dv">1</span>) {</span>
<span id="cb22-1813"><a href="#cb22-1813" aria-hidden="true" tabindex="-1"></a>          fb<span class="op">.</span><span class="fu">append</span>(<span class="st">"div"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"quiz-feedback incorrect"</span>)</span>
<span id="cb22-1814"><a href="#cb22-1814" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">text</span>(<span class="st">"‚ö†Ô∏è Please select an answer."</span>)<span class="op">;</span></span>
<span id="cb22-1815"><a href="#cb22-1815" aria-hidden="true" tabindex="-1"></a>          <span class="cf">return</span><span class="op">;</span></span>
<span id="cb22-1816"><a href="#cb22-1816" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-1817"><a href="#cb22-1817" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> isCorrect <span class="op">=</span> state<span class="op">.</span><span class="at">answers</span>[qi] <span class="op">===</span> question<span class="op">.</span><span class="at">correct</span><span class="op">;</span></span>
<span id="cb22-1818"><a href="#cb22-1818" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (isCorrect) score<span class="op">++;</span></span>
<span id="cb22-1819"><a href="#cb22-1819" aria-hidden="true" tabindex="-1"></a>        fb<span class="op">.</span><span class="fu">append</span>(<span class="st">"div"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="vs">`quiz-feedback </span><span class="sc">${</span>isCorrect <span class="op">?</span> <span class="st">"correct"</span> <span class="op">:</span> <span class="st">"incorrect"</span><span class="sc">}</span><span class="vs">`</span>)</span>
<span id="cb22-1820"><a href="#cb22-1820" aria-hidden="true" tabindex="-1"></a>          <span class="op">.</span><span class="fu">html</span>(<span class="vs">`</span><span class="sc">${</span>isCorrect <span class="op">?</span> <span class="st">"‚úÖ Correct!"</span> <span class="op">:</span> <span class="st">"‚ùå Incorrect. The correct answer is "</span> <span class="op">+</span> question<span class="op">.</span><span class="at">options</span>[question<span class="op">.</span><span class="at">correct</span>] <span class="op">+</span> <span class="st">"."</span><span class="sc">}</span><span class="vs">&lt;br&gt;&lt;em&gt;</span><span class="sc">${</span>question<span class="op">.</span><span class="at">explanation</span><span class="sc">}</span><span class="vs">&lt;/em&gt;`</span>)<span class="op">;</span></span>
<span id="cb22-1821"><a href="#cb22-1821" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb22-1822"><a href="#cb22-1822" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb22-1823"><a href="#cb22-1823" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> scoreDiv <span class="op">=</span> container<span class="op">.</span><span class="fu">select</span>(<span class="st">".cf-score-display"</span>)<span class="op">;</span></span>
<span id="cb22-1824"><a href="#cb22-1824" aria-hidden="true" tabindex="-1"></a>      scoreDiv<span class="op">.</span><span class="fu">html</span>(<span class="st">""</span>)<span class="op">;</span></span>
<span id="cb22-1825"><a href="#cb22-1825" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> pct <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>(score <span class="op">/</span> questions<span class="op">.</span><span class="at">length</span> <span class="op">*</span> <span class="dv">100</span>)<span class="op">;</span></span>
<span id="cb22-1826"><a href="#cb22-1826" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> emoji <span class="op">=</span> pct <span class="op">===</span> <span class="dv">100</span> <span class="op">?</span> <span class="st">"üåü"</span> <span class="op">:</span> pct <span class="op">&gt;=</span> <span class="dv">80</span> <span class="op">?</span> <span class="st">"üëè"</span> <span class="op">:</span> pct <span class="op">&gt;=</span> <span class="dv">60</span> <span class="op">?</span> <span class="st">"üëç"</span> <span class="op">:</span> <span class="st">"üìö"</span><span class="op">;</span></span>
<span id="cb22-1827"><a href="#cb22-1827" aria-hidden="true" tabindex="-1"></a>      scoreDiv<span class="op">.</span><span class="fu">append</span>(<span class="st">"div"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"quiz-score"</span>)</span>
<span id="cb22-1828"><a href="#cb22-1828" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">text</span>(<span class="vs">`</span><span class="sc">${</span>emoji<span class="sc">}</span><span class="vs"> Score: </span><span class="sc">${</span>score<span class="sc">}</span><span class="vs">/</span><span class="sc">${</span>questions<span class="op">.</span><span class="at">length</span><span class="sc">}</span><span class="vs"> (</span><span class="sc">${</span>pct<span class="sc">}</span><span class="vs">%)`</span>)<span class="op">;</span></span>
<span id="cb22-1829"><a href="#cb22-1829" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb22-1830"><a href="#cb22-1830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-1831"><a href="#cb22-1831" aria-hidden="true" tabindex="-1"></a>  container<span class="op">.</span><span class="fu">append</span>(<span class="st">"div"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"cf-score-display"</span>)<span class="op">;</span></span>
<span id="cb22-1832"><a href="#cb22-1832" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> container<span class="op">.</span><span class="fu">node</span>()<span class="op">;</span></span>
<span id="cb22-1833"><a href="#cb22-1833" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-21" data-nodetype="expression">

</div>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIEVuc3VyZSB3ZSBhcmUgZ3JhYmJpbmcgYSB2ZXJzaW9uIG9mIFBsb3QgdGhhdCBzdXBwb3J0cyB0b29sdGlwc1xuUGxvdCA9IHJlcXVpcmUoXCJAb2JzZXJ2YWJsZWhxL3Bsb3RAMC42LjEzXCIpXG5cbmFyY3RpY0RhdGEgPSBbXG4gIHt5ZWFyOiAxOTgwLCBnbG9iYWw6IDAuMjYsIGFyY3RpYzogMC40fSxcbiAge3llYXI6IDE5ODUsIGdsb2JhbDogMC4xMiwgYXJjdGljOiAwLjN9LFxuICB7eWVhcjogMTk5MCwgZ2xvYmFsOiAwLjQ1LCBhcmN0aWM6IDAuOH0sXG4gIHt5ZWFyOiAxOTk1LCBnbG9iYWw6IDAuNDUsIGFyY3RpYzogMC45fSxcbiAge3llYXI6IDIwMDAsIGdsb2JhbDogMC40MiwgYXJjdGljOiAxLjB9LFxuICB7eWVhcjogMjAwNSwgZ2xvYmFsOiAwLjY5LCBhcmN0aWM6IDEuNX0sXG4gIHt5ZWFyOiAyMDEwLCBnbG9iYWw6IDAuNzIsIGFyY3RpYzogMS44fSxcbiAge3llYXI6IDIwMTUsIGdsb2JhbDogMC45MCwgYXJjdGljOiAyLjV9LFxuICB7eWVhcjogMjAyMCwgZ2xvYmFsOiAxLjAyLCBhcmN0aWM6IDMuMn0sXG4gIHt5ZWFyOiAyMDI0LCBnbG9iYWw6IDEuMjksIGFyY3RpYzogNC4xfVxuXVxuXG5QbG90LnBsb3Qoe1xuICB0aXRsZTogXCJUZW1wZXJhdHVyZSBDaGFuZ2U6IEFyY3RpYyB2cyBHbG9iYWwgQXZlcmFnZVwiLFxuICBzdWJ0aXRsZTogXCJBbm9tYWx5IHJlbGF0aXZlIHRvIDE5NTEtMTk4MCBiYXNlbGluZSAowrBDKVwiLFxuICB3aWR0aDogNzAwLFxuICBoZWlnaHQ6IDQwMCxcbiAgeToge2xhYmVsOiBcIlRlbXBlcmF0dXJlIEFub21hbHkgKMKwQylcIiwgZG9tYWluOiBbMCwgNC41XX0sXG4gIHg6IHtsYWJlbDogXCJZZWFyXCIsIHRpY2tGb3JtYXQ6IFwiZFwifSwgLy8gRm9ybWF0IHllYXIgdG8gYXZvaWQgY29tbWFzIChlLmcuIDIsMDIwKVxuICBjb2xvcjoge2xlZ2VuZDogdHJ1ZX0sXG4gIG1hcmtzOiBbXG4gICAgLy8gMS4gQWRkIGEgdmVydGljYWwgc2Nhbm5pbmcgbGluZSB0aGF0IGZvbGxvd3MgdGhlIG1vdXNlIChwb2ludGVyWClcbiAgICBQbG90LnJ1bGVYKGFyY3RpY0RhdGEsIFBsb3QucG9pbnRlclgoe3g6IFwieWVhclwiLCBzdHJva2U6IFwiZ3JheVwiLCBzdHJva2VPcGFjaXR5OiAwLjV9KSksXG5cbiAgICAvLyBBUkNUSUMgTElORSAmIERPVFNcbiAgICBQbG90LmxpbmUoYXJjdGljRGF0YSwge3g6IFwieWVhclwiLCB5OiBcImFyY3RpY1wiLCBzdHJva2U6IFwiIzM0OThkYlwiLCBzdHJva2VXaWR0aDogMyxcbiAgICAgICAgdGlwOiB0cnVlfSksXG4gICAgUGxvdC5kb3QoYXJjdGljRGF0YSwge1xuICAgICAgeDogXCJ5ZWFyXCIsIFxuICAgICAgeTogXCJhcmN0aWNcIiwgXG4gICAgICBmaWxsOiBcIiMzNDk4ZGJcIiwgXG4gICAgICByOiA2LFxuICAgICAgLy8gMi4gRW5hYmxlIFRvb2x0aXBcbiAgICAgIHRpcDogdHJ1ZSxcbiAgICAgIC8vIDMuIFJlbmFtZSB0b29sdGlwIGxhYmVscyAoc28gaXQgZG9lc24ndCBzYXkgJ3k6IDQuMScpXG4gICAgICBjaGFubmVsczoge1RlbXA6IFwiYXJjdGljXCIsIFllYXI6IFwieWVhclwifVxuICAgIH0pLFxuXG4gICAgLy8gR0xPQkFMIExJTkUgJiBET1RTXG4gICAgUGxvdC5saW5lKGFyY3RpY0RhdGEsIHt4OiBcInllYXJcIiwgeTogXCJnbG9iYWxcIiwgc3Ryb2tlOiBcIiNlNzRjM2NcIiwgc3Ryb2tlV2lkdGg6IDMsXG4gICAgICAgIHRpcDogdHJ1ZX0pLFxuICAgIFBsb3QuZG90KGFyY3RpY0RhdGEsIHtcbiAgICAgIHg6IFwieWVhclwiLCBcbiAgICAgIHk6IFwiZ2xvYmFsXCIsIFxuICAgICAgZmlsbDogXCIjZTc0YzNjXCIsIFxuICAgICAgcjogNixcbiAgICAgIHRpcDogdHJ1ZSxcbiAgICAgIGNoYW5uZWxzOiB7VGVtcDogXCJnbG9iYWxcIiwgWWVhcjogXCJ5ZWFyXCJ9XG4gICAgfSksXG5cbiAgICAvLyBUZXh0IGxhYmVscyAoU3RhdGljKVxuICAgIFBsb3QudGV4dChbe3g6IDIwMTAsIHk6IDIuM31dLCB7eDogXCJ4XCIsIHk6IFwieVwiLCB0ZXh0OiBkID0+IFwiQXJjdGljXCIsIGZpbGw6IFwiIzM0OThkYlwiLCBmb250U2l6ZTogMTQsIGZvbnRXZWlnaHQ6IFwiYm9sZFwifSksXG4gICAgUGxvdC50ZXh0KFt7eDogMjAxMCwgeTogMC41fV0sIHt4OiBcInhcIiwgeTogXCJ5XCIsIHRleHQ6IGQgPT4gXCJHbG9iYWxcIiwgZmlsbDogXCIjZTc0YzNjXCIsIGZvbnRTaXplOiAxNCwgZm9udFdlaWdodDogXCJib2xkXCJ9KVxuICBdXG59KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXG4vLyAtLS0gMS4gSU5URVJBQ1RJVkUgSU5QVVRTIC0tLVxudmlld29mIHllYXJzID0gSW5wdXRzLnJhbmdlKFswLCAxMDBdLCB7bGFiZWw6IFwiWWVhcnMgRWxhcHNlZFwiLCBzdGVwOiAxLCB2YWx1ZTogMH0pO1xudmlld29mIGh1bWFuX2VtaXNzaW9ucyA9IElucHV0cy5yYW5nZShbMCwgMTVdLCB7bGFiZWw6IFwiRm9zc2lsIEZ1ZWwgQnVybmluZyAoR3QveWVhcilcIiwgc3RlcDogMC41LCB2YWx1ZTogMH0pO1xuXG4vLyAtLS0gMi4gVEhFIE1BVEggTU9ERUwgLS0tXG4vLyBJbml0aWFsIFN0b2NrcyAoVGFibGUgMSlcbmluaXRfYXRtb3MgPSA1NjA7XG5pbml0X29jZWFuID0gMzgwMDA7XG5pbml0X2JpbyA9IDIxNjA7XG5pbml0X2Zvc3NpbCA9IDEwMDAwO1xuXG4vLyBGbG93cyAoVGFibGUgMikgLSBDb25zdGFudCBMaW5lYXIgUmF0ZXNcbi8vIE5vdGU6IEluIHJlYWxpdHksIGZsb3dzIGNoYW5nZSB3aXRoIGNvbmNlbnRyYXRpb24sIGJ1dCBmb3IgdGhpcyBoaWdoIHNjaG9vbCBtb2RlbCB3ZSB1c2UgdGhlIGZpeGVkIHJhdGVzIHByb3ZpZGVkLlxuZmxvd19vY2Vhbl90b19hdG1vcyA9IDYyO1xuZmxvd19hdG1vc190b19vY2VhbiA9IDYwO1xuZmxvd19iaW9fdG9fYXRtb3MgPSAxMDc7XG5mbG93X2F0bW9zX3RvX2JpbyA9IDEwOTtcblxuLy8gQ2FsY3VsYXRlIEN1cnJlbnQgU3RhdGVcbmN1cnJlbnRfZm9zc2lsID0gaW5pdF9mb3NzaWwgLSAoaHVtYW5fZW1pc3Npb25zICogeWVhcnMpO1xuXG4vLyBOZXQgRmx1eCB0byBBdG1vc3BoZXJlID0gKEluIGZyb20gT2NlYW4gKyBJbiBmcm9tIEJpbyArIEh1bWFuKSAtIChPdXQgdG8gT2NlYW4gKyBPdXQgdG8gQmlvKVxueWVhcmx5X2F0bW9zX2NoYW5nZSA9IChmbG93X29jZWFuX3RvX2F0bW9zICsgZmxvd19iaW9fdG9fYXRtb3MgKyBodW1hbl9lbWlzc2lvbnMpIC0gKGZsb3dfYXRtb3NfdG9fb2NlYW4gKyBmbG93X2F0bW9zX3RvX2Jpbyk7XG5jdXJyZW50X2F0bW9zID0gaW5pdF9hdG1vcyArICh5ZWFybHlfYXRtb3NfY2hhbmdlICogeWVhcnMpO1xuXG4vLyBOZXQgRmx1eCB0byBPY2VhbiAoSW4gLSBPdXQpXG5jdXJyZW50X29jZWFuID0gaW5pdF9vY2VhbiArICgoZmxvd19hdG1vc190b19vY2VhbiAtIGZsb3dfb2NlYW5fdG9fYXRtb3MpICogeWVhcnMpO1xuXG4vLyBOZXQgRmx1eCB0byBCaW8gKEluIC0gT3V0KVxuY3VycmVudF9iaW8gPSBpbml0X2JpbyArICgoZmxvd19hdG1vc190b19iaW8gLSBmbG93X2Jpb190b19hdG1vcykgKiB5ZWFycyk7XG5cbi8vIC0tLSAzLiBUSEUgVklTVUFMSVpBVElPTiAoU1ZHKSAtLS1cbmh0bC5odG1sYDxzdmcgd2lkdGg9XCI2MDBcIiBoZWlnaHQ9XCI0NTBcIiB2aWV3Qm94PVwiMCAwIDYwMCA0NTBcIiBzdHlsZT1cImZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1wiPlxuICBcbiAgPGRlZnM+XG4gICAgPG1hcmtlciBpZD1cImFycm93aGVhZFwiIG1hcmtlcldpZHRoPVwiMTBcIiBtYXJrZXJIZWlnaHQ9XCI3XCIgcmVmWD1cIjBcIiByZWZZPVwiMy41XCIgb3JpZW50PVwiYXV0b1wiPlxuICAgICAgPHBvbHlnb24gcG9pbnRzPVwiMCAwLCAxMCAzLjUsIDAgN1wiIGZpbGw9XCIjNjY2XCIgLz5cbiAgICA8L21hcmtlcj5cbiAgPC9kZWZzPlxuXG4gIDx0ZXh0IHg9XCIzMDBcIiB5PVwiMzBcIiB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIGZvbnQtc2l6ZT1cIjE4XCIgZm9udC13ZWlnaHQ9XCJib2xkXCIgZmlsbD1cIiMzMzNcIj5cbiAgICAke2h1bWFuX2VtaXNzaW9ucyA9PSAwID8gXCJQcmUtSW5kdXN0cmlhbCBFcXVpbGlicml1bVwiIDogXCJQb3N0LUluZHVzdHJpYWwgRGlzcnVwdGlvblwifVxuICA8L3RleHQ+XG5cbiAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDIwMCwgNTApXCI+XG4gICAgPHJlY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiMjAwXCIgaGVpZ2h0PVwiODBcIiByeD1cIjEwXCIgZmlsbD1cIiNFM0YyRkRcIiBzdHJva2U9XCIjMjE5NkYzXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz5cbiAgICA8dGV4dCB4PVwiMTAwXCIgeT1cIjMwXCIgdGV4dC1hbmNob3I9XCJtaWRkbGVcIiBmb250LXdlaWdodD1cImJvbGRcIj5BVE1PU1BIRVJFPC90ZXh0PlxuICAgIDx0ZXh0IHg9XCIxMDBcIiB5PVwiNTVcIiB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIGZvbnQtc2l6ZT1cIjIwXCIgZmlsbD1cIiNEMzJGMkZcIiBmb250LXdlaWdodD1cImJvbGRcIj5cbiAgICAgICR7Y3VycmVudF9hdG1vcy50b0ZpeGVkKDApfSBHdFxuICAgIDwvdGV4dD5cbiAgPC9nPlxuXG4gIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgzODAsIDI1MClcIj5cbiAgICA8cmVjdCB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCIxODBcIiBoZWlnaHQ9XCI4MFwiIHJ4PVwiMTBcIiBmaWxsPVwiI0UwRjdGQVwiIHN0cm9rZT1cIiMwMEJDRDRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPlxuICAgIDx0ZXh0IHg9XCI5MFwiIHk9XCIzMFwiIHRleHQtYW5jaG9yPVwibWlkZGxlXCIgZm9udC13ZWlnaHQ9XCJib2xkXCI+T0NFQU48L3RleHQ+XG4gICAgPHRleHQgeD1cIjkwXCIgeT1cIjU1XCIgdGV4dC1hbmNob3I9XCJtaWRkbGVcIiBmb250LXNpemU9XCIxNlwiPlxuICAgICAgJHtjdXJyZW50X29jZWFuLnRvRml4ZWQoMCl9IEd0XG4gICAgPC90ZXh0PlxuICA8L2c+XG5cbiAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDQwLCAyNTApXCI+XG4gICAgPHJlY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiMTgwXCIgaGVpZ2h0PVwiODBcIiByeD1cIjEwXCIgZmlsbD1cIiNFOEY1RTlcIiBzdHJva2U9XCIjNENBRjUwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz5cbiAgICA8dGV4dCB4PVwiOTBcIiB5PVwiMzBcIiB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIGZvbnQtd2VpZ2h0PVwiYm9sZFwiPkJJT1NQSEVSRTwvdGV4dD5cbiAgICA8dGV4dCB4PVwiOTBcIiB5PVwiNTVcIiB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIGZvbnQtc2l6ZT1cIjE2XCI+XG4gICAgICAke2N1cnJlbnRfYmlvLnRvRml4ZWQoMCl9IEd0XG4gICAgPC90ZXh0PlxuICA8L2c+XG5cbiAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDIwMCwgMzcwKVwiPlxuICAgIDxyZWN0IHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjIwMFwiIGhlaWdodD1cIjYwXCIgcng9XCIxMFwiIGZpbGw9XCIjNDI0MjQyXCIgc3Ryb2tlPVwiIzAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+XG4gICAgPHRleHQgeD1cIjEwMFwiIHk9XCIyNVwiIHRleHQtYW5jaG9yPVwibWlkZGxlXCIgZmlsbD1cIndoaXRlXCIgZm9udC13ZWlnaHQ9XCJib2xkXCI+Rk9TU0lMIEZVRUxTPC90ZXh0PlxuICAgIDx0ZXh0IHg9XCIxMDBcIiB5PVwiNDVcIiB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIGZpbGw9XCJ3aGl0ZVwiIGZvbnQtc2l6ZT1cIjE0XCI+XG4gICAgICAke2N1cnJlbnRfZm9zc2lsLnRvRml4ZWQoMSl9IEd0XG4gICAgPC90ZXh0PlxuICA8L2c+XG5cbiAgPGxpbmUgeDE9XCIxNDBcIiB5MT1cIjI1MFwiIHgyPVwiMjIwXCIgeTI9XCIxMzBcIiBzdHJva2U9XCIjNjY2XCIgc3Ryb2tlLXdpZHRoPVwiMlwiIG1hcmtlci1lbmQ9XCJ1cmwoI2Fycm93aGVhZClcIi8+XG4gIDx0ZXh0IHg9XCIxNTBcIiB5PVwiMTkwXCIgZm9udC1zaXplPVwiMTBcIiBmaWxsPVwiIzY2NlwiPjEwNzwvdGV4dD5cbiAgXG4gIDxsaW5lIHgxPVwiMjQwXCIgeTE9XCIxMzBcIiB4Mj1cIjE2MFwiIHkyPVwiMjUwXCIgc3Ryb2tlPVwiIzY2NlwiIHN0cm9rZS13aWR0aD1cIjJcIiBtYXJrZXItZW5kPVwidXJsKCNhcnJvd2hlYWQpXCIvPlxuICA8dGV4dCB4PVwiMjEwXCIgeT1cIjIwMFwiIGZvbnQtc2l6ZT1cIjEwXCIgZmlsbD1cIiM2NjZcIj4xMDk8L3RleHQ+XG5cbiAgPGxpbmUgeDE9XCI0NDBcIiB5MT1cIjI1MFwiIHgyPVwiMzYwXCIgeTI9XCIxMzBcIiBzdHJva2U9XCIjNjY2XCIgc3Ryb2tlLXdpZHRoPVwiMlwiIG1hcmtlci1lbmQ9XCJ1cmwoI2Fycm93aGVhZClcIi8+XG4gIDx0ZXh0IHg9XCI0MTBcIiB5PVwiMjAwXCIgZm9udC1zaXplPVwiMTBcIiBmaWxsPVwiIzY2NlwiPjYyPC90ZXh0PlxuXG4gIDxsaW5lIHgxPVwiMzgwXCIgeTE9XCIxMzBcIiB4Mj1cIjQ2MFwiIHkyPVwiMjUwXCIgc3Ryb2tlPVwiIzY2NlwiIHN0cm9rZS13aWR0aD1cIjJcIiBtYXJrZXItZW5kPVwidXJsKCNhcnJvd2hlYWQpXCIvPlxuICA8dGV4dCB4PVwiNDMwXCIgeT1cIjE5MFwiIGZvbnQtc2l6ZT1cIjEwXCIgZmlsbD1cIiM2NjZcIj42MDwvdGV4dD5cblxuICAke2h1bWFuX2VtaXNzaW9ucyA+IDAgPyBodGwuaHRtbGBcbiAgICA8bGluZSB4MT1cIjMwMFwiIHkxPVwiMzcwXCIgeDI9XCIzMDBcIiB5Mj1cIjE0MFwiIHN0cm9rZT1cIiNEMzJGMkZcIiBzdHJva2Utd2lkdGg9XCI0XCIgbWFya2VyLWVuZD1cInVybCgjYXJyb3doZWFkKVwiIHN0cm9rZS1kYXNoYXJyYXk9XCI1LDVcIi8+XG4gICAgPHRleHQgeD1cIjMxMFwiIHk9XCIzMDBcIiBmb250LXNpemU9XCIxMlwiIGZpbGw9XCIjRDMyRjJGXCIgZm9udC13ZWlnaHQ9XCJib2xkXCI+KyAke2h1bWFuX2VtaXNzaW9uc30gR3QveXI8L3RleHQ+XG4gIGAgOiBcIlwifVxuXG48L3N2Zz5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiIvLyBJY2UgY29yZSBDTzIgYW5kIHRlbXBlcmF0dXJlIGRhdGFcbmljZUNvcmVEYXRhID0gW1xuICB7a3lhOiA4MDAsIGNvMjogMTkwLCB0ZW1wOiAtOH0sXG4gIHtreWE6IDcwMCwgY28yOiAyMTAsIHRlbXA6IC02fSxcbiAge2t5YTogNjAwLCBjbzI6IDI0MCwgdGVtcDogLTR9LFxuICB7a3lhOiA1MDAsIGNvMjogMjAwLCB0ZW1wOiAtN30sXG4gIHtreWE6IDQwMCwgY28yOiAxODAsIHRlbXA6IC05fSxcbiAge2t5YTogMzUwLCBjbzI6IDIwMCwgdGVtcDogLTZ9LFxuICB7a3lhOiAzMDAsIGNvMjogMjQwLCB0ZW1wOiAtM30sXG4gIHtreWE6IDI1MCwgY28yOiAyMDAsIHRlbXA6IC03fSxcbiAge2t5YTogMjAwLCBjbzI6IDE5MCwgdGVtcDogLTh9LFxuICB7a3lhOiAxNTAsIGNvMjogMjIwLCB0ZW1wOiAtNX0sXG4gIHtreWE6IDEzMCwgY28yOiAyODAsIHRlbXA6IDJ9LFxuICB7a3lhOiAxMDAsIGNvMjogMjMwLCB0ZW1wOiAtNH0sXG4gIHtreWE6IDUwLCBjbzI6IDIwMCwgdGVtcDogLTZ9LFxuICB7a3lhOiAyMCwgY28yOiAxODAsIHRlbXA6IC05fSxcbiAge2t5YTogMTAsIGNvMjogMjYwLCB0ZW1wOiAtMX0sXG4gIHtreWE6IDAuMiwgY28yOiAyODAsIHRlbXA6IDB9LFxuICB7a3lhOiAwLCBjbzI6IDQyMCwgdGVtcDogMS4yfVxuXVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidmlld29mIHNob3dNb2Rlcm4gPSBJbnB1dHMudG9nZ2xlKHtsYWJlbDogXCJTaG93IG1vZGVybiBDT+KCgiBsZXZlbCAoNDIwIHBwbSlcIiwgdmFsdWU6IGZhbHNlfSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImRpc3BsYXlEYXRhID0gc2hvd01vZGVybiA/IGljZUNvcmVEYXRhIDogaWNlQ29yZURhdGEuZmlsdGVyKGQgPT4gZC5reWEgPiAwLjEpXG5cblBsb3QucGxvdCh7XG4gIHRpdGxlOiBcIkNP4oKCIENvbmNlbnRyYXRpb24gT3ZlciA4MDAsMDAwIFllYXJzXCIsXG4gIHN1YnRpdGxlOiBcIkRhdGEgZnJvbSBBbnRhcmN0aWMgaWNlIGNvcmVzXCIsXG4gIHdpZHRoOiA3NTAsXG4gIGhlaWdodDogMzUwLFxuICB4OiB7bGFiZWw6IFwiVGhvdXNhbmRzIG9mIFllYXJzIEFnb1wiLCByZXZlcnNlOiB0cnVlLCBkb21haW46IFs4MDAsIDBdfSxcbiAgeToge2xhYmVsOiBcIkNP4oKCIChwcG0pXCIsIGRvbWFpbjogWzE1MCwgc2hvd01vZGVybiA/IDQ1MCA6IDMyMF19LFxuICBtYXJrczogW1xuICAgIFBsb3QucnVsZVkoWzI4MF0sIHtzdHJva2U6IFwiIzk5OVwiLCBzdHJva2VEYXNoYXJyYXk6IFwiNCw0XCJ9KSxcbiAgICBQbG90LmxpbmUoZGlzcGxheURhdGEsIHt4OiBcImt5YVwiLCB5OiBcImNvMlwiLCBzdHJva2U6IFwiIzI3YWU2MFwiLCBzdHJva2VXaWR0aDogMixcbiAgICAgICAgdGlwOiB0cnVlfSksXG4gICAgUGxvdC5kb3QoZGlzcGxheURhdGEuZmlsdGVyKGQgPT4gZC5reWEgPT09IDApLCB7eDogXCJreWFcIiwgeTogXCJjbzJcIiwgZmlsbDogXCIjZTc0YzNjXCIsIHI6IDEwLFxuICAgICAgICB0aXA6IHRydWV9KSxcbiAgICBQbG90LnRleHQoW3t4OiA0MDAsIHk6IDI5NX1dLCB7eDogXCJ4XCIsIHk6IFwieVwiLCB0ZXh0OiBkID0+IFwiUHJlLWluZHVzdHJpYWwgbWF4aW11bTogMjgwIHBwbVwiLCBmaWxsOiBcIiM5OTlcIiwgZm9udFNpemU6IDExfSksXG4gICAgc2hvd01vZGVybiA/IFBsb3QudGV4dChbe3g6IDUwLCB5OiA0MjB9XSwge3g6IFwieFwiLCB5OiBcInlcIiwgdGV4dDogZCA9PiBcIlRPREFZOiA0MjAgcHBtXCIsIGZpbGw6IFwiI2U3NGMzY1wiLCBmb250U2l6ZTogMTIsIGZvbnRXZWlnaHQ6IFwiYm9sZFwifSkgOiBudWxsXG4gIF0uZmlsdGVyKGQgPT4gZCAhPT0gbnVsbClcbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJhbGJlZG9EYXRhID0gW1xuICB7c3VyZmFjZTogXCJGcmVzaCBTbm93XCIsIGFsYmVkbzogMC44NSwgY29sb3I6IFwiI2ZmZmZmZlwifSxcbiAge3N1cmZhY2U6IFwiU2VhIEljZVwiLCBhbGJlZG86IDAuNjAsIGNvbG9yOiBcIiNiM2U1ZmNcIn0sXG4gIHtzdXJmYWNlOiBcIk9sZCBTbm93XCIsIGFsYmVkbzogMC40NSwgY29sb3I6IFwiI2UwZTBlMFwifSxcbiAge3N1cmZhY2U6IFwiRGVzZXJ0IFNhbmRcIiwgYWxiZWRvOiAwLjQwLCBjb2xvcjogXCIjZmRkODM1XCJ9LFxuICB7c3VyZmFjZTogXCJHcmFzc2xhbmRcIiwgYWxiZWRvOiAwLjI1LCBjb2xvcjogXCIjODFjNzg0XCJ9LFxuICB7c3VyZmFjZTogXCJGb3Jlc3RcIiwgYWxiZWRvOiAwLjE1LCBjb2xvcjogXCIjMmU3ZDMyXCJ9LFxuICB7c3VyZmFjZTogXCJPY2VhbiBXYXRlclwiLCBhbGJlZG86IDAuMDYsIGNvbG9yOiBcIiMxNTY1YzBcIn0sXG4gIHtzdXJmYWNlOiBcIkFzcGhhbHRcIiwgYWxiZWRvOiAwLjA0LCBjb2xvcjogXCIjMzc0NzRmXCJ9XG5dXG5cblBsb3QucGxvdCh7XG4gIHRpdGxlOiBcIkFsYmVkbyBvZiBEaWZmZXJlbnQgU3VyZmFjZXNcIixcbiAgc3VidGl0bGU6IFwiSGlnaGVyIGFsYmVkbyA9IG1vcmUgcmVmbGVjdGlvbiA9IGxlc3MgaGVhdGluZ1wiLFxuICB3aWR0aDogNzAwLFxuICBoZWlnaHQ6IDQwMCxcbiAgeDoge2xhYmVsOiBcIkFsYmVkbyAocmVmbGVjdGlvbiBjb2VmZmljaWVudClcIiwgZG9tYWluOiBbMCwgMV19LFxuICB5OiB7bGFiZWw6IFwiU3VyZmFjZSBUeXBlXCIsIGRvbWFpbjogYWxiZWRvRGF0YS5tYXAoZCA9PiBkLnN1cmZhY2UpfSxcbiAgbWFya3M6IFtcbiAgICBQbG90LmJhclgoYWxiZWRvRGF0YSwge3g6IFwiYWxiZWRvXCIsIHk6IFwic3VyZmFjZVwiLCBmaWxsOiBcImNvbG9yXCIsIHNvcnQ6IHt5OiBcIi14XCJ9LFxuICAgICAgICB0aXA6IHRydWV9KSxcbiAgICBQbG90LnRleHQoYWxiZWRvRGF0YSwge3g6IFwiYWxiZWRvXCIsIHk6IFwic3VyZmFjZVwiLCB0ZXh0OiBkID0+IChkLmFsYmVkbyAqIDEwMCkudG9GaXhlZCgwKSArIFwiJVwiLCBkeDogMjUsIGZvbnRTaXplOiAxMn0pXG4gIF1cbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ2aWV3b2YgaWNlRXh0ZW50ID0gSW5wdXRzLnJhbmdlKFswLCAxMDBdLCB7XG4gIHN0ZXA6IDUsXG4gIHZhbHVlOiA1MCxcbiAgbGFiZWw6IFwiQXJjdGljIEljZSBDb3ZlcmFnZSAoJSk6XCJcbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiIvLyBDYWxjdWxhdGUgYWJzb3JiZWQgZW5lcmd5IGJhc2VkIG9uIGljZSBleHRlbnRcbmF2Z0FsYmVkbyA9IChpY2VFeHRlbnQgLyAxMDAgKiAwLjYpICsgKCgxMDAgLSBpY2VFeHRlbnQpIC8gMTAwICogMC4wNilcbmFic29yYmVkRW5lcmd5ID0gKCgxIC0gYXZnQWxiZWRvKSAqIDEwMCkudG9GaXhlZCgxKVxucmVmbGVjdGVkRW5lcmd5ID0gKGF2Z0FsYmVkbyAqIDEwMCkudG9GaXhlZCgxKVxuXG5odG1sYFxuPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGdhcDogMjBweDsgZmxleC13cmFwOiB3cmFwOyBtYXJnaW46IDIwcHggMDtcIj5cbiAgPGRpdiBzdHlsZT1cImZsZXg6IDE7IG1pbi13aWR0aDogMzAwcHg7XCI+XG4gICAgPHN2ZyB3aWR0aD1cIjM1MFwiIGhlaWdodD1cIjI1MFwiIHN0eWxlPVwiYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzg3Q0VFQiAwJSwgIzE1NjVjMCAxMDAlKTsgYm9yZGVyLXJhZGl1czogMTBweDtcIj5cbiAgICAgIDwhLS0gSWNlIC0tPlxuICAgICAgPHJlY3QgeD1cIjBcIiB5PVwiMTUwXCIgd2lkdGg9XCIke2ljZUV4dGVudCAqIDMuNX1cIiBoZWlnaHQ9XCIxMDBcIiBmaWxsPVwiI2UzZjJmZFwiIG9wYWNpdHk9XCIwLjlcIi8+XG4gICAgICA8IS0tIE9jZWFuIC0tPlxuICAgICAgPHJlY3QgeD1cIiR7aWNlRXh0ZW50ICogMy41fVwiIHk9XCIxNTBcIiB3aWR0aD1cIiR7KDEwMCAtIGljZUV4dGVudCkgKiAzLjV9XCIgaGVpZ2h0PVwiMTAwXCIgZmlsbD1cIiMwZDQ3YTFcIi8+XG4gICAgICA8IS0tIFN1biByYXlzIC0tPlxuICAgICAgPGxpbmUgeDE9XCIxNzVcIiB5MT1cIjIwXCIgeDI9XCIxMDBcIiB5Mj1cIjE0MFwiIHN0cm9rZT1cInllbGxvd1wiIHN0cm9rZS13aWR0aD1cIjNcIiBtYXJrZXItZW5kPVwidXJsKCNhcnJvdylcIi8+XG4gICAgICA8bGluZSB4MT1cIjE3NVwiIHkxPVwiMjBcIiB4Mj1cIjI1MFwiIHkyPVwiMTQwXCIgc3Ryb2tlPVwieWVsbG93XCIgc3Ryb2tlLXdpZHRoPVwiM1wiLz5cbiAgICAgIDwhLS0gUmVmbGVjdGVkIHJheXMgZnJvbSBpY2UgLS0+XG4gICAgICA8bGluZSB4MT1cIjEwMFwiIHkxPVwiMTQwXCIgeDI9XCI1MFwiIHkyPVwiNjBcIiBzdHJva2U9XCJ5ZWxsb3dcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWRhc2hhcnJheT1cIjUsNVwiIG9wYWNpdHk9XCIke2ljZUV4dGVudC8xMDB9XCIvPlxuICAgICAgPCEtLSBMYWJlbHMgLS0+XG4gICAgICA8dGV4dCB4PVwiNTBcIiB5PVwiMjAwXCIgZmlsbD1cIndoaXRlXCIgZm9udC1zaXplPVwiMTJcIj5JY2U6ICR7aWNlRXh0ZW50fSU8L3RleHQ+XG4gICAgICA8dGV4dCB4PVwiMjUwXCIgeT1cIjIwMFwiIGZpbGw9XCJ3aGl0ZVwiIGZvbnQtc2l6ZT1cIjEyXCI+T2NlYW46ICR7MTAwLWljZUV4dGVudH0lPC90ZXh0PlxuICAgIDwvc3ZnPlxuICA8L2Rpdj5cbiAgPGRpdiBzdHlsZT1cImZsZXg6IDE7IG1pbi13aWR0aDogMjUwcHg7IHBhZGRpbmc6IDIwcHg7IGJhY2tncm91bmQ6ICNmNWY1ZjU7IGJvcmRlci1yYWRpdXM6IDEwcHg7XCI+XG4gICAgPGg0IHN0eWxlPVwibWFyZ2luLXRvcDogMDtcIj5FbmVyZ3kgQmFsYW5jZTwvaDQ+XG4gICAgPHA+PHN0cm9uZz5BdmVyYWdlIEFsYmVkbzo8L3N0cm9uZz4gJHsoYXZnQWxiZWRvICogMTAwKS50b0ZpeGVkKDEpfSU8L3A+XG4gICAgPHA+PHN0cm9uZz5FbmVyZ3kgUmVmbGVjdGVkOjwvc3Ryb25nPiAke3JlZmxlY3RlZEVuZXJneX0lPC9wPlxuICAgIDxwPjxzdHJvbmc+RW5lcmd5IEFic29yYmVkOjwvc3Ryb25nPiAke2Fic29yYmVkRW5lcmd5fSU8L3A+XG4gICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDE1cHg7IHBhZGRpbmc6IDEwcHg7IGJhY2tncm91bmQ6ICR7aWNlRXh0ZW50IDwgMzAgPyAnI2ZmY2RkMicgOiBpY2VFeHRlbnQgPiA3MCA/ICcjYzhlNmM5JyA6ICcjZmZmOWM0J307IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cbiAgICAgIDxzdHJvbmc+RWZmZWN0Ojwvc3Ryb25nPiAke2ljZUV4dGVudCA8IDMwID8gJ/CflKUgSGlnaCBhYnNvcnB0aW9uIOKGkiBNb3JlIHdhcm1pbmcg4oaSIE1vcmUgaWNlIG1lbHRzJyA6IGljZUV4dGVudCA+IDcwID8gJ+KdhO+4jyBIaWdoIHJlZmxlY3Rpb24g4oaSIExlc3Mgd2FybWluZyDihpIgSWNlIHByZXNlcnZlZCcgOiAn4pqW77iPIE1vZGVyYXRlIGJhbGFuY2UnfVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC05IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidmlld29mIGZlZWRiYWNrVHlwZVNpbXBsZSA9IElucHV0cy5yYWRpbyhbXCJJY2UtQWxiZWRvIEZlZWRiYWNrXCIsIFwiV2F0ZXIgVmFwb3IgRmVlZGJhY2tcIiwgXCJQZXJtYWZyb3N0IEZlZWRiYWNrXCJdLCB7XG4gIGxhYmVsOiBcIlNlbGVjdCBmZWVkYmFjayBsb29wOlwiLFxuICB2YWx1ZTogXCJJY2UtQWxiZWRvIEZlZWRiYWNrXCJcbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZmVlZGJhY2tJbmZvID0ge1xuICBpZiAoZmVlZGJhY2tUeXBlU2ltcGxlID09PSBcIkljZS1BbGJlZG8gRmVlZGJhY2tcIikge1xuICAgIHJldHVybiB7XG4gICAgICBzdGVwczogW1xuICAgICAgICBcIjEuIFRlbXBlcmF0dXJlIGluY3JlYXNlc1wiLFxuICAgICAgICBcIjIuIEljZSBhbmQgc25vdyBtZWx0XCIsXG4gICAgICAgIFwiMy4gRGFya2VyIG9jZWFuL2xhbmQgZXhwb3NlZFwiLFxuICAgICAgICBcIjQuIE1vcmUgc29sYXIgcmFkaWF0aW9uIGFic29yYmVkXCIsXG4gICAgICAgIFwiNS4gVGVtcGVyYXR1cmUgaW5jcmVhc2VzIE1PUkVcIlxuICAgICAgXSxcbiAgICAgIGNvbG9yOiBcIiMzNDk4ZGJcIixcbiAgICAgIGljb246IFwi8J+nilwiXG4gICAgfVxuICB9IGVsc2UgaWYgKGZlZWRiYWNrVHlwZVNpbXBsZSA9PT0gXCJXYXRlciBWYXBvciBGZWVkYmFja1wiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0ZXBzOiBbXG4gICAgICAgIFwiMS4gVGVtcGVyYXR1cmUgaW5jcmVhc2VzXCIsXG4gICAgICAgIFwiMi4gTW9yZSB3YXRlciBldmFwb3JhdGVzXCIsXG4gICAgICAgIFwiMy4gV2F0ZXIgdmFwb3IgaXMgYSBncmVlbmhvdXNlIGdhc1wiLFxuICAgICAgICBcIjQuIE1vcmUgaGVhdCB0cmFwcGVkIGluIGF0bW9zcGhlcmVcIixcbiAgICAgICAgXCI1LiBUZW1wZXJhdHVyZSBpbmNyZWFzZXMgTU9SRVwiXG4gICAgICBdLFxuICAgICAgY29sb3I6IFwiIzliNTliNlwiLFxuICAgICAgaWNvbjogXCLwn5KoXCJcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0ZXBzOiBbXG4gICAgICAgIFwiMS4gVGVtcGVyYXR1cmUgaW5jcmVhc2VzXCIsXG4gICAgICAgIFwiMi4gUGVybWFmcm9zdCB0aGF3c1wiLFxuICAgICAgICBcIjMuIFRyYXBwZWQgbWV0aGFuZS9DT+KCgiByZWxlYXNlZFwiLFxuICAgICAgICBcIjQuIE1vcmUgZ3JlZW5ob3VzZSBnYXNlcyBpbiBhdG1vc3BoZXJlXCIsXG4gICAgICAgIFwiNS4gVGVtcGVyYXR1cmUgaW5jcmVhc2VzIE1PUkVcIlxuICAgICAgXSxcbiAgICAgIGNvbG9yOiBcIiNlNjdlMjJcIixcbiAgICAgIGljb246IFwi8J+PlO+4j1wiXG4gICAgfVxuICB9XG59XG5cbmh0bWxgXG48ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtmZWVkYmFja0luZm8uY29sb3J9MjIsICR7ZmVlZGJhY2tJbmZvLmNvbG9yfTQ0KTsgcGFkZGluZzogMjVweDsgYm9yZGVyLXJhZGl1czogMTVweDsgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAke2ZlZWRiYWNrSW5mby5jb2xvcn07XCI+XG4gIDxoMyBzdHlsZT1cIm1hcmdpbi10b3A6IDA7XCI+JHtmZWVkYmFja0luZm8uaWNvbn0gJHtmZWVkYmFja1R5cGV9PC9oMz5cbiAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGdhcDogMTBweDtcIj5cbiAgICAke2ZlZWRiYWNrSW5mby5zdGVwcy5tYXAoKHN0ZXAsIGkpID0+IGBcbiAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEwcHg7XCI+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJ3aWR0aDogMzBweDsgaGVpZ2h0OiAzMHB4OyBiYWNrZ3JvdW5kOiAke2ZlZWRiYWNrSW5mby5jb2xvcn07IGNvbG9yOiB3aGl0ZTsgYm9yZGVyLXJhZGl1czogNTAlOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgZm9udC13ZWlnaHQ6IGJvbGQ7XCI+JHtpKzF9PC9kaXY+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OiAxOyBwYWRkaW5nOiAxMHB4OyBiYWNrZ3JvdW5kOiB3aGl0ZTsgYm9yZGVyLXJhZGl1czogNXB4O1wiPiR7c3RlcC5zdWJzdHJpbmcoMyl9PC9kaXY+XG4gICAgICAgICR7aSA8IGZlZWRiYWNrSW5mby5zdGVwcy5sZW5ndGggLSAxID8gJzxkaXYgc3R5bGU9XCJmb250LXNpemU6IDIwcHg7XCI+4oaTPC9kaXY+JyA6ICc8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAyMHB4O1wiPvCflIQ8L2Rpdj4nfVxuICAgICAgPC9kaXY+XG4gICAgYCkuam9pbignJyl9XG4gIDwvZGl2PlxuICA8cCBzdHlsZT1cIm1hcmdpbi10b3A6IDE1cHg7IGZvbnQtc3R5bGU6IGl0YWxpYztcIj48c3Ryb25nPlR5cGU6PC9zdHJvbmc+IFBvc2l0aXZlIChhbXBsaWZ5aW5nKSBmZWVkYmFjayAtIG1ha2VzIHdhcm1pbmcgd29yc2UhPC9wPlxuPC9kaXY+XG5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTExIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoic2VhSWNlRGF0YSA9IFtcbiAge3llYXI6IDE5ODAsIGV4dGVudDogNy44fSxcbiAge3llYXI6IDE5ODUsIGV4dGVudDogNy41fSxcbiAge3llYXI6IDE5OTAsIGV4dGVudDogNy40fSxcbiAge3llYXI6IDE5OTUsIGV4dGVudDogNy4xfSxcbiAge3llYXI6IDIwMDAsIGV4dGVudDogNi44fSxcbiAge3llYXI6IDIwMDUsIGV4dGVudDogNi4yfSxcbiAge3llYXI6IDIwMDcsIGV4dGVudDogNC4zfSxcbiAge3llYXI6IDIwMTAsIGV4dGVudDogNS4wfSxcbiAge3llYXI6IDIwMTIsIGV4dGVudDogMy42fSxcbiAge3llYXI6IDIwMTUsIGV4dGVudDogNC42fSxcbiAge3llYXI6IDIwMjAsIGV4dGVudDogMy45fSxcbiAge3llYXI6IDIwMjQsIGV4dGVudDogNC4yfVxuXVxuXG5QbG90LnBsb3Qoe1xuICB0aXRsZTogXCJTZXB0ZW1iZXIgQXJjdGljIFNlYSBJY2UgRXh0ZW50XCIsXG4gIHN1YnRpdGxlOiBcIk1pbGxpb24gc3F1YXJlIGtpbG9tZXRlcnNcIixcbiAgd2lkdGg6IDcwMCxcbiAgaGVpZ2h0OiA0MDAsXG4gIHg6IHtsYWJlbDogXCJZZWFyXCJ9LFxuICB5OiB7bGFiZWw6IFwiU2VhIEljZSBFeHRlbnQgKG1pbGxpb24ga23CsilcIiwgZG9tYWluOiBbMCwgOV19LFxuICBtYXJrczogW1xuICAgIFBsb3QuYXJlYVkoc2VhSWNlRGF0YSwge3g6IFwieWVhclwiLCB5OiBcImV4dGVudFwiLCBmaWxsOiBcIiM4MWQ0ZmFcIiwgZmlsbE9wYWNpdHk6IDAuNSxcbiAgICAgICAgdGlwOiB0cnVlfSksXG4gICAgUGxvdC5saW5lKHNlYUljZURhdGEsIHt4OiBcInllYXJcIiwgeTogXCJleHRlbnRcIiwgc3Ryb2tlOiBcIiMwMjc3YmRcIiwgc3Ryb2tlV2lkdGg6IDMsXG4gICAgICAgIHRpcDogdHJ1ZX0pLFxuICAgIFBsb3QuZG90KHNlYUljZURhdGEsIHt4OiBcInllYXJcIiwgeTogXCJleHRlbnRcIiwgZmlsbDogXCIjMDE1NzliXCIsIHI6IDUsXG4gICAgICAgIHRpcDogdHJ1ZX0pLFxuICAgIFBsb3QuZG90KHNlYUljZURhdGEuZmlsdGVyKGQgPT4gZC55ZWFyID09PSAyMDEyKSwge3g6IFwieWVhclwiLCB5OiBcImV4dGVudFwiLCBmaWxsOiBcIiNlNzRjM2NcIiwgcjogOCxcbiAgICAgICAgdGlwOiB0cnVlfSksXG4gICAgUGxvdC50ZXh0KHNlYUljZURhdGEuZmlsdGVyKGQgPT4gZC55ZWFyID09PSAyMDEyKSwge3g6IFwieWVhclwiLCB5OiBcImV4dGVudFwiLCB0ZXh0OiBkID0+IFwiUmVjb3JkIExvdzogMjAxMlwiLCBkeTogLTE1LCBmaWxsOiBcIiNlNzRjM2NcIiwgZm9udFNpemU6IDExfSksXG4gICAgUGxvdC5saW5lYXJSZWdyZXNzaW9uWShzZWFJY2VEYXRhLCB7eDogXCJ5ZWFyXCIsIHk6IFwiZXh0ZW50XCIsIHN0cm9rZTogXCIjZTc0YzNjXCIsIHN0cm9rZURhc2hhcnJheTogXCI1LDVcIn0pXG4gIF1cbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiY28yU291cmNlc0RhdGEgPSBbXG4gIHtzb3VyY2U6IFwiRWxlY3RyaWNpdHkgJiBIZWF0XCIsIGVtaXNzaW9uczogMjUsIGNvbG9yOiBcIiNlNzRjM2NcIn0sXG4gIHtzb3VyY2U6IFwiVHJhbnNwb3J0YXRpb25cIiwgZW1pc3Npb25zOiAxNiwgY29sb3I6IFwiIzM0OThkYlwifSxcbiAge3NvdXJjZTogXCJNYW51ZmFjdHVyaW5nXCIsIGVtaXNzaW9uczogMjEsIGNvbG9yOiBcIiNmMzljMTJcIn0sXG4gIHtzb3VyY2U6IFwiQWdyaWN1bHR1cmUgJiBMYW5kIFVzZVwiLCBlbWlzc2lvbnM6IDI0LCBjb2xvcjogXCIjMjdhZTYwXCJ9LFxuICB7c291cmNlOiBcIkJ1aWxkaW5nc1wiLCBlbWlzc2lvbnM6IDYsIGNvbG9yOiBcIiM5YjU5YjZcIn0sXG4gIHtzb3VyY2U6IFwiT3RoZXIgRW5lcmd5XCIsIGVtaXNzaW9uczogOCwgY29sb3I6IFwiIzk1YTVhNlwifVxuXVxuXG5QbG90LnBsb3Qoe1xuICB0aXRsZTogXCJHbG9iYWwgR3JlZW5ob3VzZSBHYXMgRW1pc3Npb25zIGJ5IFNlY3RvclwiLFxuICB3aWR0aDogNjAwLFxuICBoZWlnaHQ6IDQwMCxcbiAgeDoge2xhYmVsOiBcIlBlcmNlbnRhZ2Ugb2YgR2xvYmFsIEVtaXNzaW9uc1wifSxcbiAgeToge2xhYmVsOiBcIlNlY3RvclwiLCBkb21haW46IGNvMlNvdXJjZXNEYXRhLm1hcChkID0+IGQuc291cmNlKX0sXG4gIG1hcmtzOiBbXG4gICAgUGxvdC5iYXJYKGNvMlNvdXJjZXNEYXRhLCB7eDogXCJlbWlzc2lvbnNcIiwgeTogXCJzb3VyY2VcIiwgZmlsbDogXCJjb2xvclwiLCBzb3J0OiB7eTogXCIteFwifSxcbiAgICAgICAgdGlwOiB0cnVlfSksXG4gICAgUGxvdC50ZXh0KGNvMlNvdXJjZXNEYXRhLCB7eDogXCJlbWlzc2lvbnNcIiwgeTogXCJzb3VyY2VcIiwgdGV4dDogZCA9PiBkLmVtaXNzaW9ucyArIFwiJVwiLCBkeDogMjAsIGZvbnRTaXplOiAxMiwgZm9udFdlaWdodDogXCJib2xkXCJ9KVxuICBdXG59KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImNvMkdyb3d0aERhdGEgPSBbXG4gIHt5ZWFyOiAxNzUwLCBjbzI6IDI4MCwgc291cmNlOiBcIlByZS1pbmR1c3RyaWFsXCJ9LFxuICB7eWVhcjogMTgwMCwgY28yOiAyODMsIHNvdXJjZTogXCJIaXN0b3JpY2FsXCJ9LFxuICB7eWVhcjogMTg1MCwgY28yOiAyODgsIHNvdXJjZTogXCJIaXN0b3JpY2FsXCJ9LFxuICB7eWVhcjogMTkwMCwgY28yOiAyOTYsIHNvdXJjZTogXCJIaXN0b3JpY2FsXCJ9LFxuICB7eWVhcjogMTk1MCwgY28yOiAzMTEsIHNvdXJjZTogXCJIaXN0b3JpY2FsXCJ9LFxuICB7eWVhcjogMTk2MCwgY28yOiAzMTcsIHNvdXJjZTogXCJNYXVuYSBMb2FcIn0sXG4gIHt5ZWFyOiAxOTcwLCBjbzI6IDMyNiwgc291cmNlOiBcIk1hdW5hIExvYVwifSxcbiAge3llYXI6IDE5ODAsIGNvMjogMzM5LCBzb3VyY2U6IFwiTWF1bmEgTG9hXCJ9LFxuICB7eWVhcjogMTk5MCwgY28yOiAzNTQsIHNvdXJjZTogXCJNYXVuYSBMb2FcIn0sXG4gIHt5ZWFyOiAyMDAwLCBjbzI6IDM2OSwgc291cmNlOiBcIk1hdW5hIExvYVwifSxcbiAge3llYXI6IDIwMTAsIGNvMjogMzkwLCBzb3VyY2U6IFwiTWF1bmEgTG9hXCJ9LFxuICB7eWVhcjogMjAyMCwgY28yOiA0MTQsIHNvdXJjZTogXCJNYXVuYSBMb2FcIn0sXG4gIHt5ZWFyOiAyMDI0LCBjbzI6IDQyMiwgc291cmNlOiBcIk1hdW5hIExvYVwifVxuXVxuXG5QbG90LnBsb3Qoe1xuICB0aXRsZTogXCJBdG1vc3BoZXJpYyBDT+KCgiBDb25jZW50cmF0aW9uICgxNzUwLTIwMjQpXCIsXG4gIHN1YnRpdGxlOiBcIlBhcnRzIHBlciBtaWxsaW9uIChwcG0pXCIsXG4gIHdpZHRoOiA3MDAsXG4gIGhlaWdodDogNDAwLFxuICB4OiB7bGFiZWw6IFwiWWVhclwifSxcbiAgeToge2xhYmVsOiBcIkNP4oKCIChwcG0pXCIsIGRvbWFpbjogWzI3MCwgNDQwXX0sXG4gIG1hcmtzOiBbXG4gICAgUGxvdC5ydWxlWShbMjgwXSwge3N0cm9rZTogXCIjMjdhZTYwXCIsIHN0cm9rZURhc2hhcnJheTogXCI1LDVcIn0pLFxuICAgIFBsb3QudGV4dChbe3g6IDE4MDAsIHk6IDI3NX1dLCB7eDogXCJ4XCIsIHk6IFwieVwiLCB0ZXh0OiBkID0+IFwiUHJlLWluZHVzdHJpYWwgbGV2ZWw6IDI4MCBwcG1cIiwgZmlsbDogXCIjMjdhZTYwXCIsIGZvbnRTaXplOiAxMH0pLFxuICAgIFBsb3QucnVsZVkoWzM1MF0sIHtzdHJva2U6IFwiI2YzOWMxMlwiLCBzdHJva2VEYXNoYXJyYXk6IFwiNSw1XCJ9KSxcbiAgICBQbG90LnRleHQoW3t4OiAxODAwLCB5OiAzNDV9XSwge3g6IFwieFwiLCB5OiBcInlcIiwgdGV4dDogZCA9PiBcIlxcXCJTYWZlXFxcIiBsZXZlbDogMzUwIHBwbVwiLCBmaWxsOiBcIiNmMzljMTJcIiwgZm9udFNpemU6IDEwfSksXG4gICAgUGxvdC5saW5lKGNvMkdyb3d0aERhdGEsIHt4OiBcInllYXJcIiwgeTogXCJjbzJcIiwgc3Ryb2tlOiBcIiNlNzRjM2NcIiwgc3Ryb2tlV2lkdGg6IDMsXG4gICAgICAgIHRpcDogdHJ1ZX0pLFxuICAgIFBsb3QuZG90KGNvMkdyb3d0aERhdGEsIHt4OiBcInllYXJcIiwgeTogXCJjbzJcIiwgZmlsbDogXCIjYzAzOTJiXCIsIHI6IDQsXG4gICAgICAgIHRpcDogdHJ1ZX0pXG4gIF1cbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXG4vLyBEYXRhIGZvciBjYXJib24gcmVzZXJ2b2lycyBhbmQgZmxvd3NcbmNhcmJvbkRhdGEgPSB7XG4gIGNvbnN0IHByZUluZHVzdHJpYWwgPSB7XG4gICAgYXRtb3NwaGVyZTogNTYwLFxuICAgIG9jZWFuOiAzODAwMCxcbiAgICBsYW5kQmlvbWFzczogMjE2MCxcbiAgICBmb3NzaWxGdWVsczogMTAwMDAsXG4gICAgZmxvd3M6IFtcbiAgICAgIHtmcm9tOiBcIm9jZWFuXCIsIHRvOiBcImF0bW9zcGhlcmVcIiwgdmFsdWU6IDkwfSxcbiAgICAgIHtmcm9tOiBcImF0bW9zcGhlcmVcIiwgdG86IFwib2NlYW5cIiwgdmFsdWU6IDkyfSxcbiAgICAgIHtmcm9tOiBcImxhbmRCaW9tYXNzXCIsIHRvOiBcImF0bW9zcGhlcmVcIiwgdmFsdWU6IDYwfSxcbiAgICAgIHtmcm9tOiBcImF0bW9zcGhlcmVcIiwgdG86IFwibGFuZEJpb21hc3NcIiwgdmFsdWU6IDYyfSxcbiAgICAgIHtmcm9tOiBcImZvc3NpbEZ1ZWxzXCIsIHRvOiBcImF0bW9zcGhlcmVcIiwgdmFsdWU6IDB9XG4gICAgXVxuICB9O1xuICBcbiAgY29uc3QgcG9zdEluZHVzdHJpYWwgPSB7XG4gICAgYXRtb3NwaGVyZTogODQwLFxuICAgIG9jZWFuOiA0MTAwMCxcbiAgICBsYW5kQmlvbWFzczogMjUwMCxcbiAgICBmb3NzaWxGdWVsczogOTAwMCxcbiAgICBmbG93czogW1xuICAgICAge2Zyb206IFwib2NlYW5cIiwgdG86IFwiYXRtb3NwaGVyZVwiLCB2YWx1ZTogOTB9LFxuICAgICAge2Zyb206IFwiYXRtb3NwaGVyZVwiLCB0bzogXCJvY2VhblwiLCB2YWx1ZTogOTN9LFxuICAgICAge2Zyb206IFwibGFuZEJpb21hc3NcIiwgdG86IFwiYXRtb3NwaGVyZVwiLCB2YWx1ZTogNjB9LFxuICAgICAge2Zyb206IFwiYXRtb3NwaGVyZVwiLCB0bzogXCJsYW5kQmlvbWFzc1wiLCB2YWx1ZTogNjN9LFxuICAgICAge2Zyb206IFwiZm9zc2lsRnVlbHNcIiwgdG86IFwiYXRtb3NwaGVyZVwiLCB2YWx1ZTogOS40fVxuICAgIF1cbiAgfTtcbiAgXG4gIHJldHVybiB7cHJlSW5kdXN0cmlhbCwgcG9zdEluZHVzdHJpYWx9O1xufVxuXG4vLyBUaW1lIHBlcmlvZCBzZWxlY3Rvclxudmlld29mIHRpbWVQZXJpb2QgPSBJbnB1dHMucmFkaW8oXG4gIFtcIlByZS1JbmR1c3RyaWFsIFJldm9sdXRpb24gKDE3NTApXCIsIFwiUG9zdC1JbmR1c3RyaWFsIFJldm9sdXRpb24gKDIwMjApXCJdLFxuICB7dmFsdWU6IFwiUHJlLUluZHVzdHJpYWwgUmV2b2x1dGlvbiAoMTc1MClcIiwgbGFiZWw6IFwiVGltZSBQZXJpb2RcIn1cbilcblxuLy8gR2V0IGN1cnJlbnQgZGF0YSBiYXNlZCBvbiBzZWxlY3Rpb25cbmN1cnJlbnREYXRhID0gdGltZVBlcmlvZC5pbmNsdWRlcyhcIlByZS1JbmR1c3RyaWFsXCIpIFxuICA/IGNhcmJvbkRhdGEucHJlSW5kdXN0cmlhbCBcbiAgOiBjYXJib25EYXRhLnBvc3RJbmR1c3RyaWFsXG5cbi8vIENhbGN1bGF0ZSBjaGFuZ2VzXG5hdG1vc3BoZXJlQ2hhbmdlID0gY2FyYm9uRGF0YS5wb3N0SW5kdXN0cmlhbC5hdG1vc3BoZXJlIC0gY2FyYm9uRGF0YS5wcmVJbmR1c3RyaWFsLmF0bW9zcGhlcmVcbmZvc3NpbEZ1ZWxCdXJuZWQgPSBjYXJib25EYXRhLnByZUluZHVzdHJpYWwuZm9zc2lsRnVlbHMgLSBjYXJib25EYXRhLnBvc3RJbmR1c3RyaWFsLmZvc3NpbEZ1ZWxzXG5cbi8vIFZpc3VhbGl6YXRpb25cbntcbiAgY29uc3Qgd2lkdGggPSA4MDA7XG4gIGNvbnN0IGhlaWdodCA9IDYwMDtcbiAgY29uc3QgbWFyZ2luID0ge3RvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA2MCwgbGVmdDogMjB9O1xuICBcbiAgY29uc3Qgc3ZnID0gZDMuY3JlYXRlKFwic3ZnXCIpXG4gICAgLmF0dHIoXCJ2aWV3Qm94XCIsIFswLCAwLCB3aWR0aCwgaGVpZ2h0XSlcbiAgICAuYXR0cihcInN0eWxlXCIsIFwibWF4LXdpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG87XCIpO1xuICBcbiAgLy8gRGVmaW5lIHBvc2l0aW9ucyBmb3IgcmVzZXJ2b2lyc1xuICBjb25zdCBwb3NpdGlvbnMgPSB7XG4gICAgYXRtb3NwaGVyZToge3g6IHdpZHRoLzIsIHk6IDEwMCwgY29sb3I6IFwiIzkzYzVmZFwifSxcbiAgICBvY2Vhbjoge3g6IDE1MCwgeTogNDAwLCBjb2xvcjogXCIjMGVhNWU5XCJ9LFxuICAgIGxhbmRCaW9tYXNzOiB7eDogNjUwLCB5OiA0MDAsIGNvbG9yOiBcIiMyMmM1NWVcIn0sXG4gICAgZm9zc2lsRnVlbHM6IHt4OiB3aWR0aC8yLCB5OiA1MDAsIGNvbG9yOiBcIiM2NDc0OGJcIn1cbiAgfTtcbiAgXG4gIC8vIERyYXcgZmxvd3MgKGFycm93cylcbiAgY29uc3QgYXJyb3dHcm91cCA9IHN2Zy5hcHBlbmQoXCJnXCIpO1xuICBcbiAgY3VycmVudERhdGEuZmxvd3MuZm9yRWFjaChmbG93ID0+IHtcbiAgICBpZiAoZmxvdy52YWx1ZSA+IDApIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gcG9zaXRpb25zW2Zsb3cuZnJvbV07XG4gICAgICBjb25zdCBlbmQgPSBwb3NpdGlvbnNbZmxvdy50b107XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBhcnJvdyBwYXRoIHdpdGggY3VydmVcbiAgICAgIGNvbnN0IG1pZFggPSAoc3RhcnQueCArIGVuZC54KSAvIDI7XG4gICAgICBjb25zdCBtaWRZID0gKHN0YXJ0LnkgKyBlbmQueSkgLyAyO1xuICAgICAgY29uc3QgZHggPSBlbmQueCAtIHN0YXJ0Lng7XG4gICAgICBjb25zdCBkeSA9IGVuZC55IC0gc3RhcnQueTtcbiAgICAgIGNvbnN0IGRyID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSAqIDAuNztcbiAgICAgIFxuICAgICAgYXJyb3dHcm91cC5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgIC5hdHRyKFwiZFwiLCBgTSR7c3RhcnQueH0sJHtzdGFydC55fSBRJHttaWRYICsgZHkvNH0sJHttaWRZIC0gZHgvNH0gJHtlbmQueH0sJHtlbmQueX1gKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJub25lXCIpXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIGZsb3cuZnJvbSA9PT0gXCJmb3NzaWxGdWVsc1wiID8gXCIjZWY0NDQ0XCIgOiBcIiM5NGEzYjhcIilcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgTWF0aC5tYXgoMiwgZmxvdy52YWx1ZSAvIDEwKSlcbiAgICAgICAgLmF0dHIoXCJvcGFjaXR5XCIsIDAuNilcbiAgICAgICAgLmF0dHIoXCJtYXJrZXItZW5kXCIsIFwidXJsKCNhcnJvd2hlYWQpXCIpO1xuICAgICAgXG4gICAgICAvLyBBZGQgZmxvdyBsYWJlbFxuICAgICAgYXJyb3dHcm91cC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieFwiLCBtaWRYICsgZHkvNClcbiAgICAgICAgLmF0dHIoXCJ5XCIsIG1pZFkgLSBkeC80KVxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIFwiMTJweFwiKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgXCIjMWUyOTNiXCIpXG4gICAgICAgIC5hdHRyKFwiZm9udC13ZWlnaHRcIiwgXCI2MDBcIilcbiAgICAgICAgLnRleHQoYCR7Zmxvdy52YWx1ZX0gR3QveXJgKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gRGVmaW5lIGFycm93aGVhZCBtYXJrZXJcbiAgc3ZnLmFwcGVuZChcImRlZnNcIilcbiAgICAuYXBwZW5kKFwibWFya2VyXCIpXG4gICAgLmF0dHIoXCJpZFwiLCBcImFycm93aGVhZFwiKVxuICAgIC5hdHRyKFwibWFya2VyV2lkdGhcIiwgMTApXG4gICAgLmF0dHIoXCJtYXJrZXJIZWlnaHRcIiwgMTApXG4gICAgLmF0dHIoXCJyZWZYXCIsIDkpXG4gICAgLmF0dHIoXCJyZWZZXCIsIDMpXG4gICAgLmF0dHIoXCJvcmllbnRcIiwgXCJhdXRvXCIpXG4gICAgLmFwcGVuZChcInBvbHlnb25cIilcbiAgICAuYXR0cihcInBvaW50c1wiLCBcIjAgMCwgMTAgMywgMCA2XCIpXG4gICAgLmF0dHIoXCJmaWxsXCIsIFwiIzk0YTNiOFwiKTtcbiAgXG4gIC8vIERyYXcgcmVzZXJ2b2lyc1xuICBPYmplY3QuZW50cmllcyhwb3NpdGlvbnMpLmZvckVhY2goKFtuYW1lLCBwb3NdKSA9PiB7XG4gICAgY29uc3QgcmVzZXJ2b2lyID0gY3VycmVudERhdGFbbmFtZV07XG4gICAgY29uc3QgcmFkaXVzID0gTWF0aC5zcXJ0KHJlc2Vydm9pcikgLyAzO1xuICAgIFxuICAgIGNvbnN0IGdyb3VwID0gc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGUoJHtwb3MueH0sICR7cG9zLnl9KWApO1xuICAgIFxuICAgIC8vIENpcmNsZVxuICAgIGdyb3VwLmFwcGVuZChcImNpcmNsZVwiKVxuICAgICAgLmF0dHIoXCJyXCIsIHJhZGl1cylcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBwb3MuY29sb3IpXG4gICAgICAuYXR0cihcInN0cm9rZVwiLCBcIiMxZTI5M2JcIilcbiAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDIpXG4gICAgICAuYXR0cihcIm9wYWNpdHlcIiwgMC44KTtcbiAgICBcbiAgICAvLyBMYWJlbFxuICAgIGdyb3VwLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgIC5hdHRyKFwiZHlcIiwgLXJhZGl1cyAtIDEwKVxuICAgICAgLmF0dHIoXCJmb250LXNpemVcIiwgXCIxNHB4XCIpXG4gICAgICAuYXR0cihcImZvbnQtd2VpZ2h0XCIsIFwiNzAwXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgXCIjMWUyOTNiXCIpXG4gICAgICAudGV4dChuYW1lLnJlcGxhY2UoLyhbQS1aXSkvZywgJyAkMScpLnRyaW0oKSk7XG4gICAgXG4gICAgLy8gVmFsdWVcbiAgICBncm91cC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAuYXR0cihcImR5XCIsIFwiMC4zNWVtXCIpXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjE2cHhcIilcbiAgICAgIC5hdHRyKFwiZm9udC13ZWlnaHRcIiwgXCI2MDBcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIiNmZmZmZmZcIilcbiAgICAgIC50ZXh0KGAke3Jlc2Vydm9pcn0gR3RgKTtcbiAgfSk7XG4gIFxuICAvLyBBZGQgdGl0bGVcbiAgc3ZnLmFwcGVuZChcInRleHRcIilcbiAgICAuYXR0cihcInhcIiwgd2lkdGgvMilcbiAgICAuYXR0cihcInlcIiwgMzApXG4gICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIFwiMThweFwiKVxuICAgIC5hdHRyKFwiZm9udC13ZWlnaHRcIiwgXCI3MDBcIilcbiAgICAuYXR0cihcImZpbGxcIiwgXCIjMWUyOTNiXCIpXG4gICAgLnRleHQoYENhcmJvbiBSZXNlcnZvaXJzOiAke3RpbWVQZXJpb2R9YCk7XG4gIFxuICByZXR1cm4gc3ZnLm5vZGUoKTtcbn1cblxuLy8gS2V5IGZpbmRpbmdzIGRpc3BsYXlcbm1kYFxuIyMjIEtleSBDaGFuZ2VzIEFmdGVyIEluZHVzdHJpYWwgUmV2b2x1dGlvbjpcblxuLSAqKkF0bW9zcGhlcmljIENP4oKCIGluY3JlYXNlZCBieSAke2F0bW9zcGhlcmVDaGFuZ2V9IEd0KiogKCR7KChhdG1vc3BoZXJlQ2hhbmdlL2NhcmJvbkRhdGEucHJlSW5kdXN0cmlhbC5hdG1vc3BoZXJlKSoxMDApLnRvRml4ZWQoMSl9JSBpbmNyZWFzZSlcbi0gKioke2Zvc3NpbEZ1ZWxCdXJuZWR9IEd0IG9mIGZvc3NpbCBmdWVscyBidXJuZWQqKiBhbmQgYWRkZWQgdG8gYXRtb3NwaGVyZVxuLSAqKk9jZWFuIGFic29yYmVkICR7Y2FyYm9uRGF0YS5wb3N0SW5kdXN0cmlhbC5vY2VhbiAtIGNhcmJvbkRhdGEucHJlSW5kdXN0cmlhbC5vY2Vhbn0gR3QqKiBtb3JlIGNhcmJvblxuLSAqKlRoZSBjYXJib24gY3ljbGUgYmVjYW1lIHVuYmFsYW5jZWQqKiAtIG1vcmUgY2FyYm9uIGVudGVyaW5nIGF0bW9zcGhlcmUgdGhhbiBsZWF2aW5nXG5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXG4vLyBJbXBvcnQgZDMgbGlicmFyeVxuZDMgPSByZXF1aXJlKFwiZDNAN1wiKVxuXG4vLyBGZWVkYmFjayB0eXBlIHNlbGVjdG9yXG52aWV3b2YgZmVlZGJhY2tUeXBlID0gSW5wdXRzLnJhZGlvKFxuICBbXCJJY2UtQWxiZWRvIEZlZWRiYWNrXCIsIFwiR3JlZW5ob3VzZSBHYXMgRmVlZGJhY2tcIiwgXCJDb21iaW5lZCBGZWVkYmFja3NcIl0sXG4gIHt2YWx1ZTogXCJJY2UtQWxiZWRvIEZlZWRiYWNrXCIsIGxhYmVsOiBcIlNlbGVjdCBGZWVkYmFjayBNZWNoYW5pc21cIn1cbilcblxuLy8gQW5pbWF0aW9uIGNvbnRyb2xcbnZpZXdvZiBpc0FuaW1hdGluZyA9IElucHV0cy50b2dnbGUoe2xhYmVsOiBcIkFuaW1hdGUgZmVlZGJhY2sgbG9vcFwiLCB2YWx1ZTogdHJ1ZX0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE2IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXG4vLyBEZWZpbmUgZmVlZGJhY2sgbG9vcHNcbmZlZWRiYWNrTG9vcHMgPSB7XG4gIGNvbnN0IGljZUFsYmVkbyA9IFtcbiAgICB7c3RlcDogMCwgbGFiZWw6IFwiQ0/igoIgRW1pc3Npb25zXFxuSW5jcmVhc2VcIiwgeDogNDAwLCB5OiA1MCwgY29sb3I6IFwiI2VmNDQ0NFwifSxcbiAgICB7c3RlcDogMSwgbGFiZWw6IFwiR2xvYmFsIFRlbXBlcmF0dXJlXFxuUmlzZXNcIiwgeDogNjUwLCB5OiAxNTAsIGNvbG9yOiBcIiNmOTczMTZcIn0sXG4gICAge3N0ZXA6IDIsIGxhYmVsOiBcIkFyY3RpYyBJY2VcXG5NZWx0c1wiLCB4OiA2NTAsIHk6IDM1MCwgY29sb3I6IFwiIzA2YjZkNFwifSxcbiAgICB7c3RlcDogMywgbGFiZWw6IFwiTGVzcyBTb2xhclxcblJlZmxlY3Rpb25cIiwgeDogNDAwLCB5OiA0NTAsIGNvbG9yOiBcIiMzYjgyZjZcIn0sXG4gICAge3N0ZXA6IDQsIGxhYmVsOiBcIk1vcmUgSGVhdFxcbkFic29yYmVkXCIsIHg6IDE1MCwgeTogMzUwLCBjb2xvcjogXCIjOGI1Y2Y2XCJ9LFxuICAgIHtzdGVwOiA1LCBsYWJlbDogXCJUZW1wZXJhdHVyZVxcblJpc2VzIEZ1cnRoZXJcIiwgeDogMTUwLCB5OiAxNTAsIGNvbG9yOiBcIiNkYzI2MjZcIn1cbiAgXTtcbiAgXG4gIGNvbnN0IGdyZWVuaG91c2VHYXMgPSBbXG4gICAge3N0ZXA6IDAsIGxhYmVsOiBcIlRlbXBlcmF0dXJlXFxuSW5jcmVhc2VzXCIsIHg6IDQwMCwgeTogNTAsIGNvbG9yOiBcIiNmOTczMTZcIn0sXG4gICAge3N0ZXA6IDEsIGxhYmVsOiBcIk9jZWFuIFdhdGVyXFxuV2FybXNcIiwgeDogNjUwLCB5OiAxNTAsIGNvbG9yOiBcIiMwZWE1ZTlcIn0sXG4gICAge3N0ZXA6IDIsIGxhYmVsOiBcIkNP4oKCIFJlbGVhc2VkXFxuZnJvbSBPY2VhblwiLCB4OiA2NTAsIHk6IDM1MCwgY29sb3I6IFwiIzY0NzQ4YlwifSxcbiAgICB7c3RlcDogMywgbGFiZWw6IFwiUGVybWFmcm9zdFxcblRoYXdzXCIsIHg6IDQwMCwgeTogNDUwLCBjb2xvcjogXCIjYTg1NWY3XCJ9LFxuICAgIHtzdGVwOiA0LCBsYWJlbDogXCJNb3JlIEdIR3NcXG5FbnRlciBBdG1vc3BoZXJlXCIsIHg6IDE1MCwgeTogMzUwLCBjb2xvcjogXCIjZWY0NDQ0XCJ9LFxuICAgIHtzdGVwOiA1LCBsYWJlbDogXCJHcmVlbmhvdXNlIEVmZmVjdFxcblN0cmVuZ3RoZW5zXCIsIHg6IDE1MCwgeTogMTUwLCBjb2xvcjogXCIjZGMyNjI2XCJ9XG4gIF07XG4gIFxuICBjb25zdCBjb21iaW5lZCA9IFtcbiAgICB7c3RlcDogMCwgbGFiZWw6IFwiSHVtYW4gQWN0aXZpdHk6XFxuRm9zc2lsIEZ1ZWwgQnVybmluZ1wiLCB4OiA0MDAsIHk6IDMwLCBjb2xvcjogXCIjMWUyOTNiXCJ9LFxuICAgIHtzdGVwOiAxLCBsYWJlbDogXCJDT+KCgiAmIEdIR3NcXG5JbmNyZWFzZVwiLCB4OiA2MDAsIHk6IDEyMCwgY29sb3I6IFwiIzY0NzQ4YlwifSxcbiAgICB7c3RlcDogMiwgbGFiZWw6IFwiRW5oYW5jZWRcXG5HcmVlbmhvdXNlIEVmZmVjdFwiLCB4OiA3MDAsIHk6IDI1MCwgY29sb3I6IFwiI2VmNDQ0NFwifSxcbiAgICB7c3RlcDogMywgbGFiZWw6IFwiVGVtcGVyYXR1cmVcXG5SaXNlc1wiLCB4OiA2NTAsIHk6IDM4MCwgY29sb3I6IFwiI2Y5NzMxNlwifSxcbiAgICB7c3RlcDogNCwgbGFiZWw6IFwiSWNlIE1lbHRzXFxuQWxiZWRvIOKGk1wiLCB4OiA0ODAsIHk6IDQ4MCwgY29sb3I6IFwiIzA2YjZkNFwifSxcbiAgICB7c3RlcDogNSwgbGFiZWw6IFwiT2NlYW4vUGVybWFmcm9zdFxcblJlbGVhc2UgQ0/igoJcIiwgeDogMjgwLCB5OiA0ODAsIGNvbG9yOiBcIiMzYjgyZjZcIn0sXG4gICAge3N0ZXA6IDYsIGxhYmVsOiBcIk1vcmUgSGVhdFxcbkFic29yYmVkXCIsIHg6IDEyMCwgeTogMzgwLCBjb2xvcjogXCIjOGI1Y2Y2XCJ9LFxuICAgIHtzdGVwOiA3LCBsYWJlbDogXCJBTVBMSUZJQ0FUSU9OOlxcbkZhc3RlciBXYXJtaW5nXCIsIHg6IDEwMCwgeTogMjUwLCBjb2xvcjogXCIjZGMyNjI2XCJ9LFxuICAgIHtzdGVwOiA4LCBsYWJlbDogXCJNdWx0aXBsZSBGZWVkYmFja3NcXG5SZWluZm9yY2VcIiwgeDogMjAwLCB5OiAxMjAsIGNvbG9yOiBcIiM5OTFiMWJcIn1cbiAgXTtcbiAgXG4gIHJldHVybiB7aWNlQWxiZWRvLCBncmVlbmhvdXNlR2FzLCBjb21iaW5lZH07XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXG4vLyBHZXQgY3VycmVudCBsb29wXG5jdXJyZW50TG9vcCA9IGZlZWRiYWNrVHlwZSA9PT0gXCJJY2UtQWxiZWRvIEZlZWRiYWNrXCIgXG4gID8gZmVlZGJhY2tMb29wcy5pY2VBbGJlZG8gXG4gIDogZmVlZGJhY2tUeXBlID09PSBcIkdyZWVuaG91c2UgR2FzIEZlZWRiYWNrXCJcbiAgPyBmZWVkYmFja0xvb3BzLmdyZWVuaG91c2VHYXNcbiAgOiBmZWVkYmFja0xvb3BzLmNvbWJpbmVkXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE4IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXG4vLyBBbmltYXRpb24gZnJhbWVcbm11dGFibGUgY3VycmVudFN0ZXAgPSAwXG5cbnRpY2sgPSB7XG4gIGlmIChpc0FuaW1hdGluZykge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB5aWVsZCBQcm9taXNlcy50aWNrKDE1MDApO1xuICAgICAgbXV0YWJsZSBjdXJyZW50U3RlcCA9IChjdXJyZW50U3RlcCArIDEpICUgY3VycmVudExvb3AubGVuZ3RoO1xuICAgIH1cbiAgfVxufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxuLy8gVmlzdWFsaXphdGlvblxuY2hhcnQgPSB7XG4gIGNvbnN0IHdpZHRoID0gODAwO1xuICBjb25zdCBoZWlnaHQgPSA1NTA7XG4gIFxuICBjb25zdCBzdmcgPSBkMy5jcmVhdGUoXCJzdmdcIilcbiAgICAuYXR0cihcInZpZXdCb3hcIiwgWzAsIDAsIHdpZHRoLCBoZWlnaHRdKVxuICAgIC5hdHRyKFwic3R5bGVcIiwgXCJtYXgtd2lkdGg6IDEwMCU7IGhlaWdodDogYXV0bztcIik7XG4gIFxuICAvLyBEZWZpbmUgYXJyb3cgbWFya2VycyBmaXJzdFxuICBjb25zdCBkZWZzID0gc3ZnLmFwcGVuZChcImRlZnNcIik7XG4gIFxuICBbXCJhY3RpdmVcIiwgXCJpbmFjdGl2ZVwiXS5mb3JFYWNoKHN0YXRlID0+IHtcbiAgICBkZWZzLmFwcGVuZChcIm1hcmtlclwiKVxuICAgICAgLmF0dHIoXCJpZFwiLCBgYXJyb3ctJHtzdGF0ZX1gKVxuICAgICAgLmF0dHIoXCJtYXJrZXJXaWR0aFwiLCAxMilcbiAgICAgIC5hdHRyKFwibWFya2VySGVpZ2h0XCIsIDEyKVxuICAgICAgLmF0dHIoXCJyZWZYXCIsIDExKVxuICAgICAgLmF0dHIoXCJyZWZZXCIsIDMpXG4gICAgICAuYXR0cihcIm9yaWVudFwiLCBcImF1dG9cIilcbiAgICAgIC5hcHBlbmQoXCJwb2x5Z29uXCIpXG4gICAgICAuYXR0cihcInBvaW50c1wiLCBcIjAgMCwgMTIgMywgMCA2XCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgc3RhdGUgPT09IFwiYWN0aXZlXCIgPyBcIiNkYzI2MjZcIiA6IFwiI2NiZDVlMVwiKTtcbiAgfSk7XG4gIFxuICAvLyBEcmF3IGNvbm5lY3RpbmcgcGF0aHNcbiAgY29uc3QgcGF0aEdyb3VwID0gc3ZnLmFwcGVuZChcImdcIik7XG4gIFxuICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRMb29wLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY3VycmVudCA9IGN1cnJlbnRMb29wW2ldO1xuICAgIGNvbnN0IG5leHQgPSBjdXJyZW50TG9vcFsoaSArIDEpICUgY3VycmVudExvb3AubGVuZ3RoXTtcbiAgICBcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGlzQW5pbWF0aW5nID8gKGkgPT09IGN1cnJlbnRTdGVwKSA6IHRydWU7XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBpc0FjdGl2ZSA/IDYgOiAzO1xuICAgIGNvbnN0IG9wYWNpdHkgPSBpc0FjdGl2ZSA/IDEgOiAwLjM7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGN1cnZlZCBwYXRoXG4gICAgY29uc3QgbWlkWCA9IChjdXJyZW50LnggKyBuZXh0LngpIC8gMjtcbiAgICBjb25zdCBtaWRZID0gKGN1cnJlbnQueSArIG5leHQueSkgLyAyO1xuICAgIGNvbnN0IGR4ID0gbmV4dC54IC0gY3VycmVudC54O1xuICAgIGNvbnN0IGR5ID0gbmV4dC55IC0gY3VycmVudC55O1xuICAgIFxuICAgIHBhdGhHcm91cC5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAuYXR0cihcImRcIiwgYE0ke2N1cnJlbnQueH0sJHtjdXJyZW50Lnl9IFEke21pZFggKyBkeS8zfSwke21pZFkgLSBkeC8zfSAke25leHQueH0sJHtuZXh0Lnl9YClcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIGlzQWN0aXZlID8gY3VycmVudC5jb2xvciA6IFwiI2NiZDVlMVwiKVxuICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgc3Ryb2tlV2lkdGgpXG4gICAgICAuYXR0cihcIm9wYWNpdHlcIiwgb3BhY2l0eSlcbiAgICAgIC5hdHRyKFwibWFya2VyLWVuZFwiLCBpc0FjdGl2ZSA/IFwidXJsKCNhcnJvdy1hY3RpdmUpXCIgOiBcInVybCgjYXJyb3ctaW5hY3RpdmUpXCIpXG4gICAgICAuYXR0cihcInN0cm9rZS1kYXNoYXJyYXlcIiwgaXNBY3RpdmUgPyBcIjgsNFwiIDogXCJub25lXCIpO1xuICB9XG4gIFxuICAvLyBEcmF3IG5vZGVzXG4gIGN1cnJlbnRMb29wLmZvckVhY2goKG5vZGUsIGkpID0+IHtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGlzQW5pbWF0aW5nID8gKGkgPT09IGN1cnJlbnRTdGVwKSA6IHRydWU7XG4gICAgY29uc3Qgbm9kZVJhZGl1cyA9IDUwO1xuICAgIFxuICAgIGNvbnN0IGdyb3VwID0gc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGUoJHtub2RlLnh9LCAke25vZGUueX0pYCk7XG4gICAgXG4gICAgLy8gTm9kZSBjaXJjbGVcbiAgICBncm91cC5hcHBlbmQoXCJjaXJjbGVcIilcbiAgICAgIC5hdHRyKFwiclwiLCBub2RlUmFkaXVzKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIGlzQWN0aXZlID8gbm9kZS5jb2xvciA6IFwiI2UyZThmMFwiKVxuICAgICAgLmF0dHIoXCJzdHJva2VcIiwgaXNBY3RpdmUgPyBcIiMxZTI5M2JcIiA6IFwiIzk0YTNiOFwiKVxuICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgaXNBY3RpdmUgPyAzIDogMilcbiAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCBpc0FjdGl2ZSA/IDAuOTUgOiAwLjUpO1xuICAgIFxuICAgIC8vIE5vZGUgbGFiZWxcbiAgICBjb25zdCBsaW5lcyA9IG5vZGUubGFiZWwuc3BsaXQoXCJcXFxcblwiKTtcbiAgICBsaW5lcy5mb3JFYWNoKChsaW5lLCBpZHgpID0+IHtcbiAgICAgIGdyb3VwLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAuYXR0cihcImR5XCIsIGAkey0wLjMgKyBpZHggKiAxLjJ9ZW1gKVxuICAgICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjEzcHhcIilcbiAgICAgICAgLmF0dHIoXCJmb250LXdlaWdodFwiLCBpc0FjdGl2ZSA/IFwiNzAwXCIgOiBcIjUwMFwiKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgaXNBY3RpdmUgPyBcIiNmZmZmZmZcIiA6IFwiIzY0NzQ4YlwiKVxuICAgICAgICAudGV4dChsaW5lKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBTdGVwIG51bWJlclxuICAgIGdyb3VwLmFwcGVuZChcImNpcmNsZVwiKVxuICAgICAgLmF0dHIoXCJjeFwiLCBub2RlUmFkaXVzIC0gMTUpXG4gICAgICAuYXR0cihcImN5XCIsIC1ub2RlUmFkaXVzICsgMTUpXG4gICAgICAuYXR0cihcInJcIiwgMTUpXG4gICAgICAuYXR0cihcImZpbGxcIiwgXCIjMWUyOTNiXCIpXG4gICAgICAuYXR0cihcIm9wYWNpdHlcIiwgMC45KTtcbiAgICBcbiAgICBncm91cC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcInhcIiwgbm9kZVJhZGl1cyAtIDE1KVxuICAgICAgLmF0dHIoXCJ5XCIsIC1ub2RlUmFkaXVzICsgMTUpXG4gICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAuYXR0cihcImR5XCIsIFwiMC4zNWVtXCIpXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjEycHhcIilcbiAgICAgIC5hdHRyKFwiZm9udC13ZWlnaHRcIiwgXCI3MDBcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIiNmZmZmZmZcIilcbiAgICAgIC50ZXh0KGkgKyAxKTtcbiAgfSk7XG4gIFxuICAvLyBBZGQgdGl0bGVcbiAgc3ZnLmFwcGVuZChcInRleHRcIilcbiAgICAuYXR0cihcInhcIiwgd2lkdGgvMilcbiAgICAuYXR0cihcInlcIiwgaGVpZ2h0IC0gMjApXG4gICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIFwiMTZweFwiKVxuICAgIC5hdHRyKFwiZm9udC13ZWlnaHRcIiwgXCI3MDBcIilcbiAgICAuYXR0cihcImZpbGxcIiwgXCIjMWUyOTNiXCIpXG4gICAgLnRleHQoYCR7ZmVlZGJhY2tUeXBlfTogQSBQb3NpdGl2ZSAoQW1wbGlmeWluZykgRmVlZGJhY2sgTG9vcGApO1xuICBcbiAgcmV0dXJuIHN2Zy5ub2RlKCk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXG4vLyBFeHBsYW5hdG9yeSB0ZXh0XG5tZGBcbiMjIyBVbmRlcnN0YW5kaW5nIFBvc2l0aXZlIEZlZWRiYWNrc1xuXG4ke2ZlZWRiYWNrVHlwZSA9PT0gXCJJY2UtQWxiZWRvIEZlZWRiYWNrXCIgPyBgXG4qKkljZS1BbGJlZG8gRmVlZGJhY2sqKiBvY2N1cnMgd2hlbiB3YXJtaW5nIG1lbHRzIHJlZmxlY3RpdmUgaWNlIGFuZCBzbm93LCBleHBvc2luZyBkYXJrZXIgc3VyZmFjZXMgKG9jZWFuLCBsYW5kKSB0aGF0IGFic29yYiBtb3JlIHNvbGFyIHJhZGlhdGlvbi4gVGhpcyBleHRyYSBhYnNvcnB0aW9uIGNhdXNlcyBtb3JlIHdhcm1pbmcsIHdoaWNoIG1lbHRzIG1vcmUgaWNlIC0gYSBzZWxmLXJlaW5mb3JjaW5nIGN5Y2xlIHRoYXQgKiphbXBsaWZpZXMqKiB0aGUgaW5pdGlhbCB3YXJtaW5nLlxuXG4qKktleSBQb2ludDoqKiBBcmN0aWMgcmVnaW9ucyBhcmUgd2FybWluZyAqKn40IHRpbWVzIGZhc3RlcioqIHRoYW4gdGhlIGdsb2JhbCBhdmVyYWdlIGR1ZSB0byB0aGlzIGZlZWRiYWNrIVxuYCA6IGZlZWRiYWNrVHlwZSA9PT0gXCJHcmVlbmhvdXNlIEdhcyBGZWVkYmFja1wiID8gYFxuKipHcmVlbmhvdXNlIEdhcyBGZWVkYmFjayoqIGhhcHBlbnMgd2hlbiB3YXJtaW5nIHRlbXBlcmF0dXJlcyBjYXVzZSBuYXR1cmFsIHN5c3RlbXMgdG8gcmVsZWFzZSBzdG9yZWQgY2FyYm9uLiBXYXJtZXIgb2NlYW5zIGhvbGQgbGVzcyBkaXNzb2x2ZWQgQ0/igoIsIGFuZCB0aGF3aW5nIHBlcm1hZnJvc3QgcmVsZWFzZXMgYm90aCBDT+KCgiBhbmQgbWV0aGFuZS4gVGhlc2UgYWRkaXRpb25hbCBncmVlbmhvdXNlIGdhc2VzIHRyYXAgbW9yZSBoZWF0LCBjYXVzaW5nIGZ1cnRoZXIgd2FybWluZyBhbmQgbW9yZSByZWxlYXNlLlxuXG4qKktleSBQb2ludDoqKiBUaGlzIGNyZWF0ZXMgYSBzaXR1YXRpb24gd2hlcmUgaHVtYW4tY2F1c2VkIHdhcm1pbmcgKip0cmlnZ2VycyBuYXR1cmFsIGNhcmJvbiByZWxlYXNlcyoqIHRoYXQgd2UgZG9uJ3QgZGlyZWN0bHkgY29udHJvbC5cbmAgOiBgXG4qKkNvbWJpbmVkIEZlZWRiYWNrcyoqIHNob3cgaG93IG11bHRpcGxlIHJlaW5mb3JjaW5nIG1lY2hhbmlzbXMgd29yayB0b2dldGhlciB0byBhbXBsaWZ5IHdhcm1pbmcgZmFyIGJleW9uZCB0aGUgaW5pdGlhbCBmb3JjaW5nIGZyb20gZm9zc2lsIGZ1ZWwgZW1pc3Npb25zLiBFYWNoIGZlZWRiYWNrIHN0cmVuZ3RoZW5zIHRoZSBvdGhlcnM6XG5cbi0gTW9yZSBHSEdzIOKGkiBNb3JlIHdhcm1pbmcg4oaSIEljZSBtZWx0cyDihpIgTGVzcyByZWZsZWN0aW9uIOKGkiBFdmVuIG1vcmUgd2FybWluZ1xuLSBNb3JlIHdhcm1pbmcg4oaSIE9jZWFuL3Blcm1hZnJvc3QgcmVsZWFzZSBDT+KCgiDihpIgTW9yZSBHSEdzIOKGkiBFdmVuIG1vcmUgd2FybWluZ1xuXG4qKktleSBQb2ludDoqKiBUaGUgKipyYXRlIG9mIGN1cnJlbnQgd2FybWluZyoqICgwLjLCsEMgcGVyIGRlY2FkZSkgaXMgdW5wcmVjZWRlbnRlZCBpbiB0aGUgbGFzdCAyLDAwMCB5ZWFycyBiZWNhdXNlIHRoZXNlIGZlZWRiYWNrcyBhbXBsaWZ5IHRoZSBodW1hbi1jYXVzZWQgZm9yY2luZy5cbmB9XG5cbuKaoO+4jyAqKldoeSB0aGlzIG1hdHRlcnM6KiogVGhlc2UgYXJlIGNhbGxlZCAqKnBvc2l0aXZlIGZlZWRiYWNrcyoqIG5vdCBiZWNhdXNlIHRoZXkncmUgZ29vZCwgYnV0IGJlY2F1c2UgdGhleSAqKmFtcGxpZnkgY2hhbmdlKiogcmF0aGVyIHRoYW4gZGFtcGluZyBpdC4gT25jZSB0cmlnZ2VyZWQsIHRoZXkgbWFrZSBjbGltYXRlIGNoYW5nZSBoYXJkZXIgdG8gc3RvcC5cbmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIGNvbnN0IHF1ZXN0aW9ucyA9IFtcbiAgICB7XG4gICAgICBxOiBcIldoYXQgaXMgdGhlIHByaW1hcnkgZ3JlZW5ob3VzZSBnYXMgdGhhdCBodW1hbnMgaGF2ZSBpbmNyZWFzZWQgaW4gdGhlIGF0bW9zcGhlcmU/XCIsXG4gICAgICBvcHRpb25zOiBbXCJBKSBPeHlnZW5cIiwgXCJCKSBOaXRyb2dlblwiLCBcIkMpIENhcmJvbiBkaW94aWRlXCIsIFwiRCkgQXJnb25cIl0sXG4gICAgICBjb3JyZWN0OiAyLFxuICAgICAgZXhwbGFuYXRpb246IFwiQ2FyYm9uIGRpb3hpZGUgKENP4oKCKSBpcyB0aGUgcHJpbWFyeSBncmVlbmhvdXNlIGdhcyBpbmNyZWFzZWQgYnkgaHVtYW4gYWN0aXZpdGllcywgbWFpbmx5IHRocm91Z2ggYnVybmluZyBmb3NzaWwgZnVlbHMuXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHE6IFwiV2hhdCBpcyBhbGJlZG8/XCIsXG4gICAgICBvcHRpb25zOiBbXCJBKSBUaGUgYW1vdW50IG9mIENP4oKCIGluIHRoZSBhdG1vc3BoZXJlXCIsIFwiQikgVGhlIG1lYXN1cmUgb2YgaG93IG11Y2ggbGlnaHQgYSBzdXJmYWNlIHJlZmxlY3RzXCIsIFwiQykgVGhlIHRlbXBlcmF0dXJlIG9mIHRoZSBvY2VhblwiLCBcIkQpIFRoZSBzcGVlZCBvZiBpY2UgbWVsdGluZ1wiXSxcbiAgICAgIGNvcnJlY3Q6IDEsXG4gICAgICBleHBsYW5hdGlvbjogXCJBbGJlZG8gbWVhc3VyZXMgdGhlIHJlZmxlY3Rpdml0eSBvZiBhIHN1cmZhY2Ug4oCUIGZyb20gMCAoYWJzb3JicyBhbGwgbGlnaHQpIHRvIDEgKHJlZmxlY3RzIGFsbCBsaWdodCkuXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHE6IFwiV2hpY2ggc3VyZmFjZSBoYXMgdGhlIEhJR0hFU1QgYWxiZWRvP1wiLFxuICAgICAgb3B0aW9uczogW1wiQSkgRnJlc2ggc25vd1wiLCBcIkIpIE9jZWFuIHdhdGVyXCIsIFwiQykgRm9yZXN0XCIsIFwiRCkgRGVzZXJ0IHNhbmRcIl0sXG4gICAgICBjb3JyZWN0OiAwLFxuICAgICAgZXhwbGFuYXRpb246IFwiRnJlc2ggc25vdyBoYXMgYW4gYWxiZWRvIG9mIGFib3V0IDAuODDigJMwLjkwLCByZWZsZWN0aW5nIG1vc3QgaW5jb21pbmcgc29sYXIgcmFkaWF0aW9uLlwiXG4gICAgfSxcbiAgICB7XG4gICAgICBxOiBcIlRoZSBpY2UtYWxiZWRvIGZlZWRiYWNrIGlzIGFuIGV4YW1wbGUgb2Y6XCIsXG4gICAgICBvcHRpb25zOiBbXCJBKSBOZWdhdGl2ZSBmZWVkYmFjayB0aGF0IHN0YWJpbGl6ZXMgY2xpbWF0ZVwiLCBcIkIpIFBvc2l0aXZlIGZlZWRiYWNrIHRoYXQgYW1wbGlmaWVzIHdhcm1pbmdcIiwgXCJDKSBObyBmZWVkYmFjayBlZmZlY3RcIiwgXCJEKSBBIGNvb2xpbmcgbWVjaGFuaXNtXCJdLFxuICAgICAgY29ycmVjdDogMSxcbiAgICAgIGV4cGxhbmF0aW9uOiBcIkljZS1hbGJlZG8gaXMgYSBwb3NpdGl2ZSBmZWVkYmFjazogd2FybWluZyBtZWx0cyBpY2Ug4oaSIGRhcmtlciBzdXJmYWNlIOKGkiBtb3JlIGFic29ycHRpb24g4oaSIG1vcmUgd2FybWluZy5cIlxuICAgIH0sXG4gICAge1xuICAgICAgcTogXCJXaHkgaXMgdGhlIEFyY3RpYyB3YXJtaW5nIGFsbW9zdCA0IHRpbWVzIGZhc3RlciB0aGFuIHRoZSBnbG9iYWwgYXZlcmFnZT9cIixcbiAgICAgIG9wdGlvbnM6IFtcIkEpIFRoZSBTdW4gaXMgY2xvc2VyIHRvIHRoZSBBcmN0aWNcIiwgXCJCKSBJY2UtYWxiZWRvIGZlZWRiYWNrIGFtcGxpZmllcyB3YXJtaW5nIHRoZXJlXCIsIFwiQykgVGhlcmUgYXJlIG1vcmUgcGVvcGxlIGluIHRoZSBBcmN0aWNcIiwgXCJEKSBWb2xjYW5pYyBhY3Rpdml0eSBpbiB0aGUgQXJjdGljXCJdLFxuICAgICAgY29ycmVjdDogMSxcbiAgICAgIGV4cGxhbmF0aW9uOiBcIkFyY3RpYyBhbXBsaWZpY2F0aW9uIG9jY3VycyBiZWNhdXNlIHRoZSBpY2UtYWxiZWRvIGZlZWRiYWNrIGlzIHN0cm9uZ2VzdCB3aGVyZSBpY2UgaXMgbWVsdGluZywgY3JlYXRpbmcgYSBzZWxmLXJlaW5mb3JjaW5nIHdhcm1pbmcgY3ljbGUuXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHE6IFwiQ3VycmVudCBhdG1vc3BoZXJpYyBDT+KCgiBsZXZlbHMgYXJlIGFwcHJveGltYXRlbHk6XCIsXG4gICAgICBvcHRpb25zOiBbXCJBKSAyODAgcHBtIChwcmUtaW5kdXN0cmlhbCBsZXZlbClcIiwgXCJCKSAzNTAgcHBtXCIsIFwiQykgNDIwIHBwbVwiLCBcIkQpIDEwMDAgcHBtXCJdLFxuICAgICAgY29ycmVjdDogMixcbiAgICAgIGV4cGxhbmF0aW9uOiBcIkFzIG9mIDIwMjQsIGF0bW9zcGhlcmljIENP4oKCIGlzIGFwcHJveGltYXRlbHkgNDIwIHBwbSDigJQgNTAlIGhpZ2hlciB0aGFuIHRoZSBwcmUtaW5kdXN0cmlhbCBsZXZlbCBvZiAyODAgcHBtLlwiXG4gICAgfSxcbiAgICB7XG4gICAgICBxOiBcIkluIHRoZSBncmVlbmhvdXNlIGVmZmVjdCwgd2hhdCB0eXBlIG9mIHJhZGlhdGlvbiBkbyBncmVlbmhvdXNlIGdhc2VzIGFic29yYj9cIixcbiAgICAgIG9wdGlvbnM6IFtcIkEpIFZpc2libGUgbGlnaHQgZnJvbSB0aGUgU3VuXCIsIFwiQikgVWx0cmF2aW9sZXQgcmFkaWF0aW9uXCIsIFwiQykgSW5mcmFyZWQgcmFkaWF0aW9uIGZyb20gRWFydGgncyBzdXJmYWNlXCIsIFwiRCkgWC1yYXlzXCJdLFxuICAgICAgY29ycmVjdDogMixcbiAgICAgIGV4cGxhbmF0aW9uOiBcIkdyZWVuaG91c2UgZ2FzZXMgYWJzb3JiIGluZnJhcmVkIChoZWF0KSByYWRpYXRpb24gZW1pdHRlZCBieSBFYXJ0aCdzIHN1cmZhY2UsIHRyYXBwaW5nIGVuZXJneSBpbiB0aGUgYXRtb3NwaGVyZS5cIlxuICAgIH0sXG4gICAge1xuICAgICAgcTogXCJUaGUgcGVybWFmcm9zdCBmZWVkYmFjayBpbnZvbHZlcyB0aGUgcmVsZWFzZSBvZiB3aGljaCBnYXNlcz9cIixcbiAgICAgIG9wdGlvbnM6IFtcIkEpIE94eWdlbiBhbmQgbml0cm9nZW5cIiwgXCJCKSBNZXRoYW5lIGFuZCBjYXJib24gZGlveGlkZVwiLCBcIkMpIE96b25lIGFuZCBDRkNzXCIsIFwiRCkgSHlkcm9nZW4gYW5kIGhlbGl1bVwiXSxcbiAgICAgIGNvcnJlY3Q6IDEsXG4gICAgICBleHBsYW5hdGlvbjogXCJUaGF3aW5nIHBlcm1hZnJvc3QgcmVsZWFzZXMgbWV0aGFuZSAoQ0jigoQpIGFuZCBDT+KCgiBmcm9tIGRlY29tcG9zaW5nIG9yZ2FuaWMgbWF0dGVyIOKAlCBtZXRoYW5lIGlzIDgweCBtb3JlIHBvdGVudCBhcyBhIGdyZWVuaG91c2UgZ2FzIG92ZXIgMjAgeWVhcnMuXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHE6IFwiSWYgQXJjdGljIHNlYSBpY2UgKGFsYmVkbyAwLjYwKSBpcyByZXBsYWNlZCBieSBvcGVuIG9jZWFuIChhbGJlZG8gMC4wNiksIHdoYXQgaGFwcGVucyB0byBlbmVyZ3kgYWJzb3JwdGlvbj9cIixcbiAgICAgIG9wdGlvbnM6IFtcIkEpIFN0YXlzIHRoZSBzYW1lXCIsIFwiQikgRGVjcmVhc2VzIHNsaWdodGx5XCIsIFwiQykgSW5jcmVhc2VzIGRyYW1hdGljYWxseSAoMTB4IG1vcmUgYWJzb3JiZWQpXCIsIFwiRCkgRGVjcmVhc2VzIGRyYW1hdGljYWxseVwiXSxcbiAgICAgIGNvcnJlY3Q6IDIsXG4gICAgICBleHBsYW5hdGlvbjogXCJPY2VhbiBhYnNvcmJzIDk0JSBvZiBpbmNvbWluZyByYWRpYXRpb24gdnMuIGljZSBhYnNvcmJpbmcgb25seSA0MCUg4oCUIG5lYXJseSAxMHggbW9yZSBlbmVyZ3kgaXMgYWJzb3JiZWQuXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHE6IFwiV2hpY2ggc3RhdGVtZW50IGJlc3QgZXhwbGFpbnMgd2h5IHNjaWVudGlzdHMgYXJlIGNvbmZpZGVudCBodW1hbnMgYXJlIGNhdXNpbmcgY3VycmVudCBjbGltYXRlIGNoYW5nZT9cIixcbiAgICAgIG9wdGlvbnM6IFtcIkEpIEl0J3MganVzdCBhIGd1ZXNzXCIsIFwiQikgVGVtcGVyYXR1cmVzIGhhdmUgY2hhbmdlZCBiZWZvcmUgbmF0dXJhbGx5XCIsIFwiQykgQ0/igoIgbGV2ZWxzIGFyZSBmYXIgYmV5b25kIG5hdHVyYWwgcmFuZ2UgYW5kIG1hdGNoIHRpbWluZyBvZiBpbmR1c3RyaWFsaXphdGlvblwiLCBcIkQpIFRoZSBTdW4gaGFzIGdvdHRlbiBicmlnaHRlclwiXSxcbiAgICAgIGNvcnJlY3Q6IDIsXG4gICAgICBleHBsYW5hdGlvbjogXCJDT+KCgiBhdCA0MjAgcHBtIGlzIGZhciBiZXlvbmQgdGhlIDE4MOKAkzI4MCBwcG0gbmF0dXJhbCByYW5nZSBvZiB0aGUgbGFzdCA4MDAsMDAwIHllYXJzLCBhbmQgdGhlIHJpc2UgY29ycmVsYXRlcyBwcmVjaXNlbHkgd2l0aCBmb3NzaWwgZnVlbCB1c2UuXCJcbiAgICB9XG4gIF07XG5cbiAgY29uc3QgY29udGFpbmVyID0gZDMuY3JlYXRlKFwiZGl2XCIpLmF0dHIoXCJjbGFzc1wiLCBcImludGVyYWN0aXZlLXF1aXpcIik7XG4gIGNvbnRhaW5lci5hcHBlbmQoXCJwXCIpLnN0eWxlKFwidGV4dC1hbGlnblwiLCBcImNlbnRlclwiKS5zdHlsZShcImNvbG9yXCIsIFwiIzcxODA5NlwiKS5zdHlsZShcImZvbnQtc3R5bGVcIiwgXCJpdGFsaWNcIilcbiAgICAudGV4dChcIlNlbGVjdCBhbiBhbnN3ZXIgZm9yIGVhY2ggcXVlc3Rpb24sIHRoZW4gY2xpY2sgJ0NoZWNrIEFuc3dlcnMnIHRvIHNlZSB5b3VyIHNjb3JlLlwiKTtcblxuICBjb25zdCBzdGF0ZSA9IHsgYW5zd2VyczogbmV3IEFycmF5KHF1ZXN0aW9ucy5sZW5ndGgpLmZpbGwoLTEpIH07XG5cbiAgcXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBxaSkgPT4ge1xuICAgIGNvbnN0IHFEaXYgPSBjb250YWluZXIuYXBwZW5kKFwiZGl2XCIpLmF0dHIoXCJjbGFzc1wiLCBcInF1aXotcXVlc3Rpb25cIik7XG4gICAgcURpdi5hcHBlbmQoXCJwXCIpLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCI3MDBcIikuc3R5bGUoXCJtYXJnaW4tYm90dG9tXCIsIFwiMTJweFwiKVxuICAgICAgLnRleHQoYFF1ZXN0aW9uICR7cWkgKyAxfTogJHtxdWVzdGlvbi5xfWApO1xuXG4gICAgcXVlc3Rpb24ub3B0aW9ucy5mb3JFYWNoKChvcHQsIG9pKSA9PiB7XG4gICAgICBjb25zdCBsYWJlbCA9IHFEaXYuYXBwZW5kKFwibGFiZWxcIikuYXR0cihcImNsYXNzXCIsIFwicXVpei1vcHRpb25cIilcbiAgICAgICAgLnN0eWxlKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpLnN0eWxlKFwicGFkZGluZ1wiLCBcIjEwcHggMTZweFwiKS5zdHlsZShcIm1hcmdpblwiLCBcIjZweCAwXCIpXG4gICAgICAgIC5zdHlsZShcImJvcmRlclwiLCBcIjJweCBzb2xpZCAjZTJlOGYwXCIpLnN0eWxlKFwiYm9yZGVyLXJhZGl1c1wiLCBcIjhweFwiKS5zdHlsZShcImN1cnNvclwiLCBcInBvaW50ZXJcIik7XG4gICAgICBsYWJlbC5hcHBlbmQoXCJpbnB1dFwiKS5hdHRyKFwidHlwZVwiLCBcInJhZGlvXCIpLmF0dHIoXCJuYW1lXCIsIGBjZnEke3FpfWApXG4gICAgICAgIC5zdHlsZShcIm1hcmdpbi1yaWdodFwiLCBcIjEwcHhcIilcbiAgICAgICAgLm9uKFwiY2hhbmdlXCIsICgpID0+IHsgc3RhdGUuYW5zd2Vyc1txaV0gPSBvaTsgfSk7XG4gICAgICBsYWJlbC5hcHBlbmQoXCJzcGFuXCIpLnRleHQob3B0KTtcbiAgICB9KTtcblxuICAgIHFEaXYuYXBwZW5kKFwiZGl2XCIpLmF0dHIoXCJjbGFzc1wiLCBgY2YtZmVlZGJhY2stJHtxaX1gKTtcbiAgfSk7XG5cbiAgY29uc3QgYnRuRGl2ID0gY29udGFpbmVyLmFwcGVuZChcImRpdlwiKS5zdHlsZShcInRleHQtYWxpZ25cIiwgXCJjZW50ZXJcIikuc3R5bGUoXCJtYXJnaW4tdG9wXCIsIFwiMjBweFwiKTtcbiAgYnRuRGl2LmFwcGVuZChcImJ1dHRvblwiKVxuICAgIC5zdHlsZShcImJhY2tncm91bmRcIiwgXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhLCAjNzY0YmEyKVwiKS5zdHlsZShcImNvbG9yXCIsIFwid2hpdGVcIilcbiAgICAuc3R5bGUoXCJib3JkZXJcIiwgXCJub25lXCIpLnN0eWxlKFwicGFkZGluZ1wiLCBcIjEycHggMzZweFwiKS5zdHlsZShcImJvcmRlci1yYWRpdXNcIiwgXCIyNXB4XCIpXG4gICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMS4xZW1cIikuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcIjcwMFwiKS5zdHlsZShcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAuc3R5bGUoXCJib3gtc2hhZG93XCIsIFwiMCA0cHggMTVweCByZ2JhKDEwMiwxMjYsMjM0LDAuNClcIilcbiAgICAudGV4dChcIkNoZWNrIEFuc3dlcnNcIilcbiAgICAub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBzY29yZSA9IDA7XG4gICAgICBxdWVzdGlvbnMuZm9yRWFjaCgocXVlc3Rpb24sIHFpKSA9PiB7XG4gICAgICAgIGNvbnN0IGZiID0gY29udGFpbmVyLnNlbGVjdChgLmNmLWZlZWRiYWNrLSR7cWl9YCk7XG4gICAgICAgIGZiLmh0bWwoXCJcIik7XG4gICAgICAgIGlmIChzdGF0ZS5hbnN3ZXJzW3FpXSA9PT0gLTEpIHtcbiAgICAgICAgICBmYi5hcHBlbmQoXCJkaXZcIikuYXR0cihcImNsYXNzXCIsIFwicXVpei1mZWVkYmFjayBpbmNvcnJlY3RcIilcbiAgICAgICAgICAgIC50ZXh0KFwi4pqg77iPIFBsZWFzZSBzZWxlY3QgYW4gYW5zd2VyLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gc3RhdGUuYW5zd2Vyc1txaV0gPT09IHF1ZXN0aW9uLmNvcnJlY3Q7XG4gICAgICAgIGlmIChpc0NvcnJlY3QpIHNjb3JlKys7XG4gICAgICAgIGZiLmFwcGVuZChcImRpdlwiKS5hdHRyKFwiY2xhc3NcIiwgYHF1aXotZmVlZGJhY2sgJHtpc0NvcnJlY3QgPyBcImNvcnJlY3RcIiA6IFwiaW5jb3JyZWN0XCJ9YClcbiAgICAgICAgICAuaHRtbChgJHtpc0NvcnJlY3QgPyBcIuKchSBDb3JyZWN0IVwiIDogXCLinYwgSW5jb3JyZWN0LiBUaGUgY29ycmVjdCBhbnN3ZXIgaXMgXCIgKyBxdWVzdGlvbi5vcHRpb25zW3F1ZXN0aW9uLmNvcnJlY3RdICsgXCIuXCJ9PGJyPjxlbT4ke3F1ZXN0aW9uLmV4cGxhbmF0aW9ufTwvZW0+YCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2NvcmVEaXYgPSBjb250YWluZXIuc2VsZWN0KFwiLmNmLXNjb3JlLWRpc3BsYXlcIik7XG4gICAgICBzY29yZURpdi5odG1sKFwiXCIpO1xuICAgICAgY29uc3QgcGN0ID0gTWF0aC5yb3VuZChzY29yZSAvIHF1ZXN0aW9ucy5sZW5ndGggKiAxMDApO1xuICAgICAgY29uc3QgZW1vamkgPSBwY3QgPT09IDEwMCA/IFwi8J+Mn1wiIDogcGN0ID49IDgwID8gXCLwn5GPXCIgOiBwY3QgPj0gNjAgPyBcIvCfkY1cIiA6IFwi8J+TmlwiO1xuICAgICAgc2NvcmVEaXYuYXBwZW5kKFwiZGl2XCIpLmF0dHIoXCJjbGFzc1wiLCBcInF1aXotc2NvcmVcIilcbiAgICAgICAgLnRleHQoYCR7ZW1vaml9IFNjb3JlOiAke3Njb3JlfS8ke3F1ZXN0aW9ucy5sZW5ndGh9ICgke3BjdH0lKWApO1xuICAgIH0pO1xuXG4gIGNvbnRhaW5lci5hcHBlbmQoXCJkaXZcIikuYXR0cihcImNsYXNzXCIsIFwiY2Ytc2NvcmUtZGlzcGxheVwiKTtcbiAgcmV0dXJuIGNvbnRhaW5lci5ub2RlKCk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3llYXJzJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2h1bWFuX2VtaXNzaW9ucycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzaG93TW9kZXJuJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2ljZUV4dGVudCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdmZWVkYmFja1R5cGVTaW1wbGUnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgndGltZVBlcmlvZCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdmZWVkYmFja1R5cGUnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnaXNBbmltYXRpbmcnKSJ9XX0=
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../unit4-climate-change";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../unit4-climate-change/unit4-earth-sun-dynamics.html" class="pagination-link" aria-label="Unit 4: Earth-Sun Dynamics 5E">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Unit 4: Earth-Sun Dynamics 5E</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../unit4-climate-change/unit4-past-and-future.html" class="pagination-link" aria-label="Unit 4: The Past and the Future 5E">
        <span class="nav-page-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Unit 4: The Past and the Future 5E</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb23" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Unit 4: Climate Feedbacks 5E"</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "What is causing global temperatures to rise, and why is the Arctic warming at almost 4 times the rate as the rest of the globe?"</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Earth &amp; Space Science"</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: false</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 3</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: true</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="in">.engage-box { background: linear-gradient(135deg, #1565C0 0%, #0D47A1 100%); color: white; border-left: 5px solid #2196F3; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="in">.explore-box { background: linear-gradient(135deg, #E65100 0%, #BF360C 100%); color: white; border-left: 5px solid #ff9800; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="in">.explain-box { background: linear-gradient(135deg, #2E7D32 0%, #1B5E20 100%); color: white; border-left: 5px solid #4caf50; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a><span class="in">.elaborate-box { background: linear-gradient(135deg, #6A1B9A 0%, #4A148C 100%); color: white; border-left: 5px solid #9c27b0; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a><span class="in">.evaluate-box { background: linear-gradient(135deg, #C62828 0%, #B71C1C 100%); color: white; border-left: 5px solid #f44336; padding: 20px; margin: 15px 0; border-radius: 0 10px 10px 0; }</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a><span class="in">.check-understanding { background: linear-gradient(135deg, #00838F 0%, #006064 100%); color: white; border-left: 5px solid #17a2b8; padding: 15px; margin: 15px 0; }</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="in">.key-idea { background: linear-gradient(135deg, #2E7D32 0%, #1B5E20 100%); color: white; border-left: 5px solid #28a745; padding: 15px; margin: 15px 0; }</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a><span class="in">.lab-activity { background: linear-gradient(135deg, #424242 0%, #212121 100%); color: white; border: 2px solid #666; padding: 20px; margin: 20px 0; border-radius: 10px; }</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a><span class="in">.quiz-section { background: linear-gradient(135deg, #C62828 0%, #B71C1C 100%); color: white; border-left: 5px solid #dc3545; padding: 20px; margin: 20px 0; border-radius: 10px; }</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a><span class="in">.feedback-loop { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 15px; margin: 20px 0; }</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a><span class="in">.pe-badge { display: inline-block; background: #673ab7; color: white; padding: 5px 10px; border-radius: 5px; font-size: 12px; margin: 5px; }</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>&lt;span class="pe-badge"&gt;HS-ESS2-2&lt;/span&gt; &lt;span class="pe-badge"&gt;HS-ESS2-4&lt;/span&gt; &lt;span class="pe-badge"&gt;HS-ESS2-6&lt;/span&gt; &lt;span class="pe-badge"&gt;Time: 7-9 Days&lt;/span&gt;</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a><span class="fu"># Investigative Phenomenon</span></span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>::: {.engage-box}</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a><span class="fu">## üå°Ô∏è Arctic Amplification</span></span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>**The globe is warming, and the average temperature of the Arctic is increasing at almost 4 times the rate as the rest of the globe.**</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a><span class="fu">### Driving Questions:</span></span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>What is causing global temperatures to rise today?</span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Why is the Arctic warming almost 4x faster than the rest of the globe?</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>How do feedbacks (like greenhouse gases and ice) amplify or reduce change?</span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>How do greenhouse gas increases connect to glacial cycles and current warming?</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a><span class="fu"># Engage: Arctic vs Global Warming</span></span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>What is happening to temperatures and Arctic ice today? Use the graph below to compare warming in the Arctic to the global average and surface student questions about the current climate change that orbital factors did not explain in the previous lesson.</span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a><span class="in">// Ensure we are grabbing a version of Plot that supports tooltips</span></span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a><span class="in">Plot = require("@observablehq/plot@0.6.13")</span></span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a><span class="in">arcticData = [</span></span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1980, global: 0.26, arctic: 0.4},</span></span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1985, global: 0.12, arctic: 0.3},</span></span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1990, global: 0.45, arctic: 0.8},</span></span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1995, global: 0.45, arctic: 0.9},</span></span>
<span id="cb23-64"><a href="#cb23-64" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2000, global: 0.42, arctic: 1.0},</span></span>
<span id="cb23-65"><a href="#cb23-65" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2005, global: 0.69, arctic: 1.5},</span></span>
<span id="cb23-66"><a href="#cb23-66" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2010, global: 0.72, arctic: 1.8},</span></span>
<span id="cb23-67"><a href="#cb23-67" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2015, global: 0.90, arctic: 2.5},</span></span>
<span id="cb23-68"><a href="#cb23-68" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2020, global: 1.02, arctic: 3.2},</span></span>
<span id="cb23-69"><a href="#cb23-69" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2024, global: 1.29, arctic: 4.1}</span></span>
<span id="cb23-70"><a href="#cb23-70" aria-hidden="true" tabindex="-1"></a><span class="in">]</span></span>
<span id="cb23-71"><a href="#cb23-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-72"><a href="#cb23-72" aria-hidden="true" tabindex="-1"></a><span class="in">Plot.plot({</span></span>
<span id="cb23-73"><a href="#cb23-73" aria-hidden="true" tabindex="-1"></a><span class="in">  title: "Temperature Change: Arctic vs Global Average",</span></span>
<span id="cb23-74"><a href="#cb23-74" aria-hidden="true" tabindex="-1"></a><span class="in">  subtitle: "Anomaly relative to 1951-1980 baseline (¬∞C)",</span></span>
<span id="cb23-75"><a href="#cb23-75" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 700,</span></span>
<span id="cb23-76"><a href="#cb23-76" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 400,</span></span>
<span id="cb23-77"><a href="#cb23-77" aria-hidden="true" tabindex="-1"></a><span class="in">  y: {label: "Temperature Anomaly (¬∞C)", domain: [0, 4.5]},</span></span>
<span id="cb23-78"><a href="#cb23-78" aria-hidden="true" tabindex="-1"></a><span class="in">  x: {label: "Year", tickFormat: "d"}, // Format year to avoid commas (e.g. 2,020)</span></span>
<span id="cb23-79"><a href="#cb23-79" aria-hidden="true" tabindex="-1"></a><span class="in">  color: {legend: true},</span></span>
<span id="cb23-80"><a href="#cb23-80" aria-hidden="true" tabindex="-1"></a><span class="in">  marks: [</span></span>
<span id="cb23-81"><a href="#cb23-81" aria-hidden="true" tabindex="-1"></a><span class="in">    // 1. Add a vertical scanning line that follows the mouse (pointerX)</span></span>
<span id="cb23-82"><a href="#cb23-82" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.ruleX(arcticData, Plot.pointerX({x: "year", stroke: "gray", strokeOpacity: 0.5})),</span></span>
<span id="cb23-83"><a href="#cb23-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-84"><a href="#cb23-84" aria-hidden="true" tabindex="-1"></a><span class="in">    // ARCTIC LINE &amp; DOTS</span></span>
<span id="cb23-85"><a href="#cb23-85" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.line(arcticData, {x: "year", y: "arctic", stroke: "#3498db", strokeWidth: 3,</span></span>
<span id="cb23-86"><a href="#cb23-86" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-87"><a href="#cb23-87" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.dot(arcticData, {</span></span>
<span id="cb23-88"><a href="#cb23-88" aria-hidden="true" tabindex="-1"></a><span class="in">      x: "year", </span></span>
<span id="cb23-89"><a href="#cb23-89" aria-hidden="true" tabindex="-1"></a><span class="in">      y: "arctic", </span></span>
<span id="cb23-90"><a href="#cb23-90" aria-hidden="true" tabindex="-1"></a><span class="in">      fill: "#3498db", </span></span>
<span id="cb23-91"><a href="#cb23-91" aria-hidden="true" tabindex="-1"></a><span class="in">      r: 6,</span></span>
<span id="cb23-92"><a href="#cb23-92" aria-hidden="true" tabindex="-1"></a><span class="in">      // 2. Enable Tooltip</span></span>
<span id="cb23-93"><a href="#cb23-93" aria-hidden="true" tabindex="-1"></a><span class="in">      tip: true,</span></span>
<span id="cb23-94"><a href="#cb23-94" aria-hidden="true" tabindex="-1"></a><span class="in">      // 3. Rename tooltip labels (so it doesn't say 'y: 4.1')</span></span>
<span id="cb23-95"><a href="#cb23-95" aria-hidden="true" tabindex="-1"></a><span class="in">      channels: {Temp: "arctic", Year: "year"}</span></span>
<span id="cb23-96"><a href="#cb23-96" aria-hidden="true" tabindex="-1"></a><span class="in">    }),</span></span>
<span id="cb23-97"><a href="#cb23-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-98"><a href="#cb23-98" aria-hidden="true" tabindex="-1"></a><span class="in">    // GLOBAL LINE &amp; DOTS</span></span>
<span id="cb23-99"><a href="#cb23-99" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.line(arcticData, {x: "year", y: "global", stroke: "#e74c3c", strokeWidth: 3,</span></span>
<span id="cb23-100"><a href="#cb23-100" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-101"><a href="#cb23-101" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.dot(arcticData, {</span></span>
<span id="cb23-102"><a href="#cb23-102" aria-hidden="true" tabindex="-1"></a><span class="in">      x: "year", </span></span>
<span id="cb23-103"><a href="#cb23-103" aria-hidden="true" tabindex="-1"></a><span class="in">      y: "global", </span></span>
<span id="cb23-104"><a href="#cb23-104" aria-hidden="true" tabindex="-1"></a><span class="in">      fill: "#e74c3c", </span></span>
<span id="cb23-105"><a href="#cb23-105" aria-hidden="true" tabindex="-1"></a><span class="in">      r: 6,</span></span>
<span id="cb23-106"><a href="#cb23-106" aria-hidden="true" tabindex="-1"></a><span class="in">      tip: true,</span></span>
<span id="cb23-107"><a href="#cb23-107" aria-hidden="true" tabindex="-1"></a><span class="in">      channels: {Temp: "global", Year: "year"}</span></span>
<span id="cb23-108"><a href="#cb23-108" aria-hidden="true" tabindex="-1"></a><span class="in">    }),</span></span>
<span id="cb23-109"><a href="#cb23-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-110"><a href="#cb23-110" aria-hidden="true" tabindex="-1"></a><span class="in">    // Text labels (Static)</span></span>
<span id="cb23-111"><a href="#cb23-111" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text([{x: 2010, y: 2.3}], {x: "x", y: "y", text: d =&gt; "Arctic", fill: "#3498db", fontSize: 14, fontWeight: "bold"}),</span></span>
<span id="cb23-112"><a href="#cb23-112" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text([{x: 2010, y: 0.5}], {x: "x", y: "y", text: d =&gt; "Global", fill: "#e74c3c", fontSize: 14, fontWeight: "bold"})</span></span>
<span id="cb23-113"><a href="#cb23-113" aria-hidden="true" tabindex="-1"></a><span class="in">  ]</span></span>
<span id="cb23-114"><a href="#cb23-114" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb23-115"><a href="#cb23-115" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-116"><a href="#cb23-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-117"><a href="#cb23-117" aria-hidden="true" tabindex="-1"></a>::: {.check-understanding}</span>
<span id="cb23-118"><a href="#cb23-118" aria-hidden="true" tabindex="-1"></a><span class="fu">### ü§î Initial Questions</span></span>
<span id="cb23-119"><a href="#cb23-119" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>How much faster is the Arctic warming compared to the global average?</span>
<span id="cb23-120"><a href="#cb23-120" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>What evidence from the graph suggests the Arctic is changing more rapidly?</span>
<span id="cb23-121"><a href="#cb23-121" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>What changes in the Arctic might amplify or reduce this warming trend?</span>
<span id="cb23-122"><a href="#cb23-122" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-123"><a href="#cb23-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-124"><a href="#cb23-124" aria-hidden="true" tabindex="-1"></a><span class="in">``` {python}</span></span>
<span id="cb23-125"><a href="#cb23-125" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-co2-temp-800ka</span></span>
<span id="cb23-126"><a href="#cb23-126" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-cap: "Atmospheric CO‚ÇÇ concentration and Antarctic temperature over the past 800,000 years, showing strong correlation during glacial-interglacial cycles and unprecedented current CO‚ÇÇ levels."</span></span>
<span id="cb23-127"><a href="#cb23-127" aria-hidden="true" tabindex="-1"></a><span class="in">#| echo: false</span></span>
<span id="cb23-128"><a href="#cb23-128" aria-hidden="true" tabindex="-1"></a><span class="in">#| warning: false</span></span>
<span id="cb23-129"><a href="#cb23-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-130"><a href="#cb23-130" aria-hidden="true" tabindex="-1"></a><span class="in">import plotly.graph_objects as go</span></span>
<span id="cb23-131"><a href="#cb23-131" aria-hidden="true" tabindex="-1"></a><span class="in">from plotly.subplots import make_subplots</span></span>
<span id="cb23-132"><a href="#cb23-132" aria-hidden="true" tabindex="-1"></a><span class="in">import pandas as pd</span></span>
<span id="cb23-133"><a href="#cb23-133" aria-hidden="true" tabindex="-1"></a><span class="in">import numpy as np</span></span>
<span id="cb23-134"><a href="#cb23-134" aria-hidden="true" tabindex="-1"></a><span class="in">from scipy.interpolate import interp1d</span></span>
<span id="cb23-135"><a href="#cb23-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-136"><a href="#cb23-136" aria-hidden="true" tabindex="-1"></a><span class="in"># Climate data over 800,000 years</span></span>
<span id="cb23-137"><a href="#cb23-137" aria-hidden="true" tabindex="-1"></a><span class="in">time_ka = np.array([</span></span>
<span id="cb23-138"><a href="#cb23-138" aria-hidden="true" tabindex="-1"></a><span class="in">    800, 750, 700, 650, 600, 550, 500, 450, 400, 350, </span></span>
<span id="cb23-139"><a href="#cb23-139" aria-hidden="true" tabindex="-1"></a><span class="in">    300, 250, 200, 150, 100, 50, 0</span></span>
<span id="cb23-140"><a href="#cb23-140" aria-hidden="true" tabindex="-1"></a><span class="in">])</span></span>
<span id="cb23-141"><a href="#cb23-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-142"><a href="#cb23-142" aria-hidden="true" tabindex="-1"></a><span class="in"># CO‚ÇÇ concentrations (ppm) showing glacial-interglacial cycles</span></span>
<span id="cb23-143"><a href="#cb23-143" aria-hidden="true" tabindex="-1"></a><span class="in">co2_ppm = np.array([</span></span>
<span id="cb23-144"><a href="#cb23-144" aria-hidden="true" tabindex="-1"></a><span class="in">    190, 220, 190, 240, 190, 270, 210, 280, 200, 260, </span></span>
<span id="cb23-145"><a href="#cb23-145" aria-hidden="true" tabindex="-1"></a><span class="in">    190, 280, 200, 240, 200, 280, 420</span></span>
<span id="cb23-146"><a href="#cb23-146" aria-hidden="true" tabindex="-1"></a><span class="in">])</span></span>
<span id="cb23-147"><a href="#cb23-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-148"><a href="#cb23-148" aria-hidden="true" tabindex="-1"></a><span class="in"># Antarctic temperature anomaly (¬∞C)</span></span>
<span id="cb23-149"><a href="#cb23-149" aria-hidden="true" tabindex="-1"></a><span class="in">temp_anomaly = np.array([</span></span>
<span id="cb23-150"><a href="#cb23-150" aria-hidden="true" tabindex="-1"></a><span class="in">    -8, -4, -9, -2, -8, 2, -7, 4, -8, 0, </span></span>
<span id="cb23-151"><a href="#cb23-151" aria-hidden="true" tabindex="-1"></a><span class="in">    -9, 2, -8, -2, -6, 0, 0</span></span>
<span id="cb23-152"><a href="#cb23-152" aria-hidden="true" tabindex="-1"></a><span class="in">])</span></span>
<span id="cb23-153"><a href="#cb23-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-154"><a href="#cb23-154" aria-hidden="true" tabindex="-1"></a><span class="in"># Create smoother curves</span></span>
<span id="cb23-155"><a href="#cb23-155" aria-hidden="true" tabindex="-1"></a><span class="in">time_dense = np.linspace(800, 0, 200)</span></span>
<span id="cb23-156"><a href="#cb23-156" aria-hidden="true" tabindex="-1"></a><span class="in">co2_interp = interp1d(time_ka, co2_ppm, kind="cubic")</span></span>
<span id="cb23-157"><a href="#cb23-157" aria-hidden="true" tabindex="-1"></a><span class="in">temp_interp = interp1d(time_ka, temp_anomaly, kind="cubic")</span></span>
<span id="cb23-158"><a href="#cb23-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-159"><a href="#cb23-159" aria-hidden="true" tabindex="-1"></a><span class="in">co2_dense = co2_interp(time_dense)</span></span>
<span id="cb23-160"><a href="#cb23-160" aria-hidden="true" tabindex="-1"></a><span class="in">temp_dense = temp_interp(time_dense)</span></span>
<span id="cb23-161"><a href="#cb23-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-162"><a href="#cb23-162" aria-hidden="true" tabindex="-1"></a><span class="in"># Add natural variability</span></span>
<span id="cb23-163"><a href="#cb23-163" aria-hidden="true" tabindex="-1"></a><span class="in">np.random.seed(42)</span></span>
<span id="cb23-164"><a href="#cb23-164" aria-hidden="true" tabindex="-1"></a><span class="in">co2_dense += np.random.normal(0, 5, len(co2_dense))</span></span>
<span id="cb23-165"><a href="#cb23-165" aria-hidden="true" tabindex="-1"></a><span class="in">temp_dense += np.random.normal(0, 0.5, len(temp_dense))</span></span>
<span id="cb23-166"><a href="#cb23-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-167"><a href="#cb23-167" aria-hidden="true" tabindex="-1"></a><span class="in"># Mark current CO‚ÇÇ</span></span>
<span id="cb23-168"><a href="#cb23-168" aria-hidden="true" tabindex="-1"></a><span class="in">co2_dense[-1] = 420</span></span>
<span id="cb23-169"><a href="#cb23-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-170"><a href="#cb23-170" aria-hidden="true" tabindex="-1"></a><span class="in">df = pd.DataFrame({</span></span>
<span id="cb23-171"><a href="#cb23-171" aria-hidden="true" tabindex="-1"></a><span class="in">    "Time_ka": time_dense,</span></span>
<span id="cb23-172"><a href="#cb23-172" aria-hidden="true" tabindex="-1"></a><span class="in">    "CO2": co2_dense,</span></span>
<span id="cb23-173"><a href="#cb23-173" aria-hidden="true" tabindex="-1"></a><span class="in">    "Temperature": temp_dense</span></span>
<span id="cb23-174"><a href="#cb23-174" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb23-175"><a href="#cb23-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-176"><a href="#cb23-176" aria-hidden="true" tabindex="-1"></a><span class="in"># Create dual-axis figure</span></span>
<span id="cb23-177"><a href="#cb23-177" aria-hidden="true" tabindex="-1"></a><span class="in">fig = make_subplots(specs=[[{"secondary_y": True}]])</span></span>
<span id="cb23-178"><a href="#cb23-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-179"><a href="#cb23-179" aria-hidden="true" tabindex="-1"></a><span class="in"># CO‚ÇÇ data (BLUE)</span></span>
<span id="cb23-180"><a href="#cb23-180" aria-hidden="true" tabindex="-1"></a><span class="in">fig.add_trace(</span></span>
<span id="cb23-181"><a href="#cb23-181" aria-hidden="true" tabindex="-1"></a><span class="in">    go.Scatter(</span></span>
<span id="cb23-182"><a href="#cb23-182" aria-hidden="true" tabindex="-1"></a><span class="in">        x=df["Time_ka"], y=df["CO2"],</span></span>
<span id="cb23-183"><a href="#cb23-183" aria-hidden="true" tabindex="-1"></a><span class="in">        mode="lines", name="Atmospheric CO‚ÇÇ",</span></span>
<span id="cb23-184"><a href="#cb23-184" aria-hidden="true" tabindex="-1"></a><span class="in">        line=dict(color="rgb(40, 120, 200)", width=2),</span></span>
<span id="cb23-185"><a href="#cb23-185" aria-hidden="true" tabindex="-1"></a><span class="in">        hovertemplate="&lt;b&gt;CO‚ÇÇ&lt;/b&gt;&lt;br&gt;%{x:.0f}k years ago&lt;br&gt;%{y:.0f} ppm&lt;extra&gt;&lt;/extra&gt;"</span></span>
<span id="cb23-186"><a href="#cb23-186" aria-hidden="true" tabindex="-1"></a><span class="in">    ),</span></span>
<span id="cb23-187"><a href="#cb23-187" aria-hidden="true" tabindex="-1"></a><span class="in">    secondary_y=False</span></span>
<span id="cb23-188"><a href="#cb23-188" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb23-189"><a href="#cb23-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-190"><a href="#cb23-190" aria-hidden="true" tabindex="-1"></a><span class="in"># Temperature data (ORANGE)</span></span>
<span id="cb23-191"><a href="#cb23-191" aria-hidden="true" tabindex="-1"></a><span class="in">fig.add_trace(</span></span>
<span id="cb23-192"><a href="#cb23-192" aria-hidden="true" tabindex="-1"></a><span class="in">    go.Scatter(</span></span>
<span id="cb23-193"><a href="#cb23-193" aria-hidden="true" tabindex="-1"></a><span class="in">        x=df["Time_ka"], y=df["Temperature"],</span></span>
<span id="cb23-194"><a href="#cb23-194" aria-hidden="true" tabindex="-1"></a><span class="in">        mode="lines", name="Antarctic Temperature",</span></span>
<span id="cb23-195"><a href="#cb23-195" aria-hidden="true" tabindex="-1"></a><span class="in">        line=dict(color="rgb(230, 140, 50)", width=2),</span></span>
<span id="cb23-196"><a href="#cb23-196" aria-hidden="true" tabindex="-1"></a><span class="in">        hovertemplate="&lt;b&gt;Temperature&lt;/b&gt;&lt;br&gt;%{x:.0f}k years ago&lt;br&gt;%{y:.1f}¬∞C&lt;extra&gt;&lt;/extra&gt;"</span></span>
<span id="cb23-197"><a href="#cb23-197" aria-hidden="true" tabindex="-1"></a><span class="in">    ),</span></span>
<span id="cb23-198"><a href="#cb23-198" aria-hidden="true" tabindex="-1"></a><span class="in">    secondary_y=True</span></span>
<span id="cb23-199"><a href="#cb23-199" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb23-200"><a href="#cb23-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-201"><a href="#cb23-201" aria-hidden="true" tabindex="-1"></a><span class="in"># Current CO‚ÇÇ marker</span></span>
<span id="cb23-202"><a href="#cb23-202" aria-hidden="true" tabindex="-1"></a><span class="in">fig.add_trace(</span></span>
<span id="cb23-203"><a href="#cb23-203" aria-hidden="true" tabindex="-1"></a><span class="in">    go.Scatter(</span></span>
<span id="cb23-204"><a href="#cb23-204" aria-hidden="true" tabindex="-1"></a><span class="in">        x=[0], y=[420],</span></span>
<span id="cb23-205"><a href="#cb23-205" aria-hidden="true" tabindex="-1"></a><span class="in">        mode="markers+text",</span></span>
<span id="cb23-206"><a href="#cb23-206" aria-hidden="true" tabindex="-1"></a><span class="in">        marker=dict(size=12, color="red"),</span></span>
<span id="cb23-207"><a href="#cb23-207" aria-hidden="true" tabindex="-1"></a><span class="in">        text=["Current&lt;br&gt;420 ppm"],</span></span>
<span id="cb23-208"><a href="#cb23-208" aria-hidden="true" tabindex="-1"></a><span class="in">        textposition="top center",</span></span>
<span id="cb23-209"><a href="#cb23-209" aria-hidden="true" tabindex="-1"></a><span class="in">        textfont=dict(size=11, color="red"),</span></span>
<span id="cb23-210"><a href="#cb23-210" aria-hidden="true" tabindex="-1"></a><span class="in">        hovertemplate="&lt;b&gt;Current (2026)&lt;/b&gt;&lt;br&gt;420 ppm&lt;extra&gt;&lt;/extra&gt;",</span></span>
<span id="cb23-211"><a href="#cb23-211" aria-hidden="true" tabindex="-1"></a><span class="in">        showlegend=False</span></span>
<span id="cb23-212"><a href="#cb23-212" aria-hidden="true" tabindex="-1"></a><span class="in">    ),</span></span>
<span id="cb23-213"><a href="#cb23-213" aria-hidden="true" tabindex="-1"></a><span class="in">    secondary_y=False</span></span>
<span id="cb23-214"><a href="#cb23-214" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb23-215"><a href="#cb23-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-216"><a href="#cb23-216" aria-hidden="true" tabindex="-1"></a><span class="in"># Layout</span></span>
<span id="cb23-217"><a href="#cb23-217" aria-hidden="true" tabindex="-1"></a><span class="in">fig.update_layout(</span></span>
<span id="cb23-218"><a href="#cb23-218" aria-hidden="true" tabindex="-1"></a><span class="in">    title="CO‚ÇÇ and Antarctic Temperature over 800,000 Years",</span></span>
<span id="cb23-219"><a href="#cb23-219" aria-hidden="true" tabindex="-1"></a><span class="in">    xaxis=dict(title="Years ago (in thousands)", </span></span>
<span id="cb23-220"><a href="#cb23-220" aria-hidden="true" tabindex="-1"></a><span class="in">               autorange="reversed", gridcolor="lightgray"),</span></span>
<span id="cb23-221"><a href="#cb23-221" aria-hidden="true" tabindex="-1"></a><span class="in">    hovermode="x unified",</span></span>
<span id="cb23-222"><a href="#cb23-222" aria-hidden="true" tabindex="-1"></a><span class="in">    plot_bgcolor="white",</span></span>
<span id="cb23-223"><a href="#cb23-223" aria-hidden="true" tabindex="-1"></a><span class="in">    legend=dict(x=0.02, y=0.98, bgcolor="rgba(255, 255, 255, 0.9)",</span></span>
<span id="cb23-224"><a href="#cb23-224" aria-hidden="true" tabindex="-1"></a><span class="in">                bordercolor="gray", borderwidth=1),</span></span>
<span id="cb23-225"><a href="#cb23-225" aria-hidden="true" tabindex="-1"></a><span class="in">    height=600</span></span>
<span id="cb23-226"><a href="#cb23-226" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb23-227"><a href="#cb23-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-228"><a href="#cb23-228" aria-hidden="true" tabindex="-1"></a><span class="in">fig.update_yaxes(</span></span>
<span id="cb23-229"><a href="#cb23-229" aria-hidden="true" tabindex="-1"></a><span class="in">    title_text="Atmospheric CO‚ÇÇ (ppm)",</span></span>
<span id="cb23-230"><a href="#cb23-230" aria-hidden="true" tabindex="-1"></a><span class="in">    secondary_y=False, gridcolor="lightgray", range=[150, 450]</span></span>
<span id="cb23-231"><a href="#cb23-231" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb23-232"><a href="#cb23-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-233"><a href="#cb23-233" aria-hidden="true" tabindex="-1"></a><span class="in">fig.update_yaxes(</span></span>
<span id="cb23-234"><a href="#cb23-234" aria-hidden="true" tabindex="-1"></a><span class="in">    title_text="Temperature Anomaly (¬∞C)",</span></span>
<span id="cb23-235"><a href="#cb23-235" aria-hidden="true" tabindex="-1"></a><span class="in">    secondary_y=True, showgrid=False, range=[-12, 8]</span></span>
<span id="cb23-236"><a href="#cb23-236" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb23-237"><a href="#cb23-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-238"><a href="#cb23-238" aria-hidden="true" tabindex="-1"></a><span class="in">fig</span></span>
<span id="cb23-239"><a href="#cb23-239" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-240"><a href="#cb23-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-241"><a href="#cb23-241" aria-hidden="true" tabindex="-1"></a><span class="fu"># Explore Part 1: The Greenhouse Effect</span></span>
<span id="cb23-242"><a href="#cb23-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-243"><a href="#cb23-243" aria-hidden="true" tabindex="-1"></a>How do carbon dioxide levels in the air both impact and change as a result of Earth‚Äôs systems? Use the simulation to gather evidence about the causal mechanism behind the correlation between atmospheric CO‚ÇÇ levels and climate factors like temperature.</span>
<span id="cb23-244"><a href="#cb23-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-245"><a href="#cb23-245" aria-hidden="true" tabindex="-1"></a><span class="fu">### Carbon Cycle Model: Pre vs. Post Industrial</span></span>
<span id="cb23-246"><a href="#cb23-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-247"><a href="#cb23-247" aria-hidden="true" tabindex="-1"></a>Use the sliders below to simulate the flow of carbon. </span>
<span id="cb23-248"><a href="#cb23-248" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Keep **Fossil Fuel Burning** at **0** to see the Pre-Industrial equilibrium.</span>
<span id="cb23-249"><a href="#cb23-249" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Increase the burning rate to see how the **Atmosphere** reservoir changes over time.</span>
<span id="cb23-250"><a href="#cb23-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-253"><a href="#cb23-253" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-254"><a href="#cb23-254" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-255"><a href="#cb23-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-256"><a href="#cb23-256" aria-hidden="true" tabindex="-1"></a><span class="in">// --- 1. INTERACTIVE INPUTS ---</span></span>
<span id="cb23-257"><a href="#cb23-257" aria-hidden="true" tabindex="-1"></a><span class="in">viewof years = Inputs.range([0, 100], {label: "Years Elapsed", step: 1, value: 0});</span></span>
<span id="cb23-258"><a href="#cb23-258" aria-hidden="true" tabindex="-1"></a><span class="in">viewof human_emissions = Inputs.range([0, 15], {label: "Fossil Fuel Burning (Gt/year)", step: 0.5, value: 0});</span></span>
<span id="cb23-259"><a href="#cb23-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-260"><a href="#cb23-260" aria-hidden="true" tabindex="-1"></a><span class="in">// --- 2. THE MATH MODEL ---</span></span>
<span id="cb23-261"><a href="#cb23-261" aria-hidden="true" tabindex="-1"></a><span class="in">// Initial Stocks (Table 1)</span></span>
<span id="cb23-262"><a href="#cb23-262" aria-hidden="true" tabindex="-1"></a><span class="in">init_atmos = 560;</span></span>
<span id="cb23-263"><a href="#cb23-263" aria-hidden="true" tabindex="-1"></a><span class="in">init_ocean = 38000;</span></span>
<span id="cb23-264"><a href="#cb23-264" aria-hidden="true" tabindex="-1"></a><span class="in">init_bio = 2160;</span></span>
<span id="cb23-265"><a href="#cb23-265" aria-hidden="true" tabindex="-1"></a><span class="in">init_fossil = 10000;</span></span>
<span id="cb23-266"><a href="#cb23-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-267"><a href="#cb23-267" aria-hidden="true" tabindex="-1"></a><span class="in">// Flows (Table 2) - Constant Linear Rates</span></span>
<span id="cb23-268"><a href="#cb23-268" aria-hidden="true" tabindex="-1"></a><span class="in">// Note: In reality, flows change with concentration, but for this high school model we use the fixed rates provided.</span></span>
<span id="cb23-269"><a href="#cb23-269" aria-hidden="true" tabindex="-1"></a><span class="in">flow_ocean_to_atmos = 62;</span></span>
<span id="cb23-270"><a href="#cb23-270" aria-hidden="true" tabindex="-1"></a><span class="in">flow_atmos_to_ocean = 60;</span></span>
<span id="cb23-271"><a href="#cb23-271" aria-hidden="true" tabindex="-1"></a><span class="in">flow_bio_to_atmos = 107;</span></span>
<span id="cb23-272"><a href="#cb23-272" aria-hidden="true" tabindex="-1"></a><span class="in">flow_atmos_to_bio = 109;</span></span>
<span id="cb23-273"><a href="#cb23-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-274"><a href="#cb23-274" aria-hidden="true" tabindex="-1"></a><span class="in">// Calculate Current State</span></span>
<span id="cb23-275"><a href="#cb23-275" aria-hidden="true" tabindex="-1"></a><span class="in">current_fossil = init_fossil - (human_emissions * years);</span></span>
<span id="cb23-276"><a href="#cb23-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-277"><a href="#cb23-277" aria-hidden="true" tabindex="-1"></a><span class="in">// Net Flux to Atmosphere = (In from Ocean + In from Bio + Human) - (Out to Ocean + Out to Bio)</span></span>
<span id="cb23-278"><a href="#cb23-278" aria-hidden="true" tabindex="-1"></a><span class="in">yearly_atmos_change = (flow_ocean_to_atmos + flow_bio_to_atmos + human_emissions) - (flow_atmos_to_ocean + flow_atmos_to_bio);</span></span>
<span id="cb23-279"><a href="#cb23-279" aria-hidden="true" tabindex="-1"></a><span class="in">current_atmos = init_atmos + (yearly_atmos_change * years);</span></span>
<span id="cb23-280"><a href="#cb23-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-281"><a href="#cb23-281" aria-hidden="true" tabindex="-1"></a><span class="in">// Net Flux to Ocean (In - Out)</span></span>
<span id="cb23-282"><a href="#cb23-282" aria-hidden="true" tabindex="-1"></a><span class="in">current_ocean = init_ocean + ((flow_atmos_to_ocean - flow_ocean_to_atmos) * years);</span></span>
<span id="cb23-283"><a href="#cb23-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-284"><a href="#cb23-284" aria-hidden="true" tabindex="-1"></a><span class="in">// Net Flux to Bio (In - Out)</span></span>
<span id="cb23-285"><a href="#cb23-285" aria-hidden="true" tabindex="-1"></a><span class="in">current_bio = init_bio + ((flow_atmos_to_bio - flow_bio_to_atmos) * years);</span></span>
<span id="cb23-286"><a href="#cb23-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-287"><a href="#cb23-287" aria-hidden="true" tabindex="-1"></a><span class="in">// --- 3. THE VISUALIZATION (SVG) ---</span></span>
<span id="cb23-288"><a href="#cb23-288" aria-hidden="true" tabindex="-1"></a><span class="in">htl.html`&lt;svg width="600" height="450" viewBox="0 0 600 450" style="font-family: sans-serif;"&gt;</span></span>
<span id="cb23-289"><a href="#cb23-289" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-290"><a href="#cb23-290" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;defs&gt;</span></span>
<span id="cb23-291"><a href="#cb23-291" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto"&gt;</span></span>
<span id="cb23-292"><a href="#cb23-292" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;polygon points="0 0, 10 3.5, 0 7" fill="#666" /&gt;</span></span>
<span id="cb23-293"><a href="#cb23-293" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/marker&gt;</span></span>
<span id="cb23-294"><a href="#cb23-294" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/defs&gt;</span></span>
<span id="cb23-295"><a href="#cb23-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-296"><a href="#cb23-296" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;text x="300" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#333"&gt;</span></span>
<span id="cb23-297"><a href="#cb23-297" aria-hidden="true" tabindex="-1"></a><span class="in">    ${human_emissions == 0 ? "Pre-Industrial Equilibrium" : "Post-Industrial Disruption"}</span></span>
<span id="cb23-298"><a href="#cb23-298" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/text&gt;</span></span>
<span id="cb23-299"><a href="#cb23-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-300"><a href="#cb23-300" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;g transform="translate(200, 50)"&gt;</span></span>
<span id="cb23-301"><a href="#cb23-301" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;rect x="0" y="0" width="200" height="80" rx="10" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/&gt;</span></span>
<span id="cb23-302"><a href="#cb23-302" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;text x="100" y="30" text-anchor="middle" font-weight="bold"&gt;ATMOSPHERE&lt;/text&gt;</span></span>
<span id="cb23-303"><a href="#cb23-303" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;text x="100" y="55" text-anchor="middle" font-size="20" fill="#D32F2F" font-weight="bold"&gt;</span></span>
<span id="cb23-304"><a href="#cb23-304" aria-hidden="true" tabindex="-1"></a><span class="in">      ${current_atmos.toFixed(0)} Gt</span></span>
<span id="cb23-305"><a href="#cb23-305" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/text&gt;</span></span>
<span id="cb23-306"><a href="#cb23-306" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/g&gt;</span></span>
<span id="cb23-307"><a href="#cb23-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-308"><a href="#cb23-308" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;g transform="translate(380, 250)"&gt;</span></span>
<span id="cb23-309"><a href="#cb23-309" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;rect x="0" y="0" width="180" height="80" rx="10" fill="#E0F7FA" stroke="#00BCD4" stroke-width="2"/&gt;</span></span>
<span id="cb23-310"><a href="#cb23-310" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;text x="90" y="30" text-anchor="middle" font-weight="bold"&gt;OCEAN&lt;/text&gt;</span></span>
<span id="cb23-311"><a href="#cb23-311" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;text x="90" y="55" text-anchor="middle" font-size="16"&gt;</span></span>
<span id="cb23-312"><a href="#cb23-312" aria-hidden="true" tabindex="-1"></a><span class="in">      ${current_ocean.toFixed(0)} Gt</span></span>
<span id="cb23-313"><a href="#cb23-313" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/text&gt;</span></span>
<span id="cb23-314"><a href="#cb23-314" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/g&gt;</span></span>
<span id="cb23-315"><a href="#cb23-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-316"><a href="#cb23-316" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;g transform="translate(40, 250)"&gt;</span></span>
<span id="cb23-317"><a href="#cb23-317" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;rect x="0" y="0" width="180" height="80" rx="10" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/&gt;</span></span>
<span id="cb23-318"><a href="#cb23-318" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;text x="90" y="30" text-anchor="middle" font-weight="bold"&gt;BIOSPHERE&lt;/text&gt;</span></span>
<span id="cb23-319"><a href="#cb23-319" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;text x="90" y="55" text-anchor="middle" font-size="16"&gt;</span></span>
<span id="cb23-320"><a href="#cb23-320" aria-hidden="true" tabindex="-1"></a><span class="in">      ${current_bio.toFixed(0)} Gt</span></span>
<span id="cb23-321"><a href="#cb23-321" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/text&gt;</span></span>
<span id="cb23-322"><a href="#cb23-322" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/g&gt;</span></span>
<span id="cb23-323"><a href="#cb23-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-324"><a href="#cb23-324" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;g transform="translate(200, 370)"&gt;</span></span>
<span id="cb23-325"><a href="#cb23-325" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;rect x="0" y="0" width="200" height="60" rx="10" fill="#424242" stroke="#000" stroke-width="2"/&gt;</span></span>
<span id="cb23-326"><a href="#cb23-326" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;text x="100" y="25" text-anchor="middle" fill="white" font-weight="bold"&gt;FOSSIL FUELS&lt;/text&gt;</span></span>
<span id="cb23-327"><a href="#cb23-327" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;text x="100" y="45" text-anchor="middle" fill="white" font-size="14"&gt;</span></span>
<span id="cb23-328"><a href="#cb23-328" aria-hidden="true" tabindex="-1"></a><span class="in">      ${current_fossil.toFixed(1)} Gt</span></span>
<span id="cb23-329"><a href="#cb23-329" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/text&gt;</span></span>
<span id="cb23-330"><a href="#cb23-330" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/g&gt;</span></span>
<span id="cb23-331"><a href="#cb23-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-332"><a href="#cb23-332" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;line x1="140" y1="250" x2="220" y2="130" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/&gt;</span></span>
<span id="cb23-333"><a href="#cb23-333" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;text x="150" y="190" font-size="10" fill="#666"&gt;107&lt;/text&gt;</span></span>
<span id="cb23-334"><a href="#cb23-334" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-335"><a href="#cb23-335" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;line x1="240" y1="130" x2="160" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/&gt;</span></span>
<span id="cb23-336"><a href="#cb23-336" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;text x="210" y="200" font-size="10" fill="#666"&gt;109&lt;/text&gt;</span></span>
<span id="cb23-337"><a href="#cb23-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-338"><a href="#cb23-338" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;line x1="440" y1="250" x2="360" y2="130" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/&gt;</span></span>
<span id="cb23-339"><a href="#cb23-339" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;text x="410" y="200" font-size="10" fill="#666"&gt;62&lt;/text&gt;</span></span>
<span id="cb23-340"><a href="#cb23-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-341"><a href="#cb23-341" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;line x1="380" y1="130" x2="460" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/&gt;</span></span>
<span id="cb23-342"><a href="#cb23-342" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;text x="430" y="190" font-size="10" fill="#666"&gt;60&lt;/text&gt;</span></span>
<span id="cb23-343"><a href="#cb23-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-344"><a href="#cb23-344" aria-hidden="true" tabindex="-1"></a><span class="in">  ${human_emissions &gt; 0 ? htl.html`</span></span>
<span id="cb23-345"><a href="#cb23-345" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;line x1="300" y1="370" x2="300" y2="140" stroke="#D32F2F" stroke-width="4" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/&gt;</span></span>
<span id="cb23-346"><a href="#cb23-346" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;text x="310" y="300" font-size="12" fill="#D32F2F" font-weight="bold"&gt;+ ${human_emissions} Gt/yr&lt;/text&gt;</span></span>
<span id="cb23-347"><a href="#cb23-347" aria-hidden="true" tabindex="-1"></a><span class="in">  ` : ""}</span></span>
<span id="cb23-348"><a href="#cb23-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-349"><a href="#cb23-349" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/svg&gt;`</span></span>
<span id="cb23-350"><a href="#cb23-350" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-351"><a href="#cb23-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-352"><a href="#cb23-352" aria-hidden="true" tabindex="-1"></a><span class="fu">## Modeling the Effect of the Carbon Cycle on Temperature</span></span>
<span id="cb23-353"><a href="#cb23-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-354"><a href="#cb23-354" aria-hidden="true" tabindex="-1"></a>Explore how greenhouse gases trap heat in Earth's atmosphere:</span>
<span id="cb23-355"><a href="#cb23-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-356"><a href="#cb23-356" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb23-357"><a href="#cb23-357" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb23-358"><a href="#cb23-358" aria-hidden="true" tabindex="-1"></a><span class="in">  .phet-launch {</span></span>
<span id="cb23-359"><a href="#cb23-359" aria-hidden="true" tabindex="-1"></a><span class="in">    max-width: 920px;</span></span>
<span id="cb23-360"><a href="#cb23-360" aria-hidden="true" tabindex="-1"></a><span class="in">    margin: 20px auto;</span></span>
<span id="cb23-361"><a href="#cb23-361" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-362"><a href="#cb23-362" aria-hidden="true" tabindex="-1"></a><span class="in">  .phet-card {</span></span>
<span id="cb23-363"><a href="#cb23-363" aria-hidden="true" tabindex="-1"></a><span class="in">    display: block;</span></span>
<span id="cb23-364"><a href="#cb23-364" aria-hidden="true" tabindex="-1"></a><span class="in">    border-radius: 14px;</span></span>
<span id="cb23-365"><a href="#cb23-365" aria-hidden="true" tabindex="-1"></a><span class="in">    border: 1px solid rgba(0,0,0,.12);</span></span>
<span id="cb23-366"><a href="#cb23-366" aria-hidden="true" tabindex="-1"></a><span class="in">    background: #fff;</span></span>
<span id="cb23-367"><a href="#cb23-367" aria-hidden="true" tabindex="-1"></a><span class="in">    overflow: hidden;</span></span>
<span id="cb23-368"><a href="#cb23-368" aria-hidden="true" tabindex="-1"></a><span class="in">    text-decoration: none;</span></span>
<span id="cb23-369"><a href="#cb23-369" aria-hidden="true" tabindex="-1"></a><span class="in">    box-shadow: 0 10px 30px rgba(0,0,0,.10);</span></span>
<span id="cb23-370"><a href="#cb23-370" aria-hidden="true" tabindex="-1"></a><span class="in">    transition: transform .15s ease, box-shadow .15s ease;</span></span>
<span id="cb23-371"><a href="#cb23-371" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-372"><a href="#cb23-372" aria-hidden="true" tabindex="-1"></a><span class="in">  .phet-card:hover {</span></span>
<span id="cb23-373"><a href="#cb23-373" aria-hidden="true" tabindex="-1"></a><span class="in">    transform: translateY(-2px);</span></span>
<span id="cb23-374"><a href="#cb23-374" aria-hidden="true" tabindex="-1"></a><span class="in">    box-shadow: 0 16px 44px rgba(0,0,0,.14);</span></span>
<span id="cb23-375"><a href="#cb23-375" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-376"><a href="#cb23-376" aria-hidden="true" tabindex="-1"></a><span class="in">  .phet-card svg {</span></span>
<span id="cb23-377"><a href="#cb23-377" aria-hidden="true" tabindex="-1"></a><span class="in">    width: 100%;</span></span>
<span id="cb23-378"><a href="#cb23-378" aria-hidden="true" tabindex="-1"></a><span class="in">    height: auto;</span></span>
<span id="cb23-379"><a href="#cb23-379" aria-hidden="true" tabindex="-1"></a><span class="in">    display: block;</span></span>
<span id="cb23-380"><a href="#cb23-380" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-381"><a href="#cb23-381" aria-hidden="true" tabindex="-1"></a><span class="in">  .phet-actions {</span></span>
<span id="cb23-382"><a href="#cb23-382" aria-hidden="true" tabindex="-1"></a><span class="in">    display: flex;</span></span>
<span id="cb23-383"><a href="#cb23-383" aria-hidden="true" tabindex="-1"></a><span class="in">    gap: 10px;</span></span>
<span id="cb23-384"><a href="#cb23-384" aria-hidden="true" tabindex="-1"></a><span class="in">    align-items: center;</span></span>
<span id="cb23-385"><a href="#cb23-385" aria-hidden="true" tabindex="-1"></a><span class="in">    justify-content: center;</span></span>
<span id="cb23-386"><a href="#cb23-386" aria-hidden="true" tabindex="-1"></a><span class="in">    margin-top: 12px;</span></span>
<span id="cb23-387"><a href="#cb23-387" aria-hidden="true" tabindex="-1"></a><span class="in">    flex-wrap: wrap;</span></span>
<span id="cb23-388"><a href="#cb23-388" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-389"><a href="#cb23-389" aria-hidden="true" tabindex="-1"></a><span class="in">  .phet-btn {</span></span>
<span id="cb23-390"><a href="#cb23-390" aria-hidden="true" tabindex="-1"></a><span class="in">    display: inline-block;</span></span>
<span id="cb23-391"><a href="#cb23-391" aria-hidden="true" tabindex="-1"></a><span class="in">    background: #2563eb;</span></span>
<span id="cb23-392"><a href="#cb23-392" aria-hidden="true" tabindex="-1"></a><span class="in">    color: #fff;</span></span>
<span id="cb23-393"><a href="#cb23-393" aria-hidden="true" tabindex="-1"></a><span class="in">    padding: 10px 14px;</span></span>
<span id="cb23-394"><a href="#cb23-394" aria-hidden="true" tabindex="-1"></a><span class="in">    border-radius: 999px;</span></span>
<span id="cb23-395"><a href="#cb23-395" aria-hidden="true" tabindex="-1"></a><span class="in">    font-weight: 700;</span></span>
<span id="cb23-396"><a href="#cb23-396" aria-hidden="true" tabindex="-1"></a><span class="in">    text-decoration: none;</span></span>
<span id="cb23-397"><a href="#cb23-397" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-398"><a href="#cb23-398" aria-hidden="true" tabindex="-1"></a><span class="in">  .phet-btn:hover { filter: brightness(0.95); }</span></span>
<span id="cb23-399"><a href="#cb23-399" aria-hidden="true" tabindex="-1"></a><span class="in">  .phet-note {</span></span>
<span id="cb23-400"><a href="#cb23-400" aria-hidden="true" tabindex="-1"></a><span class="in">    margin-top: 10px;</span></span>
<span id="cb23-401"><a href="#cb23-401" aria-hidden="true" tabindex="-1"></a><span class="in">    font-size: 12px;</span></span>
<span id="cb23-402"><a href="#cb23-402" aria-hidden="true" tabindex="-1"></a><span class="in">    color: #666;</span></span>
<span id="cb23-403"><a href="#cb23-403" aria-hidden="true" tabindex="-1"></a><span class="in">    line-height: 1.4;</span></span>
<span id="cb23-404"><a href="#cb23-404" aria-hidden="true" tabindex="-1"></a><span class="in">    text-align: center;</span></span>
<span id="cb23-405"><a href="#cb23-405" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-406"><a href="#cb23-406" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb23-407"><a href="#cb23-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-408"><a href="#cb23-408" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;div class="phet-launch"&gt;</span></span>
<span id="cb23-409"><a href="#cb23-409" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;a class="phet-card" href="https://phet.colorado.edu/sims/html/greenhouse-effect/latest/greenhouse-effect_en.html" target="_blank" rel="noopener"&gt;</span></span>
<span id="cb23-410"><a href="#cb23-410" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;svg viewBox="0 0 1200 675" role="img" aria-label="Launch PhET Greenhouse Effect simulation"&gt;</span></span>
<span id="cb23-411"><a href="#cb23-411" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;defs&gt;</span></span>
<span id="cb23-412"><a href="#cb23-412" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;linearGradient id="bg" x1="0" x2="1" y1="0" y2="1"&gt;</span></span>
<span id="cb23-413"><a href="#cb23-413" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;stop offset="0" stop-color="#0ea5e9"/&gt;</span></span>
<span id="cb23-414"><a href="#cb23-414" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;stop offset="1" stop-color="#7c3aed"/&gt;</span></span>
<span id="cb23-415"><a href="#cb23-415" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/linearGradient&gt;</span></span>
<span id="cb23-416"><a href="#cb23-416" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;linearGradient id="glow" x1="0" x2="0" y1="0" y2="1"&gt;</span></span>
<span id="cb23-417"><a href="#cb23-417" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;stop offset="0" stop-color="#ffffff" stop-opacity=".95"/&gt;</span></span>
<span id="cb23-418"><a href="#cb23-418" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;stop offset="1" stop-color="#ffffff" stop-opacity=".75"/&gt;</span></span>
<span id="cb23-419"><a href="#cb23-419" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/linearGradient&gt;</span></span>
<span id="cb23-420"><a href="#cb23-420" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;filter id="shadow" x="-20%" y="-20%" width="140%" height="140%"&gt;</span></span>
<span id="cb23-421"><a href="#cb23-421" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;feDropShadow dx="0" dy="12" stdDeviation="18" flood-color="#000" flood-opacity=".28"/&gt;</span></span>
<span id="cb23-422"><a href="#cb23-422" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/filter&gt;</span></span>
<span id="cb23-423"><a href="#cb23-423" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/defs&gt;</span></span>
<span id="cb23-424"><a href="#cb23-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-425"><a href="#cb23-425" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;rect width="1200" height="675" fill="url(#bg)"/&gt;</span></span>
<span id="cb23-426"><a href="#cb23-426" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;circle cx="220" cy="160" r="110" fill="#fde047" opacity=".95"/&gt;</span></span>
<span id="cb23-427"><a href="#cb23-427" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;circle cx="220" cy="160" r="170" fill="#fde047" opacity=".22"/&gt;</span></span>
<span id="cb23-428"><a href="#cb23-428" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;circle cx="220" cy="160" r="240" fill="#fde047" opacity=".10"/&gt;</span></span>
<span id="cb23-429"><a href="#cb23-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-430"><a href="#cb23-430" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;path d="M0 520 C180 420, 280 640, 520 540 C760 440, 920 660, 1200 520 L1200 675 L0 675 Z" fill="#0b1220" opacity=".35"/&gt;</span></span>
<span id="cb23-431"><a href="#cb23-431" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;path d="M0 560 C220 470, 300 650, 560 570 C820 490, 940 650, 1200 580 L1200 675 L0 675 Z" fill="#0b1220" opacity=".25"/&gt;</span></span>
<span id="cb23-432"><a href="#cb23-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-433"><a href="#cb23-433" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;g filter="url(#shadow)"&gt;</span></span>
<span id="cb23-434"><a href="#cb23-434" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;rect x="90" y="180" width="1020" height="340" rx="24" fill="url(#glow)"/&gt;</span></span>
<span id="cb23-435"><a href="#cb23-435" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/g&gt;</span></span>
<span id="cb23-436"><a href="#cb23-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-437"><a href="#cb23-437" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;text x="140" y="260" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="44" font-weight="800" fill="#0b1220"&gt;</span></span>
<span id="cb23-438"><a href="#cb23-438" aria-hidden="true" tabindex="-1"></a><span class="in">        PhET Simulation: Greenhouse Effect</span></span>
<span id="cb23-439"><a href="#cb23-439" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/text&gt;</span></span>
<span id="cb23-440"><a href="#cb23-440" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;text x="140" y="312" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="26" font-weight="600" fill="#0b1220" opacity=".82"&gt;</span></span>
<span id="cb23-441"><a href="#cb23-441" aria-hidden="true" tabindex="-1"></a><span class="in">        Click to open in a new tab (works even if embeds are blocked)</span></span>
<span id="cb23-442"><a href="#cb23-442" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/text&gt;</span></span>
<span id="cb23-443"><a href="#cb23-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-444"><a href="#cb23-444" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;g transform="translate(140 360)"&gt;</span></span>
<span id="cb23-445"><a href="#cb23-445" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;rect x="0" y="0" width="360" height="86" rx="43" fill="#2563eb"/&gt;</span></span>
<span id="cb23-446"><a href="#cb23-446" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;polygon points="64,22 64,64 102,43" fill="#fff"/&gt;</span></span>
<span id="cb23-447"><a href="#cb23-447" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;text x="130" y="55" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="28" font-weight="800" fill="#fff"&gt;</span></span>
<span id="cb23-448"><a href="#cb23-448" aria-hidden="true" tabindex="-1"></a><span class="in">          Launch Sim</span></span>
<span id="cb23-449"><a href="#cb23-449" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/text&gt;</span></span>
<span id="cb23-450"><a href="#cb23-450" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/g&gt;</span></span>
<span id="cb23-451"><a href="#cb23-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-452"><a href="#cb23-452" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;text x="90" y="610" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="18" fill="#fff" opacity=".88"&gt;</span></span>
<span id="cb23-453"><a href="#cb23-453" aria-hidden="true" tabindex="-1"></a><span class="in">        Tip: if your school network blocks the site, use the link below.</span></span>
<span id="cb23-454"><a href="#cb23-454" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/text&gt;</span></span>
<span id="cb23-455"><a href="#cb23-455" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/svg&gt;</span></span>
<span id="cb23-456"><a href="#cb23-456" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/a&gt;</span></span>
<span id="cb23-457"><a href="#cb23-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-458"><a href="#cb23-458" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;div class="phet-actions"&gt;</span></span>
<span id="cb23-459"><a href="#cb23-459" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;a class="phet-btn" href="https://phet.colorado.edu/sims/html/greenhouse-effect/latest/greenhouse-effect_en.html" target="_blank" rel="noopener"&gt;Open the simulation&lt;/a&gt;</span></span>
<span id="cb23-460"><a href="#cb23-460" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;a class="phet-btn" style="background:#0f172a" href="https://phet.colorado.edu/en/simulations/greenhouse-effect" target="_blank" rel="noopener"&gt;PhET sim page&lt;/a&gt;</span></span>
<span id="cb23-461"><a href="#cb23-461" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/div&gt;</span></span>
<span id="cb23-462"><a href="#cb23-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-463"><a href="#cb23-463" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;p class="phet-note"&gt;</span></span>
<span id="cb23-464"><a href="#cb23-464" aria-hidden="true" tabindex="-1"></a><span class="in">    Some previews (and some LMS pages) block external iframes, so this lesson uses a click-to-open launch card instead of an embed.</span></span>
<span id="cb23-465"><a href="#cb23-465" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/p&gt;</span></span>
<span id="cb23-466"><a href="#cb23-466" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/div&gt;</span></span>
<span id="cb23-467"><a href="#cb23-467" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-468"><a href="#cb23-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-469"><a href="#cb23-469" aria-hidden="true" tabindex="-1"></a>::: {.explore-box}</span>
<span id="cb23-470"><a href="#cb23-470" aria-hidden="true" tabindex="-1"></a><span class="fu">### üî¨ Simulation Investigation Tasks</span></span>
<span id="cb23-471"><a href="#cb23-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-472"><a href="#cb23-472" aria-hidden="true" tabindex="-1"></a>**Task 1: Explore the Greenhouse Effect**</span>
<span id="cb23-473"><a href="#cb23-473" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Start with "Waves" mode to see how infrared radiation interacts with greenhouse gases</span>
<span id="cb23-474"><a href="#cb23-474" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Compare Earth's temperature with NO greenhouse gases vs. with greenhouse gases</span>
<span id="cb23-475"><a href="#cb23-475" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Record the equilibrium temperature for each scenario</span>
<span id="cb23-476"><a href="#cb23-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-477"><a href="#cb23-477" aria-hidden="true" tabindex="-1"></a>**Task 2: Compare Different Atmospheres**</span>
<span id="cb23-478"><a href="#cb23-478" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Try the Ice Age atmosphere setting</span>
<span id="cb23-479"><a href="#cb23-479" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Try the 1750 (pre-industrial) setting</span>
<span id="cb23-480"><a href="#cb23-480" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Try the "Today" setting</span>
<span id="cb23-481"><a href="#cb23-481" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Record how temperature changes with different CO‚ÇÇ levels</span>
<span id="cb23-482"><a href="#cb23-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-483"><a href="#cb23-483" aria-hidden="true" tabindex="-1"></a>**Task 3: Photon Absorption**</span>
<span id="cb23-484"><a href="#cb23-484" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Switch to "Photons" mode</span>
<span id="cb23-485"><a href="#cb23-485" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Observe what happens when infrared photons encounter CO‚ÇÇ molecules</span>
<span id="cb23-486"><a href="#cb23-486" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Explain why more CO‚ÇÇ = more warming</span>
<span id="cb23-487"><a href="#cb23-487" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-488"><a href="#cb23-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-489"><a href="#cb23-489" aria-hidden="true" tabindex="-1"></a><span class="fu">## CO‚ÇÇ and Temperature: The Evidence</span></span>
<span id="cb23-490"><a href="#cb23-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-491"><a href="#cb23-491" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ice Core Data: 800,000 Years of CO‚ÇÇ and Temperature</span></span>
<span id="cb23-492"><a href="#cb23-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-495"><a href="#cb23-495" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-496"><a href="#cb23-496" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-497"><a href="#cb23-497" aria-hidden="true" tabindex="-1"></a><span class="in">// Ice core CO2 and temperature data</span></span>
<span id="cb23-498"><a href="#cb23-498" aria-hidden="true" tabindex="-1"></a><span class="in">iceCoreData = [</span></span>
<span id="cb23-499"><a href="#cb23-499" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 800, co2: 190, temp: -8},</span></span>
<span id="cb23-500"><a href="#cb23-500" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 700, co2: 210, temp: -6},</span></span>
<span id="cb23-501"><a href="#cb23-501" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 600, co2: 240, temp: -4},</span></span>
<span id="cb23-502"><a href="#cb23-502" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 500, co2: 200, temp: -7},</span></span>
<span id="cb23-503"><a href="#cb23-503" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 400, co2: 180, temp: -9},</span></span>
<span id="cb23-504"><a href="#cb23-504" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 350, co2: 200, temp: -6},</span></span>
<span id="cb23-505"><a href="#cb23-505" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 300, co2: 240, temp: -3},</span></span>
<span id="cb23-506"><a href="#cb23-506" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 250, co2: 200, temp: -7},</span></span>
<span id="cb23-507"><a href="#cb23-507" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 200, co2: 190, temp: -8},</span></span>
<span id="cb23-508"><a href="#cb23-508" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 150, co2: 220, temp: -5},</span></span>
<span id="cb23-509"><a href="#cb23-509" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 130, co2: 280, temp: 2},</span></span>
<span id="cb23-510"><a href="#cb23-510" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 100, co2: 230, temp: -4},</span></span>
<span id="cb23-511"><a href="#cb23-511" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 50, co2: 200, temp: -6},</span></span>
<span id="cb23-512"><a href="#cb23-512" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 20, co2: 180, temp: -9},</span></span>
<span id="cb23-513"><a href="#cb23-513" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 10, co2: 260, temp: -1},</span></span>
<span id="cb23-514"><a href="#cb23-514" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 0.2, co2: 280, temp: 0},</span></span>
<span id="cb23-515"><a href="#cb23-515" aria-hidden="true" tabindex="-1"></a><span class="in">  {kya: 0, co2: 420, temp: 1.2}</span></span>
<span id="cb23-516"><a href="#cb23-516" aria-hidden="true" tabindex="-1"></a><span class="in">]</span></span>
<span id="cb23-517"><a href="#cb23-517" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-518"><a href="#cb23-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-521"><a href="#cb23-521" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-522"><a href="#cb23-522" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-523"><a href="#cb23-523" aria-hidden="true" tabindex="-1"></a><span class="in">viewof showModern = Inputs.toggle({label: "Show modern CO‚ÇÇ level (420 ppm)", value: false})</span></span>
<span id="cb23-524"><a href="#cb23-524" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-525"><a href="#cb23-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-528"><a href="#cb23-528" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-529"><a href="#cb23-529" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-530"><a href="#cb23-530" aria-hidden="true" tabindex="-1"></a><span class="in">displayData = showModern ? iceCoreData : iceCoreData.filter(d =&gt; d.kya &gt; 0.1)</span></span>
<span id="cb23-531"><a href="#cb23-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-532"><a href="#cb23-532" aria-hidden="true" tabindex="-1"></a><span class="in">Plot.plot({</span></span>
<span id="cb23-533"><a href="#cb23-533" aria-hidden="true" tabindex="-1"></a><span class="in">  title: "CO‚ÇÇ Concentration Over 800,000 Years",</span></span>
<span id="cb23-534"><a href="#cb23-534" aria-hidden="true" tabindex="-1"></a><span class="in">  subtitle: "Data from Antarctic ice cores",</span></span>
<span id="cb23-535"><a href="#cb23-535" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 750,</span></span>
<span id="cb23-536"><a href="#cb23-536" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 350,</span></span>
<span id="cb23-537"><a href="#cb23-537" aria-hidden="true" tabindex="-1"></a><span class="in">  x: {label: "Thousands of Years Ago", reverse: true, domain: [800, 0]},</span></span>
<span id="cb23-538"><a href="#cb23-538" aria-hidden="true" tabindex="-1"></a><span class="in">  y: {label: "CO‚ÇÇ (ppm)", domain: [150, showModern ? 450 : 320]},</span></span>
<span id="cb23-539"><a href="#cb23-539" aria-hidden="true" tabindex="-1"></a><span class="in">  marks: [</span></span>
<span id="cb23-540"><a href="#cb23-540" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.ruleY([280], {stroke: "#999", strokeDasharray: "4,4"}),</span></span>
<span id="cb23-541"><a href="#cb23-541" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.line(displayData, {x: "kya", y: "co2", stroke: "#27ae60", strokeWidth: 2,</span></span>
<span id="cb23-542"><a href="#cb23-542" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-543"><a href="#cb23-543" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.dot(displayData.filter(d =&gt; d.kya === 0), {x: "kya", y: "co2", fill: "#e74c3c", r: 10,</span></span>
<span id="cb23-544"><a href="#cb23-544" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-545"><a href="#cb23-545" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text([{x: 400, y: 295}], {x: "x", y: "y", text: d =&gt; "Pre-industrial maximum: 280 ppm", fill: "#999", fontSize: 11}),</span></span>
<span id="cb23-546"><a href="#cb23-546" aria-hidden="true" tabindex="-1"></a><span class="in">    showModern ? Plot.text([{x: 50, y: 420}], {x: "x", y: "y", text: d =&gt; "TODAY: 420 ppm", fill: "#e74c3c", fontSize: 12, fontWeight: "bold"}) : null</span></span>
<span id="cb23-547"><a href="#cb23-547" aria-hidden="true" tabindex="-1"></a><span class="in">  ].filter(d =&gt; d !== null)</span></span>
<span id="cb23-548"><a href="#cb23-548" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb23-549"><a href="#cb23-549" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-550"><a href="#cb23-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-551"><a href="#cb23-551" aria-hidden="true" tabindex="-1"></a>::: {.check-understanding}</span>
<span id="cb23-552"><a href="#cb23-552" aria-hidden="true" tabindex="-1"></a><span class="fu">### ‚úÖ Data Analysis</span></span>
<span id="cb23-553"><a href="#cb23-553" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>What is the highest CO‚ÇÇ level in the past 800,000 years (before humans)?</span>
<span id="cb23-554"><a href="#cb23-554" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>What is today's CO‚ÇÇ level?</span>
<span id="cb23-555"><a href="#cb23-555" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>How does today's CO‚ÇÇ compare to the natural range?</span>
<span id="cb23-556"><a href="#cb23-556" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>What pattern do you notice between CO‚ÇÇ and temperature in the ice core record?</span>
<span id="cb23-557"><a href="#cb23-557" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>Based on these data, make a claim about how CO‚ÇÇ levels and temperature are related.</span>
<span id="cb23-558"><a href="#cb23-558" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-559"><a href="#cb23-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-560"><a href="#cb23-560" aria-hidden="true" tabindex="-1"></a><span class="fu"># Explore Part 2: The Albedo Effect</span></span>
<span id="cb23-561"><a href="#cb23-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-562"><a href="#cb23-562" aria-hidden="true" tabindex="-1"></a>How is the icy surface of the poles changing, and what does that do to Earth's temperature? Analyze albedo models and datasets to figure out how different surfaces change the surrounding system and impact temperature.</span>
<span id="cb23-563"><a href="#cb23-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-564"><a href="#cb23-564" aria-hidden="true" tabindex="-1"></a><span class="fu">## What is Albedo?</span></span>
<span id="cb23-565"><a href="#cb23-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-566"><a href="#cb23-566" aria-hidden="true" tabindex="-1"></a>**Albedo** is the measure of how much light a surface reflects. It ranges from 0 (absorbs all light) to 1 (reflects all light).</span>
<span id="cb23-567"><a href="#cb23-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-568"><a href="#cb23-568" aria-hidden="true" tabindex="-1"></a><span class="in">``` {python}</span></span>
<span id="cb23-569"><a href="#cb23-569" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-glacier-comparison</span></span>
<span id="cb23-570"><a href="#cb23-570" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-cap: "Interactive comparison of Frederiksdal Glacier, Greenland between June 14 and July 24, 2023, showing dramatic ice loss over 40 days."</span></span>
<span id="cb23-571"><a href="#cb23-571" aria-hidden="true" tabindex="-1"></a><span class="in">#| echo: false</span></span>
<span id="cb23-572"><a href="#cb23-572" aria-hidden="true" tabindex="-1"></a><span class="in">#| warning: false</span></span>
<span id="cb23-573"><a href="#cb23-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-574"><a href="#cb23-574" aria-hidden="true" tabindex="-1"></a><span class="in">from IPython.display import HTML, display</span></span>
<span id="cb23-575"><a href="#cb23-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-576"><a href="#cb23-576" aria-hidden="true" tabindex="-1"></a><span class="in">html_code = """</span></span>
<span id="cb23-577"><a href="#cb23-577" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb23-578"><a href="#cb23-578" aria-hidden="true" tabindex="-1"></a><span class="in">    .comparison-container {</span></span>
<span id="cb23-579"><a href="#cb23-579" aria-hidden="true" tabindex="-1"></a><span class="in">        position: relative;</span></span>
<span id="cb23-580"><a href="#cb23-580" aria-hidden="true" tabindex="-1"></a><span class="in">        width: 100%;</span></span>
<span id="cb23-581"><a href="#cb23-581" aria-hidden="true" tabindex="-1"></a><span class="in">        max-width: 800px;</span></span>
<span id="cb23-582"><a href="#cb23-582" aria-hidden="true" tabindex="-1"></a><span class="in">        margin: 20px auto;</span></span>
<span id="cb23-583"><a href="#cb23-583" aria-hidden="true" tabindex="-1"></a><span class="in">        overflow: hidden;</span></span>
<span id="cb23-584"><a href="#cb23-584" aria-hidden="true" tabindex="-1"></a><span class="in">        border-radius: 8px;</span></span>
<span id="cb23-585"><a href="#cb23-585" aria-hidden="true" tabindex="-1"></a><span class="in">        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);</span></span>
<span id="cb23-586"><a href="#cb23-586" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-587"><a href="#cb23-587" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-588"><a href="#cb23-588" aria-hidden="true" tabindex="-1"></a><span class="in">    .comparison-container img {</span></span>
<span id="cb23-589"><a href="#cb23-589" aria-hidden="true" tabindex="-1"></a><span class="in">        display: block;</span></span>
<span id="cb23-590"><a href="#cb23-590" aria-hidden="true" tabindex="-1"></a><span class="in">        width: 100%;</span></span>
<span id="cb23-591"><a href="#cb23-591" aria-hidden="true" tabindex="-1"></a><span class="in">        height: auto;</span></span>
<span id="cb23-592"><a href="#cb23-592" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-593"><a href="#cb23-593" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-594"><a href="#cb23-594" aria-hidden="true" tabindex="-1"></a><span class="in">    .base-image {</span></span>
<span id="cb23-595"><a href="#cb23-595" aria-hidden="true" tabindex="-1"></a><span class="in">      position: relative;</span></span>
<span id="cb23-596"><a href="#cb23-596" aria-hidden="true" tabindex="-1"></a><span class="in">      width: 100%;</span></span>
<span id="cb23-597"><a href="#cb23-597" aria-hidden="true" tabindex="-1"></a><span class="in">      display: block;</span></span>
<span id="cb23-598"><a href="#cb23-598" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-599"><a href="#cb23-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-600"><a href="#cb23-600" aria-hidden="true" tabindex="-1"></a><span class="in">    .overlay-image {</span></span>
<span id="cb23-601"><a href="#cb23-601" aria-hidden="true" tabindex="-1"></a><span class="in">      position: absolute;</span></span>
<span id="cb23-602"><a href="#cb23-602" aria-hidden="true" tabindex="-1"></a><span class="in">      top: 0;</span></span>
<span id="cb23-603"><a href="#cb23-603" aria-hidden="true" tabindex="-1"></a><span class="in">      left: 0;</span></span>
<span id="cb23-604"><a href="#cb23-604" aria-hidden="true" tabindex="-1"></a><span class="in">      width: 100%;</span></span>
<span id="cb23-605"><a href="#cb23-605" aria-hidden="true" tabindex="-1"></a><span class="in">      height: 100%;</span></span>
<span id="cb23-606"><a href="#cb23-606" aria-hidden="true" tabindex="-1"></a><span class="in">      object-fit: cover;</span></span>
<span id="cb23-607"><a href="#cb23-607" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-608"><a href="#cb23-608" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-609"><a href="#cb23-609" aria-hidden="true" tabindex="-1"></a><span class="in">    .overlay {</span></span>
<span id="cb23-610"><a href="#cb23-610" aria-hidden="true" tabindex="-1"></a><span class="in">        position: absolute;</span></span>
<span id="cb23-611"><a href="#cb23-611" aria-hidden="true" tabindex="-1"></a><span class="in">        top: 0;</span></span>
<span id="cb23-612"><a href="#cb23-612" aria-hidden="true" tabindex="-1"></a><span class="in">        left: 0;</span></span>
<span id="cb23-613"><a href="#cb23-613" aria-hidden="true" tabindex="-1"></a><span class="in">        width: 50%;</span></span>
<span id="cb23-614"><a href="#cb23-614" aria-hidden="true" tabindex="-1"></a><span class="in">        height: 100%;</span></span>
<span id="cb23-615"><a href="#cb23-615" aria-hidden="true" tabindex="-1"></a><span class="in">        overflow: hidden;</span></span>
<span id="cb23-616"><a href="#cb23-616" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-617"><a href="#cb23-617" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-618"><a href="#cb23-618" aria-hidden="true" tabindex="-1"></a><span class="in">    .slider {</span></span>
<span id="cb23-619"><a href="#cb23-619" aria-hidden="true" tabindex="-1"></a><span class="in">        position: absolute;</span></span>
<span id="cb23-620"><a href="#cb23-620" aria-hidden="true" tabindex="-1"></a><span class="in">        top: 0;</span></span>
<span id="cb23-621"><a href="#cb23-621" aria-hidden="true" tabindex="-1"></a><span class="in">        left: 50%;</span></span>
<span id="cb23-622"><a href="#cb23-622" aria-hidden="true" tabindex="-1"></a><span class="in">        width: 4px;</span></span>
<span id="cb23-623"><a href="#cb23-623" aria-hidden="true" tabindex="-1"></a><span class="in">        height: 100%;</span></span>
<span id="cb23-624"><a href="#cb23-624" aria-hidden="true" tabindex="-1"></a><span class="in">        background: white;</span></span>
<span id="cb23-625"><a href="#cb23-625" aria-hidden="true" tabindex="-1"></a><span class="in">        cursor: ew-resize;</span></span>
<span id="cb23-626"><a href="#cb23-626" aria-hidden="true" tabindex="-1"></a><span class="in">        transform: translateX(-50%);</span></span>
<span id="cb23-627"><a href="#cb23-627" aria-hidden="true" tabindex="-1"></a><span class="in">        z-index: 10;</span></span>
<span id="cb23-628"><a href="#cb23-628" aria-hidden="true" tabindex="-1"></a><span class="in">        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);</span></span>
<span id="cb23-629"><a href="#cb23-629" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-630"><a href="#cb23-630" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-631"><a href="#cb23-631" aria-hidden="true" tabindex="-1"></a><span class="in">    .slider-button {</span></span>
<span id="cb23-632"><a href="#cb23-632" aria-hidden="true" tabindex="-1"></a><span class="in">        position: absolute;</span></span>
<span id="cb23-633"><a href="#cb23-633" aria-hidden="true" tabindex="-1"></a><span class="in">        top: 50%;</span></span>
<span id="cb23-634"><a href="#cb23-634" aria-hidden="true" tabindex="-1"></a><span class="in">        left: 50%;</span></span>
<span id="cb23-635"><a href="#cb23-635" aria-hidden="true" tabindex="-1"></a><span class="in">        transform: translate(-50%, -50%);</span></span>
<span id="cb23-636"><a href="#cb23-636" aria-hidden="true" tabindex="-1"></a><span class="in">        width: 50px;</span></span>
<span id="cb23-637"><a href="#cb23-637" aria-hidden="true" tabindex="-1"></a><span class="in">        height: 50px;</span></span>
<span id="cb23-638"><a href="#cb23-638" aria-hidden="true" tabindex="-1"></a><span class="in">        background: white;</span></span>
<span id="cb23-639"><a href="#cb23-639" aria-hidden="true" tabindex="-1"></a><span class="in">        border-radius: 50%;</span></span>
<span id="cb23-640"><a href="#cb23-640" aria-hidden="true" tabindex="-1"></a><span class="in">        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);</span></span>
<span id="cb23-641"><a href="#cb23-641" aria-hidden="true" tabindex="-1"></a><span class="in">        display: flex;</span></span>
<span id="cb23-642"><a href="#cb23-642" aria-hidden="true" tabindex="-1"></a><span class="in">        align-items: center;</span></span>
<span id="cb23-643"><a href="#cb23-643" aria-hidden="true" tabindex="-1"></a><span class="in">        justify-content: center;</span></span>
<span id="cb23-644"><a href="#cb23-644" aria-hidden="true" tabindex="-1"></a><span class="in">        cursor: ew-resize;</span></span>
<span id="cb23-645"><a href="#cb23-645" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-646"><a href="#cb23-646" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-647"><a href="#cb23-647" aria-hidden="true" tabindex="-1"></a><span class="in">    .slider-button::before,</span></span>
<span id="cb23-648"><a href="#cb23-648" aria-hidden="true" tabindex="-1"></a><span class="in">    .slider-button::after {</span></span>
<span id="cb23-649"><a href="#cb23-649" aria-hidden="true" tabindex="-1"></a><span class="in">        content: '';</span></span>
<span id="cb23-650"><a href="#cb23-650" aria-hidden="true" tabindex="-1"></a><span class="in">        position: absolute;</span></span>
<span id="cb23-651"><a href="#cb23-651" aria-hidden="true" tabindex="-1"></a><span class="in">        width: 0;</span></span>
<span id="cb23-652"><a href="#cb23-652" aria-hidden="true" tabindex="-1"></a><span class="in">        height: 0;</span></span>
<span id="cb23-653"><a href="#cb23-653" aria-hidden="true" tabindex="-1"></a><span class="in">        border-style: solid;</span></span>
<span id="cb23-654"><a href="#cb23-654" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-655"><a href="#cb23-655" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-656"><a href="#cb23-656" aria-hidden="true" tabindex="-1"></a><span class="in">    .slider-button::before {</span></span>
<span id="cb23-657"><a href="#cb23-657" aria-hidden="true" tabindex="-1"></a><span class="in">        left: 12px;</span></span>
<span id="cb23-658"><a href="#cb23-658" aria-hidden="true" tabindex="-1"></a><span class="in">        border-width: 8px 12px 8px 0;</span></span>
<span id="cb23-659"><a href="#cb23-659" aria-hidden="true" tabindex="-1"></a><span class="in">        border-color: transparent #2c3e50 transparent transparent;</span></span>
<span id="cb23-660"><a href="#cb23-660" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-661"><a href="#cb23-661" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-662"><a href="#cb23-662" aria-hidden="true" tabindex="-1"></a><span class="in">    .slider-button::after {</span></span>
<span id="cb23-663"><a href="#cb23-663" aria-hidden="true" tabindex="-1"></a><span class="in">        right: 12px;</span></span>
<span id="cb23-664"><a href="#cb23-664" aria-hidden="true" tabindex="-1"></a><span class="in">        border-width: 8px 0 8px 12px;</span></span>
<span id="cb23-665"><a href="#cb23-665" aria-hidden="true" tabindex="-1"></a><span class="in">        border-color: transparent transparent transparent #2c3e50;</span></span>
<span id="cb23-666"><a href="#cb23-666" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-667"><a href="#cb23-667" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-668"><a href="#cb23-668" aria-hidden="true" tabindex="-1"></a><span class="in">    .labels {</span></span>
<span id="cb23-669"><a href="#cb23-669" aria-hidden="true" tabindex="-1"></a><span class="in">        position: absolute;</span></span>
<span id="cb23-670"><a href="#cb23-670" aria-hidden="true" tabindex="-1"></a><span class="in">        top: 20px;</span></span>
<span id="cb23-671"><a href="#cb23-671" aria-hidden="true" tabindex="-1"></a><span class="in">        width: 100%;</span></span>
<span id="cb23-672"><a href="#cb23-672" aria-hidden="true" tabindex="-1"></a><span class="in">        display: flex;</span></span>
<span id="cb23-673"><a href="#cb23-673" aria-hidden="true" tabindex="-1"></a><span class="in">        justify-content: space-between;</span></span>
<span id="cb23-674"><a href="#cb23-674" aria-hidden="true" tabindex="-1"></a><span class="in">        padding: 0 20px;</span></span>
<span id="cb23-675"><a href="#cb23-675" aria-hidden="true" tabindex="-1"></a><span class="in">        pointer-events: none;</span></span>
<span id="cb23-676"><a href="#cb23-676" aria-hidden="true" tabindex="-1"></a><span class="in">        z-index: 5;</span></span>
<span id="cb23-677"><a href="#cb23-677" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-678"><a href="#cb23-678" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-679"><a href="#cb23-679" aria-hidden="true" tabindex="-1"></a><span class="in">    .label {</span></span>
<span id="cb23-680"><a href="#cb23-680" aria-hidden="true" tabindex="-1"></a><span class="in">        background: rgba(255, 255, 255, 0.9);</span></span>
<span id="cb23-681"><a href="#cb23-681" aria-hidden="true" tabindex="-1"></a><span class="in">        padding: 8px 16px;</span></span>
<span id="cb23-682"><a href="#cb23-682" aria-hidden="true" tabindex="-1"></a><span class="in">        border-radius: 6px;</span></span>
<span id="cb23-683"><a href="#cb23-683" aria-hidden="true" tabindex="-1"></a><span class="in">        font-weight: 600;</span></span>
<span id="cb23-684"><a href="#cb23-684" aria-hidden="true" tabindex="-1"></a><span class="in">        color: #2c3e50;</span></span>
<span id="cb23-685"><a href="#cb23-685" aria-hidden="true" tabindex="-1"></a><span class="in">        font-size: 14px;</span></span>
<span id="cb23-686"><a href="#cb23-686" aria-hidden="true" tabindex="-1"></a><span class="in">        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);</span></span>
<span id="cb23-687"><a href="#cb23-687" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-688"><a href="#cb23-688" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-689"><a href="#cb23-689" aria-hidden="true" tabindex="-1"></a><span class="in">    .instructions {</span></span>
<span id="cb23-690"><a href="#cb23-690" aria-hidden="true" tabindex="-1"></a><span class="in">        text-align: center;</span></span>
<span id="cb23-691"><a href="#cb23-691" aria-hidden="true" tabindex="-1"></a><span class="in">        margin-top: 15px;</span></span>
<span id="cb23-692"><a href="#cb23-692" aria-hidden="true" tabindex="-1"></a><span class="in">        color: #7f8c8d;</span></span>
<span id="cb23-693"><a href="#cb23-693" aria-hidden="true" tabindex="-1"></a><span class="in">        font-size: 14px;</span></span>
<span id="cb23-694"><a href="#cb23-694" aria-hidden="true" tabindex="-1"></a><span class="in">        font-style: italic;</span></span>
<span id="cb23-695"><a href="#cb23-695" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-696"><a href="#cb23-696" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb23-697"><a href="#cb23-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-698"><a href="#cb23-698" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;div class="comparison-container" id="comparison"&gt;</span></span>
<span id="cb23-699"><a href="#cb23-699" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;img src="../images/glacier_june_2023.JPG" </span></span>
<span id="cb23-700"><a href="#cb23-700" aria-hidden="true" tabindex="-1"></a><span class="in">     alt="June 14, 2023 (base image)" </span></span>
<span id="cb23-701"><a href="#cb23-701" aria-hidden="true" tabindex="-1"></a><span class="in">     class="base-image"&gt;</span></span>
<span id="cb23-702"><a href="#cb23-702" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;div class="overlay" id="overlay"&gt;</span></span>
<span id="cb23-703"><a href="#cb23-703" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;img src="../images/glacier_july_2023.JPG" </span></span>
<span id="cb23-704"><a href="#cb23-704" aria-hidden="true" tabindex="-1"></a><span class="in">       alt="July 24, 2023 (overlay image)" </span></span>
<span id="cb23-705"><a href="#cb23-705" aria-hidden="true" tabindex="-1"></a><span class="in">       class="overlay-image"&gt;</span></span>
<span id="cb23-706"><a href="#cb23-706" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/div&gt;</span></span>
<span id="cb23-707"><a href="#cb23-707" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;div class="slider" id="slider"&gt;</span></span>
<span id="cb23-708"><a href="#cb23-708" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="slider-button"&gt;&lt;/div&gt;</span></span>
<span id="cb23-709"><a href="#cb23-709" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/div&gt;</span></span>
<span id="cb23-710"><a href="#cb23-710" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;div class="labels"&gt;</span></span>
<span id="cb23-711"><a href="#cb23-711" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="label"&gt;June 14, 2023&lt;/div&gt;</span></span>
<span id="cb23-712"><a href="#cb23-712" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="label"&gt;July 24, 2023&lt;/div&gt;</span></span>
<span id="cb23-713"><a href="#cb23-713" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/div&gt;</span></span>
<span id="cb23-714"><a href="#cb23-714" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/div&gt;</span></span>
<span id="cb23-715"><a href="#cb23-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-716"><a href="#cb23-716" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;p class="instructions"&gt;</span></span>
<span id="cb23-717"><a href="#cb23-717" aria-hidden="true" tabindex="-1"></a><span class="in">    Drag the slider left and right to compare the images</span></span>
<span id="cb23-718"><a href="#cb23-718" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/p&gt;</span></span>
<span id="cb23-719"><a href="#cb23-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-720"><a href="#cb23-720" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;script&gt;</span></span>
<span id="cb23-721"><a href="#cb23-721" aria-hidden="true" tabindex="-1"></a><span class="in">    const slider = document.getElementById('slider');</span></span>
<span id="cb23-722"><a href="#cb23-722" aria-hidden="true" tabindex="-1"></a><span class="in">    const overlay = document.getElementById('overlay');</span></span>
<span id="cb23-723"><a href="#cb23-723" aria-hidden="true" tabindex="-1"></a><span class="in">    const container = document.getElementById('comparison');</span></span>
<span id="cb23-724"><a href="#cb23-724" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-725"><a href="#cb23-725" aria-hidden="true" tabindex="-1"></a><span class="in">    let isDragging = false;</span></span>
<span id="cb23-726"><a href="#cb23-726" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-727"><a href="#cb23-727" aria-hidden="true" tabindex="-1"></a><span class="in">    function updateSliderPosition(x) {</span></span>
<span id="cb23-728"><a href="#cb23-728" aria-hidden="true" tabindex="-1"></a><span class="in">        const containerRect = container.getBoundingClientRect();</span></span>
<span id="cb23-729"><a href="#cb23-729" aria-hidden="true" tabindex="-1"></a><span class="in">        const containerWidth = containerRect.width;</span></span>
<span id="cb23-730"><a href="#cb23-730" aria-hidden="true" tabindex="-1"></a><span class="in">        const position = Math.max(0, Math.min(x - containerRect.left, containerWidth));</span></span>
<span id="cb23-731"><a href="#cb23-731" aria-hidden="true" tabindex="-1"></a><span class="in">        const percentage = (position / containerWidth) * 100;</span></span>
<span id="cb23-732"><a href="#cb23-732" aria-hidden="true" tabindex="-1"></a><span class="in">        </span></span>
<span id="cb23-733"><a href="#cb23-733" aria-hidden="true" tabindex="-1"></a><span class="in">        overlay.style.width = percentage + '%';</span></span>
<span id="cb23-734"><a href="#cb23-734" aria-hidden="true" tabindex="-1"></a><span class="in">        slider.style.left = percentage + '%';</span></span>
<span id="cb23-735"><a href="#cb23-735" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-736"><a href="#cb23-736" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-737"><a href="#cb23-737" aria-hidden="true" tabindex="-1"></a><span class="in">    slider.addEventListener('mousedown', () =&gt; {</span></span>
<span id="cb23-738"><a href="#cb23-738" aria-hidden="true" tabindex="-1"></a><span class="in">        isDragging = true;</span></span>
<span id="cb23-739"><a href="#cb23-739" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-740"><a href="#cb23-740" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-741"><a href="#cb23-741" aria-hidden="true" tabindex="-1"></a><span class="in">    document.addEventListener('mouseup', () =&gt; {</span></span>
<span id="cb23-742"><a href="#cb23-742" aria-hidden="true" tabindex="-1"></a><span class="in">        isDragging = false;</span></span>
<span id="cb23-743"><a href="#cb23-743" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-744"><a href="#cb23-744" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-745"><a href="#cb23-745" aria-hidden="true" tabindex="-1"></a><span class="in">    document.addEventListener('mousemove', (e) =&gt; {</span></span>
<span id="cb23-746"><a href="#cb23-746" aria-hidden="true" tabindex="-1"></a><span class="in">        if (isDragging) {</span></span>
<span id="cb23-747"><a href="#cb23-747" aria-hidden="true" tabindex="-1"></a><span class="in">            updateSliderPosition(e.clientX);</span></span>
<span id="cb23-748"><a href="#cb23-748" aria-hidden="true" tabindex="-1"></a><span class="in">        }</span></span>
<span id="cb23-749"><a href="#cb23-749" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-750"><a href="#cb23-750" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-751"><a href="#cb23-751" aria-hidden="true" tabindex="-1"></a><span class="in">    slider.addEventListener('touchstart', (e) =&gt; {</span></span>
<span id="cb23-752"><a href="#cb23-752" aria-hidden="true" tabindex="-1"></a><span class="in">        isDragging = true;</span></span>
<span id="cb23-753"><a href="#cb23-753" aria-hidden="true" tabindex="-1"></a><span class="in">        e.preventDefault();</span></span>
<span id="cb23-754"><a href="#cb23-754" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-755"><a href="#cb23-755" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-756"><a href="#cb23-756" aria-hidden="true" tabindex="-1"></a><span class="in">    document.addEventListener('touchend', () =&gt; {</span></span>
<span id="cb23-757"><a href="#cb23-757" aria-hidden="true" tabindex="-1"></a><span class="in">        isDragging = false;</span></span>
<span id="cb23-758"><a href="#cb23-758" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-759"><a href="#cb23-759" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-760"><a href="#cb23-760" aria-hidden="true" tabindex="-1"></a><span class="in">    document.addEventListener('touchmove', (e) =&gt; {</span></span>
<span id="cb23-761"><a href="#cb23-761" aria-hidden="true" tabindex="-1"></a><span class="in">        if (isDragging) {</span></span>
<span id="cb23-762"><a href="#cb23-762" aria-hidden="true" tabindex="-1"></a><span class="in">            updateSliderPosition(e.touches[0].clientX);</span></span>
<span id="cb23-763"><a href="#cb23-763" aria-hidden="true" tabindex="-1"></a><span class="in">        }</span></span>
<span id="cb23-764"><a href="#cb23-764" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-765"><a href="#cb23-765" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-766"><a href="#cb23-766" aria-hidden="true" tabindex="-1"></a><span class="in">    container.addEventListener('click', (e) =&gt; {</span></span>
<span id="cb23-767"><a href="#cb23-767" aria-hidden="true" tabindex="-1"></a><span class="in">        updateSliderPosition(e.clientX);</span></span>
<span id="cb23-768"><a href="#cb23-768" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-769"><a href="#cb23-769" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/script&gt;</span></span>
<span id="cb23-770"><a href="#cb23-770" aria-hidden="true" tabindex="-1"></a><span class="in">"""</span></span>
<span id="cb23-771"><a href="#cb23-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-772"><a href="#cb23-772" aria-hidden="true" tabindex="-1"></a><span class="in">display(HTML(html_code))</span></span>
<span id="cb23-773"><a href="#cb23-773" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-774"><a href="#cb23-774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-777"><a href="#cb23-777" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-778"><a href="#cb23-778" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-779"><a href="#cb23-779" aria-hidden="true" tabindex="-1"></a><span class="in">albedoData = [</span></span>
<span id="cb23-780"><a href="#cb23-780" aria-hidden="true" tabindex="-1"></a><span class="in">  {surface: "Fresh Snow", albedo: 0.85, color: "#ffffff"},</span></span>
<span id="cb23-781"><a href="#cb23-781" aria-hidden="true" tabindex="-1"></a><span class="in">  {surface: "Sea Ice", albedo: 0.60, color: "#b3e5fc"},</span></span>
<span id="cb23-782"><a href="#cb23-782" aria-hidden="true" tabindex="-1"></a><span class="in">  {surface: "Old Snow", albedo: 0.45, color: "#e0e0e0"},</span></span>
<span id="cb23-783"><a href="#cb23-783" aria-hidden="true" tabindex="-1"></a><span class="in">  {surface: "Desert Sand", albedo: 0.40, color: "#fdd835"},</span></span>
<span id="cb23-784"><a href="#cb23-784" aria-hidden="true" tabindex="-1"></a><span class="in">  {surface: "Grassland", albedo: 0.25, color: "#81c784"},</span></span>
<span id="cb23-785"><a href="#cb23-785" aria-hidden="true" tabindex="-1"></a><span class="in">  {surface: "Forest", albedo: 0.15, color: "#2e7d32"},</span></span>
<span id="cb23-786"><a href="#cb23-786" aria-hidden="true" tabindex="-1"></a><span class="in">  {surface: "Ocean Water", albedo: 0.06, color: "#1565c0"},</span></span>
<span id="cb23-787"><a href="#cb23-787" aria-hidden="true" tabindex="-1"></a><span class="in">  {surface: "Asphalt", albedo: 0.04, color: "#37474f"}</span></span>
<span id="cb23-788"><a href="#cb23-788" aria-hidden="true" tabindex="-1"></a><span class="in">]</span></span>
<span id="cb23-789"><a href="#cb23-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-790"><a href="#cb23-790" aria-hidden="true" tabindex="-1"></a><span class="in">Plot.plot({</span></span>
<span id="cb23-791"><a href="#cb23-791" aria-hidden="true" tabindex="-1"></a><span class="in">  title: "Albedo of Different Surfaces",</span></span>
<span id="cb23-792"><a href="#cb23-792" aria-hidden="true" tabindex="-1"></a><span class="in">  subtitle: "Higher albedo = more reflection = less heating",</span></span>
<span id="cb23-793"><a href="#cb23-793" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 700,</span></span>
<span id="cb23-794"><a href="#cb23-794" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 400,</span></span>
<span id="cb23-795"><a href="#cb23-795" aria-hidden="true" tabindex="-1"></a><span class="in">  x: {label: "Albedo (reflection coefficient)", domain: [0, 1]},</span></span>
<span id="cb23-796"><a href="#cb23-796" aria-hidden="true" tabindex="-1"></a><span class="in">  y: {label: "Surface Type", domain: albedoData.map(d =&gt; d.surface)},</span></span>
<span id="cb23-797"><a href="#cb23-797" aria-hidden="true" tabindex="-1"></a><span class="in">  marks: [</span></span>
<span id="cb23-798"><a href="#cb23-798" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.barX(albedoData, {x: "albedo", y: "surface", fill: "color", sort: {y: "-x"},</span></span>
<span id="cb23-799"><a href="#cb23-799" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-800"><a href="#cb23-800" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text(albedoData, {x: "albedo", y: "surface", text: d =&gt; (d.albedo * 100).toFixed(0) + "%", dx: 25, fontSize: 12})</span></span>
<span id="cb23-801"><a href="#cb23-801" aria-hidden="true" tabindex="-1"></a><span class="in">  ]</span></span>
<span id="cb23-802"><a href="#cb23-802" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb23-803"><a href="#cb23-803" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-804"><a href="#cb23-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-805"><a href="#cb23-805" aria-hidden="true" tabindex="-1"></a><span class="fu">## Interactive: Ice-Albedo Feedback Simulation</span></span>
<span id="cb23-806"><a href="#cb23-806" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-809"><a href="#cb23-809" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-810"><a href="#cb23-810" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-811"><a href="#cb23-811" aria-hidden="true" tabindex="-1"></a><span class="in">viewof iceExtent = Inputs.range([0, 100], {</span></span>
<span id="cb23-812"><a href="#cb23-812" aria-hidden="true" tabindex="-1"></a><span class="in">  step: 5,</span></span>
<span id="cb23-813"><a href="#cb23-813" aria-hidden="true" tabindex="-1"></a><span class="in">  value: 50,</span></span>
<span id="cb23-814"><a href="#cb23-814" aria-hidden="true" tabindex="-1"></a><span class="in">  label: "Arctic Ice Coverage (%):"</span></span>
<span id="cb23-815"><a href="#cb23-815" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb23-816"><a href="#cb23-816" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-817"><a href="#cb23-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-820"><a href="#cb23-820" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-821"><a href="#cb23-821" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-822"><a href="#cb23-822" aria-hidden="true" tabindex="-1"></a><span class="in">// Calculate absorbed energy based on ice extent</span></span>
<span id="cb23-823"><a href="#cb23-823" aria-hidden="true" tabindex="-1"></a><span class="in">avgAlbedo = (iceExtent / 100 * 0.6) + ((100 - iceExtent) / 100 * 0.06)</span></span>
<span id="cb23-824"><a href="#cb23-824" aria-hidden="true" tabindex="-1"></a><span class="in">absorbedEnergy = ((1 - avgAlbedo) * 100).toFixed(1)</span></span>
<span id="cb23-825"><a href="#cb23-825" aria-hidden="true" tabindex="-1"></a><span class="in">reflectedEnergy = (avgAlbedo * 100).toFixed(1)</span></span>
<span id="cb23-826"><a href="#cb23-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-827"><a href="#cb23-827" aria-hidden="true" tabindex="-1"></a><span class="in">html`</span></span>
<span id="cb23-828"><a href="#cb23-828" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;div style="display: flex; gap: 20px; flex-wrap: wrap; margin: 20px 0;"&gt;</span></span>
<span id="cb23-829"><a href="#cb23-829" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;div style="flex: 1; min-width: 300px;"&gt;</span></span>
<span id="cb23-830"><a href="#cb23-830" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;svg width="350" height="250" style="background: linear-gradient(180deg, #87CEEB 0%, #1565c0 100%); border-radius: 10px;"&gt;</span></span>
<span id="cb23-831"><a href="#cb23-831" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;!-- Ice --&gt;</span></span>
<span id="cb23-832"><a href="#cb23-832" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;rect x="0" y="150" width="${iceExtent * 3.5}" height="100" fill="#e3f2fd" opacity="0.9"/&gt;</span></span>
<span id="cb23-833"><a href="#cb23-833" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;!-- Ocean --&gt;</span></span>
<span id="cb23-834"><a href="#cb23-834" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;rect x="${iceExtent * 3.5}" y="150" width="${(100 - iceExtent) * 3.5}" height="100" fill="#0d47a1"/&gt;</span></span>
<span id="cb23-835"><a href="#cb23-835" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;!-- Sun rays --&gt;</span></span>
<span id="cb23-836"><a href="#cb23-836" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;line x1="175" y1="20" x2="100" y2="140" stroke="yellow" stroke-width="3" marker-end="url(#arrow)"/&gt;</span></span>
<span id="cb23-837"><a href="#cb23-837" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;line x1="175" y1="20" x2="250" y2="140" stroke="yellow" stroke-width="3"/&gt;</span></span>
<span id="cb23-838"><a href="#cb23-838" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;!-- Reflected rays from ice --&gt;</span></span>
<span id="cb23-839"><a href="#cb23-839" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;line x1="100" y1="140" x2="50" y2="60" stroke="yellow" stroke-width="2" stroke-dasharray="5,5" opacity="${iceExtent/100}"/&gt;</span></span>
<span id="cb23-840"><a href="#cb23-840" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;!-- Labels --&gt;</span></span>
<span id="cb23-841"><a href="#cb23-841" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;text x="50" y="200" fill="white" font-size="12"&gt;Ice: ${iceExtent}%&lt;/text&gt;</span></span>
<span id="cb23-842"><a href="#cb23-842" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;text x="250" y="200" fill="white" font-size="12"&gt;Ocean: ${100-iceExtent}%&lt;/text&gt;</span></span>
<span id="cb23-843"><a href="#cb23-843" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/svg&gt;</span></span>
<span id="cb23-844"><a href="#cb23-844" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/div&gt;</span></span>
<span id="cb23-845"><a href="#cb23-845" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;div style="flex: 1; min-width: 250px; padding: 20px; background: #f5f5f5; border-radius: 10px;"&gt;</span></span>
<span id="cb23-846"><a href="#cb23-846" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;h4 style="margin-top: 0;"&gt;Energy Balance&lt;/h4&gt;</span></span>
<span id="cb23-847"><a href="#cb23-847" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;p&gt;&lt;strong&gt;Average Albedo:&lt;/strong&gt; ${(avgAlbedo * 100).toFixed(1)}%&lt;/p&gt;</span></span>
<span id="cb23-848"><a href="#cb23-848" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;p&gt;&lt;strong&gt;Energy Reflected:&lt;/strong&gt; ${reflectedEnergy}%&lt;/p&gt;</span></span>
<span id="cb23-849"><a href="#cb23-849" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;p&gt;&lt;strong&gt;Energy Absorbed:&lt;/strong&gt; ${absorbedEnergy}%&lt;/p&gt;</span></span>
<span id="cb23-850"><a href="#cb23-850" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;div style="margin-top: 15px; padding: 10px; background: ${iceExtent &lt; 30 ? '#ffcdd2' : iceExtent &gt; 70 ? '#c8e6c9' : '#fff9c4'}; border-radius: 5px;"&gt;</span></span>
<span id="cb23-851"><a href="#cb23-851" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;strong&gt;Effect:&lt;/strong&gt; ${iceExtent &lt; 30 ? 'üî• High absorption ‚Üí More warming ‚Üí More ice melts' : iceExtent &gt; 70 ? '‚ùÑÔ∏è High reflection ‚Üí Less warming ‚Üí Ice preserved' : '‚öñÔ∏è Moderate balance'}</span></span>
<span id="cb23-852"><a href="#cb23-852" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/div&gt;</span></span>
<span id="cb23-853"><a href="#cb23-853" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/div&gt;</span></span>
<span id="cb23-854"><a href="#cb23-854" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/div&gt;</span></span>
<span id="cb23-855"><a href="#cb23-855" aria-hidden="true" tabindex="-1"></a><span class="in">`</span></span>
<span id="cb23-856"><a href="#cb23-856" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-857"><a href="#cb23-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-858"><a href="#cb23-858" aria-hidden="true" tabindex="-1"></a>::: {.lab-activity}</span>
<span id="cb23-859"><a href="#cb23-859" aria-hidden="true" tabindex="-1"></a><span class="fu">## üî¨ Lab Activity: Albedo Investigation</span></span>
<span id="cb23-860"><a href="#cb23-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-861"><a href="#cb23-861" aria-hidden="true" tabindex="-1"></a><span class="fu">### Materials:</span></span>
<span id="cb23-862"><a href="#cb23-862" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Two identical containers with lids</span>
<span id="cb23-863"><a href="#cb23-863" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Black paper and white paper</span>
<span id="cb23-864"><a href="#cb23-864" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Two thermometers</span>
<span id="cb23-865"><a href="#cb23-865" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Heat lamp or sunny window</span>
<span id="cb23-866"><a href="#cb23-866" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Timer</span>
<span id="cb23-867"><a href="#cb23-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-868"><a href="#cb23-868" aria-hidden="true" tabindex="-1"></a><span class="fu">### Procedure:</span></span>
<span id="cb23-869"><a href="#cb23-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-870"><a href="#cb23-870" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Setup:**</span>
<span id="cb23-871"><a href="#cb23-871" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Line one container with black paper (low albedo)</span>
<span id="cb23-872"><a href="#cb23-872" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Line the other with white paper (high albedo)</span>
<span id="cb23-873"><a href="#cb23-873" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Place a thermometer in each container</span>
<span id="cb23-874"><a href="#cb23-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-875"><a href="#cb23-875" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Data Collection:**</span>
<span id="cb23-876"><a href="#cb23-876" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Record starting temperatures</span>
<span id="cb23-877"><a href="#cb23-877" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Place both containers under heat lamp or in direct sunlight</span>
<span id="cb23-878"><a href="#cb23-878" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Record temperatures every 2 minutes for 20 minutes</span>
<span id="cb23-879"><a href="#cb23-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-880"><a href="#cb23-880" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Data Table:**</span>
<span id="cb23-881"><a href="#cb23-881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-882"><a href="#cb23-882" aria-hidden="true" tabindex="-1"></a>| Time (min) | Black Container (¬∞C) | White Container (¬∞C) | Difference (¬∞C) |</span>
<span id="cb23-883"><a href="#cb23-883" aria-hidden="true" tabindex="-1"></a>|------------|---------------------|---------------------|-----------------|</span>
<span id="cb23-884"><a href="#cb23-884" aria-hidden="true" tabindex="-1"></a>| 0 | | | |</span>
<span id="cb23-885"><a href="#cb23-885" aria-hidden="true" tabindex="-1"></a>| 2 | | | |</span>
<span id="cb23-886"><a href="#cb23-886" aria-hidden="true" tabindex="-1"></a>| 4 | | | |</span>
<span id="cb23-887"><a href="#cb23-887" aria-hidden="true" tabindex="-1"></a>| 6 | | | |</span>
<span id="cb23-888"><a href="#cb23-888" aria-hidden="true" tabindex="-1"></a>| 8 | | | |</span>
<span id="cb23-889"><a href="#cb23-889" aria-hidden="true" tabindex="-1"></a>| 10 | | | |</span>
<span id="cb23-890"><a href="#cb23-890" aria-hidden="true" tabindex="-1"></a>| 12 | | | |</span>
<span id="cb23-891"><a href="#cb23-891" aria-hidden="true" tabindex="-1"></a>| 14 | | | |</span>
<span id="cb23-892"><a href="#cb23-892" aria-hidden="true" tabindex="-1"></a>| 16 | | | |</span>
<span id="cb23-893"><a href="#cb23-893" aria-hidden="true" tabindex="-1"></a>| 18 | | | |</span>
<span id="cb23-894"><a href="#cb23-894" aria-hidden="true" tabindex="-1"></a>| 20 | | | |</span>
<span id="cb23-895"><a href="#cb23-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-896"><a href="#cb23-896" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Analysis Questions:**</span>
<span id="cb23-897"><a href="#cb23-897" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Which container heated up faster? Why?</span>
<span id="cb23-898"><a href="#cb23-898" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>How does this relate to ice-covered vs. ice-free Arctic?</span>
<span id="cb23-899"><a href="#cb23-899" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Predict what happens as Arctic ice melts.</span>
<span id="cb23-900"><a href="#cb23-900" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-901"><a href="#cb23-901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-902"><a href="#cb23-902" aria-hidden="true" tabindex="-1"></a><span class="in">``` {python}</span></span>
<span id="cb23-903"><a href="#cb23-903" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-pbs-glacier-comparison</span></span>
<span id="cb23-904"><a href="#cb23-904" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-cap: "Interactive glacier photo comparison showing dramatic glacial retreat over time. Drag the slider to compare images. (Source: PBS LearningMedia)"</span></span>
<span id="cb23-905"><a href="#cb23-905" aria-hidden="true" tabindex="-1"></a><span class="in">#| echo: false</span></span>
<span id="cb23-906"><a href="#cb23-906" aria-hidden="true" tabindex="-1"></a><span class="in">#| warning: false</span></span>
<span id="cb23-907"><a href="#cb23-907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-908"><a href="#cb23-908" aria-hidden="true" tabindex="-1"></a><span class="in">from IPython.display import HTML, display</span></span>
<span id="cb23-909"><a href="#cb23-909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-910"><a href="#cb23-910" aria-hidden="true" tabindex="-1"></a><span class="in">html_code = """</span></span>
<span id="cb23-911"><a href="#cb23-911" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb23-912"><a href="#cb23-912" aria-hidden="true" tabindex="-1"></a><span class="in">  .pbs-launch-card {</span></span>
<span id="cb23-913"><a href="#cb23-913" aria-hidden="true" tabindex="-1"></a><span class="in">    max-width: 920px;</span></span>
<span id="cb23-914"><a href="#cb23-914" aria-hidden="true" tabindex="-1"></a><span class="in">    margin: 20px auto;</span></span>
<span id="cb23-915"><a href="#cb23-915" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-916"><a href="#cb23-916" aria-hidden="true" tabindex="-1"></a><span class="in">  .pbs-card {</span></span>
<span id="cb23-917"><a href="#cb23-917" aria-hidden="true" tabindex="-1"></a><span class="in">    display: block;</span></span>
<span id="cb23-918"><a href="#cb23-918" aria-hidden="true" tabindex="-1"></a><span class="in">    border-radius: 14px;</span></span>
<span id="cb23-919"><a href="#cb23-919" aria-hidden="true" tabindex="-1"></a><span class="in">    border: 1px solid rgba(0,0,0,.12);</span></span>
<span id="cb23-920"><a href="#cb23-920" aria-hidden="true" tabindex="-1"></a><span class="in">    background: #fff;</span></span>
<span id="cb23-921"><a href="#cb23-921" aria-hidden="true" tabindex="-1"></a><span class="in">    overflow: hidden;</span></span>
<span id="cb23-922"><a href="#cb23-922" aria-hidden="true" tabindex="-1"></a><span class="in">    text-decoration: none;</span></span>
<span id="cb23-923"><a href="#cb23-923" aria-hidden="true" tabindex="-1"></a><span class="in">    box-shadow: 0 10px 30px rgba(0,0,0,.10);</span></span>
<span id="cb23-924"><a href="#cb23-924" aria-hidden="true" tabindex="-1"></a><span class="in">    transition: transform .15s ease, box-shadow .15s ease;</span></span>
<span id="cb23-925"><a href="#cb23-925" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-926"><a href="#cb23-926" aria-hidden="true" tabindex="-1"></a><span class="in">  .pbs-card:hover {</span></span>
<span id="cb23-927"><a href="#cb23-927" aria-hidden="true" tabindex="-1"></a><span class="in">    transform: translateY(-2px);</span></span>
<span id="cb23-928"><a href="#cb23-928" aria-hidden="true" tabindex="-1"></a><span class="in">    box-shadow: 0 16px 44px rgba(0,0,0,.14);</span></span>
<span id="cb23-929"><a href="#cb23-929" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-930"><a href="#cb23-930" aria-hidden="true" tabindex="-1"></a><span class="in">  .pbs-card svg {</span></span>
<span id="cb23-931"><a href="#cb23-931" aria-hidden="true" tabindex="-1"></a><span class="in">    width: 100%;</span></span>
<span id="cb23-932"><a href="#cb23-932" aria-hidden="true" tabindex="-1"></a><span class="in">    height: auto;</span></span>
<span id="cb23-933"><a href="#cb23-933" aria-hidden="true" tabindex="-1"></a><span class="in">    display: block;</span></span>
<span id="cb23-934"><a href="#cb23-934" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-935"><a href="#cb23-935" aria-hidden="true" tabindex="-1"></a><span class="in">  .pbs-actions {</span></span>
<span id="cb23-936"><a href="#cb23-936" aria-hidden="true" tabindex="-1"></a><span class="in">    display: flex;</span></span>
<span id="cb23-937"><a href="#cb23-937" aria-hidden="true" tabindex="-1"></a><span class="in">    gap: 10px;</span></span>
<span id="cb23-938"><a href="#cb23-938" aria-hidden="true" tabindex="-1"></a><span class="in">    align-items: center;</span></span>
<span id="cb23-939"><a href="#cb23-939" aria-hidden="true" tabindex="-1"></a><span class="in">    justify-content: center;</span></span>
<span id="cb23-940"><a href="#cb23-940" aria-hidden="true" tabindex="-1"></a><span class="in">    margin-top: 12px;</span></span>
<span id="cb23-941"><a href="#cb23-941" aria-hidden="true" tabindex="-1"></a><span class="in">    flex-wrap: wrap;</span></span>
<span id="cb23-942"><a href="#cb23-942" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-943"><a href="#cb23-943" aria-hidden="true" tabindex="-1"></a><span class="in">  .pbs-btn {</span></span>
<span id="cb23-944"><a href="#cb23-944" aria-hidden="true" tabindex="-1"></a><span class="in">    display: inline-block;</span></span>
<span id="cb23-945"><a href="#cb23-945" aria-hidden="true" tabindex="-1"></a><span class="in">    background: #0277bd;</span></span>
<span id="cb23-946"><a href="#cb23-946" aria-hidden="true" tabindex="-1"></a><span class="in">    color: #fff;</span></span>
<span id="cb23-947"><a href="#cb23-947" aria-hidden="true" tabindex="-1"></a><span class="in">    padding: 10px 14px;</span></span>
<span id="cb23-948"><a href="#cb23-948" aria-hidden="true" tabindex="-1"></a><span class="in">    border-radius: 999px;</span></span>
<span id="cb23-949"><a href="#cb23-949" aria-hidden="true" tabindex="-1"></a><span class="in">    font-weight: 700;</span></span>
<span id="cb23-950"><a href="#cb23-950" aria-hidden="true" tabindex="-1"></a><span class="in">    text-decoration: none;</span></span>
<span id="cb23-951"><a href="#cb23-951" aria-hidden="true" tabindex="-1"></a><span class="in">    font-size: 14px;</span></span>
<span id="cb23-952"><a href="#cb23-952" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-953"><a href="#cb23-953" aria-hidden="true" tabindex="-1"></a><span class="in">  .pbs-btn:hover { filter: brightness(0.95); }</span></span>
<span id="cb23-954"><a href="#cb23-954" aria-hidden="true" tabindex="-1"></a><span class="in">  .pbs-note {</span></span>
<span id="cb23-955"><a href="#cb23-955" aria-hidden="true" tabindex="-1"></a><span class="in">    margin-top: 10px;</span></span>
<span id="cb23-956"><a href="#cb23-956" aria-hidden="true" tabindex="-1"></a><span class="in">    font-size: 12px;</span></span>
<span id="cb23-957"><a href="#cb23-957" aria-hidden="true" tabindex="-1"></a><span class="in">    color: #666;</span></span>
<span id="cb23-958"><a href="#cb23-958" aria-hidden="true" tabindex="-1"></a><span class="in">    line-height: 1.4;</span></span>
<span id="cb23-959"><a href="#cb23-959" aria-hidden="true" tabindex="-1"></a><span class="in">    text-align: center;</span></span>
<span id="cb23-960"><a href="#cb23-960" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-961"><a href="#cb23-961" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb23-962"><a href="#cb23-962" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-963"><a href="#cb23-963" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;div class="pbs-launch-card"&gt;</span></span>
<span id="cb23-964"><a href="#cb23-964" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;a class="pbs-card" href="https://ny.pbslearningmedia.org/resource/ipy07.sci.ess.earthsys.glacierphoto/documenting-glacial-change/" target="_blank" rel="noopener"&gt;</span></span>
<span id="cb23-965"><a href="#cb23-965" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;svg viewBox="0 0 1200 675" role="img" aria-label="Launch PBS LearningMedia glacier comparison interactive"&gt;</span></span>
<span id="cb23-966"><a href="#cb23-966" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;defs&gt;</span></span>
<span id="cb23-967"><a href="#cb23-967" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;linearGradient id="pbsbg" x1="0" x2="1" y1="0" y2="1"&gt;</span></span>
<span id="cb23-968"><a href="#cb23-968" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;stop offset="0" stop-color="#0288d1"/&gt;</span></span>
<span id="cb23-969"><a href="#cb23-969" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;stop offset="1" stop-color="#0d47a1"/&gt;</span></span>
<span id="cb23-970"><a href="#cb23-970" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/linearGradient&gt;</span></span>
<span id="cb23-971"><a href="#cb23-971" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;linearGradient id="pbsglow" x1="0" x2="0" y1="0" y2="1"&gt;</span></span>
<span id="cb23-972"><a href="#cb23-972" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;stop offset="0" stop-color="#ffffff" stop-opacity=".95"/&gt;</span></span>
<span id="cb23-973"><a href="#cb23-973" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;stop offset="1" stop-color="#ffffff" stop-opacity=".75"/&gt;</span></span>
<span id="cb23-974"><a href="#cb23-974" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/linearGradient&gt;</span></span>
<span id="cb23-975"><a href="#cb23-975" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;filter id="pbsshadow" x="-20%" y="-20%" width="140%" height="140%"&gt;</span></span>
<span id="cb23-976"><a href="#cb23-976" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;feDropShadow dx="0" dy="12" stdDeviation="18" flood-color="#000" flood-opacity=".28"/&gt;</span></span>
<span id="cb23-977"><a href="#cb23-977" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/filter&gt;</span></span>
<span id="cb23-978"><a href="#cb23-978" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/defs&gt;</span></span>
<span id="cb23-979"><a href="#cb23-979" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-980"><a href="#cb23-980" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;rect width="1200" height="675" fill="url(#pbsbg)"/&gt;</span></span>
<span id="cb23-981"><a href="#cb23-981" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb23-982"><a href="#cb23-982" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;!-- Mountain/glacier shapes --&gt;</span></span>
<span id="cb23-983"><a href="#cb23-983" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;path d="M0 300 L200 150 L350 250 L500 120 L700 200 L900 100 L1200 250 L1200 675 L0 675 Z" fill="#e1f5fe" opacity=".85"/&gt;</span></span>
<span id="cb23-984"><a href="#cb23-984" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;path d="M0 400 L150 280 L400 350 L600 250 L850 320 L1200 280 L1200 675 L0 675 Z" fill="#b3e5fc" opacity=".75"/&gt;</span></span>
<span id="cb23-985"><a href="#cb23-985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-986"><a href="#cb23-986" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;!-- Ice/snow highlights --&gt;</span></span>
<span id="cb23-987"><a href="#cb23-987" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;circle cx="500" cy="120" r="60" fill="#ffffff" opacity=".6"/&gt;</span></span>
<span id="cb23-988"><a href="#cb23-988" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;circle cx="900" cy="100" r="70" fill="#ffffff" opacity=".5"/&gt;</span></span>
<span id="cb23-989"><a href="#cb23-989" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-990"><a href="#cb23-990" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;g filter="url(#pbsshadow)"&gt;</span></span>
<span id="cb23-991"><a href="#cb23-991" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;rect x="90" y="180" width="1020" height="340" rx="24" fill="url(#pbsglow)"/&gt;</span></span>
<span id="cb23-992"><a href="#cb23-992" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/g&gt;</span></span>
<span id="cb23-993"><a href="#cb23-993" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-994"><a href="#cb23-994" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;text x="140" y="260" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="44" font-weight="800" fill="#0b1220"&gt;</span></span>
<span id="cb23-995"><a href="#cb23-995" aria-hidden="true" tabindex="-1"></a><span class="in">        PBS LearningMedia: Glacier Photos</span></span>
<span id="cb23-996"><a href="#cb23-996" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/text&gt;</span></span>
<span id="cb23-997"><a href="#cb23-997" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;text x="140" y="312" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="26" font-weight="600" fill="#0b1220" opacity=".82"&gt;</span></span>
<span id="cb23-998"><a href="#cb23-998" aria-hidden="true" tabindex="-1"></a><span class="in">        Interactive slider comparing glacier retreat over time</span></span>
<span id="cb23-999"><a href="#cb23-999" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/text&gt;</span></span>
<span id="cb23-1000"><a href="#cb23-1000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1001"><a href="#cb23-1001" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;g transform="translate(140 360)"&gt;</span></span>
<span id="cb23-1002"><a href="#cb23-1002" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;rect x="0" y="0" width="420" height="86" rx="43" fill="#0277bd"/&gt;</span></span>
<span id="cb23-1003"><a href="#cb23-1003" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;polygon points="64,22 64,64 102,43" fill="#fff"/&gt;</span></span>
<span id="cb23-1004"><a href="#cb23-1004" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;text x="130" y="55" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="28" font-weight="800" fill="#fff"&gt;</span></span>
<span id="cb23-1005"><a href="#cb23-1005" aria-hidden="true" tabindex="-1"></a><span class="in">          Open Interactive</span></span>
<span id="cb23-1006"><a href="#cb23-1006" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/text&gt;</span></span>
<span id="cb23-1007"><a href="#cb23-1007" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/g&gt;</span></span>
<span id="cb23-1008"><a href="#cb23-1008" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1009"><a href="#cb23-1009" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;text x="90" y="610" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="18" fill="#fff" opacity=".88"&gt;</span></span>
<span id="cb23-1010"><a href="#cb23-1010" aria-hidden="true" tabindex="-1"></a><span class="in">        Click to launch PBS resource (opens in new tab)</span></span>
<span id="cb23-1011"><a href="#cb23-1011" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/text&gt;</span></span>
<span id="cb23-1012"><a href="#cb23-1012" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/svg&gt;</span></span>
<span id="cb23-1013"><a href="#cb23-1013" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/a&gt;</span></span>
<span id="cb23-1014"><a href="#cb23-1014" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1015"><a href="#cb23-1015" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;div class="pbs-actions"&gt;</span></span>
<span id="cb23-1016"><a href="#cb23-1016" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;a class="pbs-btn" href="https://ny.pbslearningmedia.org/resource/ipy07.sci.ess.earthsys.glacierphoto/documenting-glacial-change/" target="_blank" rel="noopener"&gt;Launch PBS Glacier Interactive&lt;/a&gt;</span></span>
<span id="cb23-1017"><a href="#cb23-1017" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/div&gt;</span></span>
<span id="cb23-1018"><a href="#cb23-1018" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1019"><a href="#cb23-1019" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;p class="pbs-note"&gt;</span></span>
<span id="cb23-1020"><a href="#cb23-1020" aria-hidden="true" tabindex="-1"></a><span class="in">    PBS LearningMedia resources work best when opened in a new browser tab. If blocked, check your school network settings.</span></span>
<span id="cb23-1021"><a href="#cb23-1021" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/p&gt;</span></span>
<span id="cb23-1022"><a href="#cb23-1022" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/div&gt;</span></span>
<span id="cb23-1023"><a href="#cb23-1023" aria-hidden="true" tabindex="-1"></a><span class="in">"""</span></span>
<span id="cb23-1024"><a href="#cb23-1024" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1025"><a href="#cb23-1025" aria-hidden="true" tabindex="-1"></a><span class="in">display(HTML(html_code))</span></span>
<span id="cb23-1026"><a href="#cb23-1026" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1027"><a href="#cb23-1027" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1028"><a href="#cb23-1028" aria-hidden="true" tabindex="-1"></a><span class="fu"># Explain Part 1: CO‚ÇÇ‚ÄìTemperature Connection</span></span>
<span id="cb23-1029"><a href="#cb23-1029" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1030"><a href="#cb23-1030" aria-hidden="true" tabindex="-1"></a>How are atmospheric carbon dioxide levels and temperatures related? Construct an explanation using evidence from the simulation, ice core data, and text, describing how human activities have increased greenhouse gas levels and how that drives warming.</span>
<span id="cb23-1031"><a href="#cb23-1031" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1032"><a href="#cb23-1032" aria-hidden="true" tabindex="-1"></a><span class="fu"># Explain Part 2: Feedback Loops in the Climate System</span></span>
<span id="cb23-1033"><a href="#cb23-1033" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1034"><a href="#cb23-1034" aria-hidden="true" tabindex="-1"></a>::: {.explain-box}</span>
<span id="cb23-1035"><a href="#cb23-1035" aria-hidden="true" tabindex="-1"></a><span class="fu">## üîÑ Understanding Climate Feedbacks</span></span>
<span id="cb23-1036"><a href="#cb23-1036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1037"><a href="#cb23-1037" aria-hidden="true" tabindex="-1"></a>A **feedback loop** occurs when the output of a system affects its input, creating a cycle.</span>
<span id="cb23-1038"><a href="#cb23-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1039"><a href="#cb23-1039" aria-hidden="true" tabindex="-1"></a><span class="fu">### Positive Feedback (Amplifying)</span></span>
<span id="cb23-1040"><a href="#cb23-1040" aria-hidden="true" tabindex="-1"></a>Makes changes BIGGER - the system amplifies itself</span>
<span id="cb23-1041"><a href="#cb23-1041" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1042"><a href="#cb23-1042" aria-hidden="true" tabindex="-1"></a><span class="fu">### Negative Feedback (Stabilizing)  </span></span>
<span id="cb23-1043"><a href="#cb23-1043" aria-hidden="true" tabindex="-1"></a>Makes changes SMALLER - the system stabilizes itself</span>
<span id="cb23-1044"><a href="#cb23-1044" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-1045"><a href="#cb23-1045" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1046"><a href="#cb23-1046" aria-hidden="true" tabindex="-1"></a><span class="fu">## Interactive Feedback Loop Diagram</span></span>
<span id="cb23-1047"><a href="#cb23-1047" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1050"><a href="#cb23-1050" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1051"><a href="#cb23-1051" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1052"><a href="#cb23-1052" aria-hidden="true" tabindex="-1"></a><span class="in">viewof feedbackTypeSimple = Inputs.radio(["Ice-Albedo Feedback", "Water Vapor Feedback", "Permafrost Feedback"], {</span></span>
<span id="cb23-1053"><a href="#cb23-1053" aria-hidden="true" tabindex="-1"></a><span class="in">  label: "Select feedback loop:",</span></span>
<span id="cb23-1054"><a href="#cb23-1054" aria-hidden="true" tabindex="-1"></a><span class="in">  value: "Ice-Albedo Feedback"</span></span>
<span id="cb23-1055"><a href="#cb23-1055" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb23-1056"><a href="#cb23-1056" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1057"><a href="#cb23-1057" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1060"><a href="#cb23-1060" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1061"><a href="#cb23-1061" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1062"><a href="#cb23-1062" aria-hidden="true" tabindex="-1"></a><span class="in">feedbackInfo = {</span></span>
<span id="cb23-1063"><a href="#cb23-1063" aria-hidden="true" tabindex="-1"></a><span class="in">  if (feedbackTypeSimple === "Ice-Albedo Feedback") {</span></span>
<span id="cb23-1064"><a href="#cb23-1064" aria-hidden="true" tabindex="-1"></a><span class="in">    return {</span></span>
<span id="cb23-1065"><a href="#cb23-1065" aria-hidden="true" tabindex="-1"></a><span class="in">      steps: [</span></span>
<span id="cb23-1066"><a href="#cb23-1066" aria-hidden="true" tabindex="-1"></a><span class="in">        "1. Temperature increases",</span></span>
<span id="cb23-1067"><a href="#cb23-1067" aria-hidden="true" tabindex="-1"></a><span class="in">        "2. Ice and snow melt",</span></span>
<span id="cb23-1068"><a href="#cb23-1068" aria-hidden="true" tabindex="-1"></a><span class="in">        "3. Darker ocean/land exposed",</span></span>
<span id="cb23-1069"><a href="#cb23-1069" aria-hidden="true" tabindex="-1"></a><span class="in">        "4. More solar radiation absorbed",</span></span>
<span id="cb23-1070"><a href="#cb23-1070" aria-hidden="true" tabindex="-1"></a><span class="in">        "5. Temperature increases MORE"</span></span>
<span id="cb23-1071"><a href="#cb23-1071" aria-hidden="true" tabindex="-1"></a><span class="in">      ],</span></span>
<span id="cb23-1072"><a href="#cb23-1072" aria-hidden="true" tabindex="-1"></a><span class="in">      color: "#3498db",</span></span>
<span id="cb23-1073"><a href="#cb23-1073" aria-hidden="true" tabindex="-1"></a><span class="in">      icon: "üßä"</span></span>
<span id="cb23-1074"><a href="#cb23-1074" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-1075"><a href="#cb23-1075" aria-hidden="true" tabindex="-1"></a><span class="in">  } else if (feedbackTypeSimple === "Water Vapor Feedback") {</span></span>
<span id="cb23-1076"><a href="#cb23-1076" aria-hidden="true" tabindex="-1"></a><span class="in">    return {</span></span>
<span id="cb23-1077"><a href="#cb23-1077" aria-hidden="true" tabindex="-1"></a><span class="in">      steps: [</span></span>
<span id="cb23-1078"><a href="#cb23-1078" aria-hidden="true" tabindex="-1"></a><span class="in">        "1. Temperature increases",</span></span>
<span id="cb23-1079"><a href="#cb23-1079" aria-hidden="true" tabindex="-1"></a><span class="in">        "2. More water evaporates",</span></span>
<span id="cb23-1080"><a href="#cb23-1080" aria-hidden="true" tabindex="-1"></a><span class="in">        "3. Water vapor is a greenhouse gas",</span></span>
<span id="cb23-1081"><a href="#cb23-1081" aria-hidden="true" tabindex="-1"></a><span class="in">        "4. More heat trapped in atmosphere",</span></span>
<span id="cb23-1082"><a href="#cb23-1082" aria-hidden="true" tabindex="-1"></a><span class="in">        "5. Temperature increases MORE"</span></span>
<span id="cb23-1083"><a href="#cb23-1083" aria-hidden="true" tabindex="-1"></a><span class="in">      ],</span></span>
<span id="cb23-1084"><a href="#cb23-1084" aria-hidden="true" tabindex="-1"></a><span class="in">      color: "#9b59b6",</span></span>
<span id="cb23-1085"><a href="#cb23-1085" aria-hidden="true" tabindex="-1"></a><span class="in">      icon: "üí®"</span></span>
<span id="cb23-1086"><a href="#cb23-1086" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-1087"><a href="#cb23-1087" aria-hidden="true" tabindex="-1"></a><span class="in">  } else {</span></span>
<span id="cb23-1088"><a href="#cb23-1088" aria-hidden="true" tabindex="-1"></a><span class="in">    return {</span></span>
<span id="cb23-1089"><a href="#cb23-1089" aria-hidden="true" tabindex="-1"></a><span class="in">      steps: [</span></span>
<span id="cb23-1090"><a href="#cb23-1090" aria-hidden="true" tabindex="-1"></a><span class="in">        "1. Temperature increases",</span></span>
<span id="cb23-1091"><a href="#cb23-1091" aria-hidden="true" tabindex="-1"></a><span class="in">        "2. Permafrost thaws",</span></span>
<span id="cb23-1092"><a href="#cb23-1092" aria-hidden="true" tabindex="-1"></a><span class="in">        "3. Trapped methane/CO‚ÇÇ released",</span></span>
<span id="cb23-1093"><a href="#cb23-1093" aria-hidden="true" tabindex="-1"></a><span class="in">        "4. More greenhouse gases in atmosphere",</span></span>
<span id="cb23-1094"><a href="#cb23-1094" aria-hidden="true" tabindex="-1"></a><span class="in">        "5. Temperature increases MORE"</span></span>
<span id="cb23-1095"><a href="#cb23-1095" aria-hidden="true" tabindex="-1"></a><span class="in">      ],</span></span>
<span id="cb23-1096"><a href="#cb23-1096" aria-hidden="true" tabindex="-1"></a><span class="in">      color: "#e67e22",</span></span>
<span id="cb23-1097"><a href="#cb23-1097" aria-hidden="true" tabindex="-1"></a><span class="in">      icon: "üèîÔ∏è"</span></span>
<span id="cb23-1098"><a href="#cb23-1098" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-1099"><a href="#cb23-1099" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-1100"><a href="#cb23-1100" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb23-1101"><a href="#cb23-1101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1102"><a href="#cb23-1102" aria-hidden="true" tabindex="-1"></a><span class="in">html`</span></span>
<span id="cb23-1103"><a href="#cb23-1103" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;div style="background: linear-gradient(135deg, ${feedbackInfo.color}22, ${feedbackInfo.color}44); padding: 25px; border-radius: 15px; border-left: 5px solid ${feedbackInfo.color};"&gt;</span></span>
<span id="cb23-1104"><a href="#cb23-1104" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;h3 style="margin-top: 0;"&gt;${feedbackInfo.icon} ${feedbackType}&lt;/h3&gt;</span></span>
<span id="cb23-1105"><a href="#cb23-1105" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;div style="display: flex; flex-direction: column; gap: 10px;"&gt;</span></span>
<span id="cb23-1106"><a href="#cb23-1106" aria-hidden="true" tabindex="-1"></a><span class="in">    ${feedbackInfo.steps.map((step, i) =&gt; `</span></span>
<span id="cb23-1107"><a href="#cb23-1107" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;div style="display: flex; align-items: center; gap: 10px;"&gt;</span></span>
<span id="cb23-1108"><a href="#cb23-1108" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div style="width: 30px; height: 30px; background: ${feedbackInfo.color}; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;"&gt;${i+1}&lt;/div&gt;</span></span>
<span id="cb23-1109"><a href="#cb23-1109" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div style="flex: 1; padding: 10px; background: white; border-radius: 5px;"&gt;${step.substring(3)}&lt;/div&gt;</span></span>
<span id="cb23-1110"><a href="#cb23-1110" aria-hidden="true" tabindex="-1"></a><span class="in">        ${i &lt; feedbackInfo.steps.length - 1 ? '&lt;div style="font-size: 20px;"&gt;‚Üì&lt;/div&gt;' : '&lt;div style="font-size: 20px;"&gt;üîÑ&lt;/div&gt;'}</span></span>
<span id="cb23-1111"><a href="#cb23-1111" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/div&gt;</span></span>
<span id="cb23-1112"><a href="#cb23-1112" aria-hidden="true" tabindex="-1"></a><span class="in">    `).join('')}</span></span>
<span id="cb23-1113"><a href="#cb23-1113" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/div&gt;</span></span>
<span id="cb23-1114"><a href="#cb23-1114" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;p style="margin-top: 15px; font-style: italic;"&gt;&lt;strong&gt;Type:&lt;/strong&gt; Positive (amplifying) feedback - makes warming worse!&lt;/p&gt;</span></span>
<span id="cb23-1115"><a href="#cb23-1115" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/div&gt;</span></span>
<span id="cb23-1116"><a href="#cb23-1116" aria-hidden="true" tabindex="-1"></a><span class="in">`</span></span>
<span id="cb23-1117"><a href="#cb23-1117" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1118"><a href="#cb23-1118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1119"><a href="#cb23-1119" aria-hidden="true" tabindex="-1"></a>::: {.feedback-loop}</span>
<span id="cb23-1120"><a href="#cb23-1120" aria-hidden="true" tabindex="-1"></a><span class="fu">## üåç Why the Arctic Warms ~4x Faster</span></span>
<span id="cb23-1121"><a href="#cb23-1121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1122"><a href="#cb23-1122" aria-hidden="true" tabindex="-1"></a>The **Ice-Albedo Feedback** explains Arctic amplification:</span>
<span id="cb23-1123"><a href="#cb23-1123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1124"><a href="#cb23-1124" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Arctic starts bright**: thick ice/snow with high albedo (~60%)</span>
<span id="cb23-1125"><a href="#cb23-1125" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Warming melts ice**: exposes darker ocean/land (albedo ~6%)</span>
<span id="cb23-1126"><a href="#cb23-1126" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Energy jump**: darker surfaces absorb ~10x more solar energy</span>
<span id="cb23-1127"><a href="#cb23-1127" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Faster local warming**: extra absorbed heat accelerates melt</span>
<span id="cb23-1128"><a href="#cb23-1128" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>**Runaway loop**: more melt ‚Üí lower albedo ‚Üí more absorption</span>
<span id="cb23-1129"><a href="#cb23-1129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1130"><a href="#cb23-1130" aria-hidden="true" tabindex="-1"></a>This positive feedback is why the Arctic is the "canary in the coal mine." It also explains why Arctic warming is much higher than the global average.</span>
<span id="cb23-1131"><a href="#cb23-1131" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-1132"><a href="#cb23-1132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1133"><a href="#cb23-1133" aria-hidden="true" tabindex="-1"></a><span class="fu">## Arctic Sea Ice Decline</span></span>
<span id="cb23-1134"><a href="#cb23-1134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1137"><a href="#cb23-1137" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1138"><a href="#cb23-1138" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1139"><a href="#cb23-1139" aria-hidden="true" tabindex="-1"></a><span class="in">seaIceData = [</span></span>
<span id="cb23-1140"><a href="#cb23-1140" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1980, extent: 7.8},</span></span>
<span id="cb23-1141"><a href="#cb23-1141" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1985, extent: 7.5},</span></span>
<span id="cb23-1142"><a href="#cb23-1142" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1990, extent: 7.4},</span></span>
<span id="cb23-1143"><a href="#cb23-1143" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1995, extent: 7.1},</span></span>
<span id="cb23-1144"><a href="#cb23-1144" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2000, extent: 6.8},</span></span>
<span id="cb23-1145"><a href="#cb23-1145" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2005, extent: 6.2},</span></span>
<span id="cb23-1146"><a href="#cb23-1146" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2007, extent: 4.3},</span></span>
<span id="cb23-1147"><a href="#cb23-1147" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2010, extent: 5.0},</span></span>
<span id="cb23-1148"><a href="#cb23-1148" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2012, extent: 3.6},</span></span>
<span id="cb23-1149"><a href="#cb23-1149" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2015, extent: 4.6},</span></span>
<span id="cb23-1150"><a href="#cb23-1150" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2020, extent: 3.9},</span></span>
<span id="cb23-1151"><a href="#cb23-1151" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2024, extent: 4.2}</span></span>
<span id="cb23-1152"><a href="#cb23-1152" aria-hidden="true" tabindex="-1"></a><span class="in">]</span></span>
<span id="cb23-1153"><a href="#cb23-1153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1154"><a href="#cb23-1154" aria-hidden="true" tabindex="-1"></a><span class="in">Plot.plot({</span></span>
<span id="cb23-1155"><a href="#cb23-1155" aria-hidden="true" tabindex="-1"></a><span class="in">  title: "September Arctic Sea Ice Extent",</span></span>
<span id="cb23-1156"><a href="#cb23-1156" aria-hidden="true" tabindex="-1"></a><span class="in">  subtitle: "Million square kilometers",</span></span>
<span id="cb23-1157"><a href="#cb23-1157" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 700,</span></span>
<span id="cb23-1158"><a href="#cb23-1158" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 400,</span></span>
<span id="cb23-1159"><a href="#cb23-1159" aria-hidden="true" tabindex="-1"></a><span class="in">  x: {label: "Year"},</span></span>
<span id="cb23-1160"><a href="#cb23-1160" aria-hidden="true" tabindex="-1"></a><span class="in">  y: {label: "Sea Ice Extent (million km¬≤)", domain: [0, 9]},</span></span>
<span id="cb23-1161"><a href="#cb23-1161" aria-hidden="true" tabindex="-1"></a><span class="in">  marks: [</span></span>
<span id="cb23-1162"><a href="#cb23-1162" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.areaY(seaIceData, {x: "year", y: "extent", fill: "#81d4fa", fillOpacity: 0.5,</span></span>
<span id="cb23-1163"><a href="#cb23-1163" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-1164"><a href="#cb23-1164" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.line(seaIceData, {x: "year", y: "extent", stroke: "#0277bd", strokeWidth: 3,</span></span>
<span id="cb23-1165"><a href="#cb23-1165" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-1166"><a href="#cb23-1166" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.dot(seaIceData, {x: "year", y: "extent", fill: "#01579b", r: 5,</span></span>
<span id="cb23-1167"><a href="#cb23-1167" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-1168"><a href="#cb23-1168" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.dot(seaIceData.filter(d =&gt; d.year === 2012), {x: "year", y: "extent", fill: "#e74c3c", r: 8,</span></span>
<span id="cb23-1169"><a href="#cb23-1169" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-1170"><a href="#cb23-1170" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text(seaIceData.filter(d =&gt; d.year === 2012), {x: "year", y: "extent", text: d =&gt; "Record Low: 2012", dy: -15, fill: "#e74c3c", fontSize: 11}),</span></span>
<span id="cb23-1171"><a href="#cb23-1171" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.linearRegressionY(seaIceData, {x: "year", y: "extent", stroke: "#e74c3c", strokeDasharray: "5,5"})</span></span>
<span id="cb23-1172"><a href="#cb23-1172" aria-hidden="true" tabindex="-1"></a><span class="in">  ]</span></span>
<span id="cb23-1173"><a href="#cb23-1173" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb23-1174"><a href="#cb23-1174" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1175"><a href="#cb23-1175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1176"><a href="#cb23-1176" aria-hidden="true" tabindex="-1"></a>::: {.check-understanding}</span>
<span id="cb23-1177"><a href="#cb23-1177" aria-hidden="true" tabindex="-1"></a><span class="fu">### ‚úÖ Check Your Understanding</span></span>
<span id="cb23-1178"><a href="#cb23-1178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1179"><a href="#cb23-1179" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>What type of feedback is the ice-albedo feedback? (positive or negative)</span>
<span id="cb23-1180"><a href="#cb23-1180" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Why does exposing dark ocean water lead to more warming?</span>
<span id="cb23-1181"><a href="#cb23-1181" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Calculate: If ice (albedo 0.6) is replaced by ocean (albedo 0.06), how much more energy is absorbed?</span>
<span id="cb23-1182"><a href="#cb23-1182" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>How does the ice-albedo feedback help explain why the Arctic warms faster than the rest of the planet?</span>
<span id="cb23-1183"><a href="#cb23-1183" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-1184"><a href="#cb23-1184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1185"><a href="#cb23-1185" aria-hidden="true" tabindex="-1"></a><span class="fu"># Elaborate: Greenhouse Gases + Albedo Together</span></span>
<span id="cb23-1186"><a href="#cb23-1186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1187"><a href="#cb23-1187" aria-hidden="true" tabindex="-1"></a>How do greenhouse gases and albedo interact? Model the combined effects of greenhouse gas and albedo feedback loops to explain the rapid rate of change of Earth‚Äôs temperature and make claims about what could happen in the future based on historical and current evidence.</span>
<span id="cb23-1188"><a href="#cb23-1188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1189"><a href="#cb23-1189" aria-hidden="true" tabindex="-1"></a><span class="fu">## CO‚ÇÇ and Human Activity</span></span>
<span id="cb23-1190"><a href="#cb23-1190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1191"><a href="#cb23-1191" aria-hidden="true" tabindex="-1"></a><span class="fu">## Where Does the CO‚ÇÇ Come From?</span></span>
<span id="cb23-1192"><a href="#cb23-1192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1195"><a href="#cb23-1195" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1196"><a href="#cb23-1196" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1197"><a href="#cb23-1197" aria-hidden="true" tabindex="-1"></a><span class="in">co2SourcesData = [</span></span>
<span id="cb23-1198"><a href="#cb23-1198" aria-hidden="true" tabindex="-1"></a><span class="in">  {source: "Electricity &amp; Heat", emissions: 25, color: "#e74c3c"},</span></span>
<span id="cb23-1199"><a href="#cb23-1199" aria-hidden="true" tabindex="-1"></a><span class="in">  {source: "Transportation", emissions: 16, color: "#3498db"},</span></span>
<span id="cb23-1200"><a href="#cb23-1200" aria-hidden="true" tabindex="-1"></a><span class="in">  {source: "Manufacturing", emissions: 21, color: "#f39c12"},</span></span>
<span id="cb23-1201"><a href="#cb23-1201" aria-hidden="true" tabindex="-1"></a><span class="in">  {source: "Agriculture &amp; Land Use", emissions: 24, color: "#27ae60"},</span></span>
<span id="cb23-1202"><a href="#cb23-1202" aria-hidden="true" tabindex="-1"></a><span class="in">  {source: "Buildings", emissions: 6, color: "#9b59b6"},</span></span>
<span id="cb23-1203"><a href="#cb23-1203" aria-hidden="true" tabindex="-1"></a><span class="in">  {source: "Other Energy", emissions: 8, color: "#95a5a6"}</span></span>
<span id="cb23-1204"><a href="#cb23-1204" aria-hidden="true" tabindex="-1"></a><span class="in">]</span></span>
<span id="cb23-1205"><a href="#cb23-1205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1206"><a href="#cb23-1206" aria-hidden="true" tabindex="-1"></a><span class="in">Plot.plot({</span></span>
<span id="cb23-1207"><a href="#cb23-1207" aria-hidden="true" tabindex="-1"></a><span class="in">  title: "Global Greenhouse Gas Emissions by Sector",</span></span>
<span id="cb23-1208"><a href="#cb23-1208" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 600,</span></span>
<span id="cb23-1209"><a href="#cb23-1209" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 400,</span></span>
<span id="cb23-1210"><a href="#cb23-1210" aria-hidden="true" tabindex="-1"></a><span class="in">  x: {label: "Percentage of Global Emissions"},</span></span>
<span id="cb23-1211"><a href="#cb23-1211" aria-hidden="true" tabindex="-1"></a><span class="in">  y: {label: "Sector", domain: co2SourcesData.map(d =&gt; d.source)},</span></span>
<span id="cb23-1212"><a href="#cb23-1212" aria-hidden="true" tabindex="-1"></a><span class="in">  marks: [</span></span>
<span id="cb23-1213"><a href="#cb23-1213" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.barX(co2SourcesData, {x: "emissions", y: "source", fill: "color", sort: {y: "-x"},</span></span>
<span id="cb23-1214"><a href="#cb23-1214" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-1215"><a href="#cb23-1215" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text(co2SourcesData, {x: "emissions", y: "source", text: d =&gt; d.emissions + "%", dx: 20, fontSize: 12, fontWeight: "bold"})</span></span>
<span id="cb23-1216"><a href="#cb23-1216" aria-hidden="true" tabindex="-1"></a><span class="in">  ]</span></span>
<span id="cb23-1217"><a href="#cb23-1217" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb23-1218"><a href="#cb23-1218" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1219"><a href="#cb23-1219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1220"><a href="#cb23-1220" aria-hidden="true" tabindex="-1"></a><span class="fu">## CO‚ÇÇ Growth Over Time</span></span>
<span id="cb23-1221"><a href="#cb23-1221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1224"><a href="#cb23-1224" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1225"><a href="#cb23-1225" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1226"><a href="#cb23-1226" aria-hidden="true" tabindex="-1"></a><span class="in">co2GrowthData = [</span></span>
<span id="cb23-1227"><a href="#cb23-1227" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1750, co2: 280, source: "Pre-industrial"},</span></span>
<span id="cb23-1228"><a href="#cb23-1228" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1800, co2: 283, source: "Historical"},</span></span>
<span id="cb23-1229"><a href="#cb23-1229" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1850, co2: 288, source: "Historical"},</span></span>
<span id="cb23-1230"><a href="#cb23-1230" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1900, co2: 296, source: "Historical"},</span></span>
<span id="cb23-1231"><a href="#cb23-1231" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1950, co2: 311, source: "Historical"},</span></span>
<span id="cb23-1232"><a href="#cb23-1232" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1960, co2: 317, source: "Mauna Loa"},</span></span>
<span id="cb23-1233"><a href="#cb23-1233" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1970, co2: 326, source: "Mauna Loa"},</span></span>
<span id="cb23-1234"><a href="#cb23-1234" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1980, co2: 339, source: "Mauna Loa"},</span></span>
<span id="cb23-1235"><a href="#cb23-1235" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 1990, co2: 354, source: "Mauna Loa"},</span></span>
<span id="cb23-1236"><a href="#cb23-1236" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2000, co2: 369, source: "Mauna Loa"},</span></span>
<span id="cb23-1237"><a href="#cb23-1237" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2010, co2: 390, source: "Mauna Loa"},</span></span>
<span id="cb23-1238"><a href="#cb23-1238" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2020, co2: 414, source: "Mauna Loa"},</span></span>
<span id="cb23-1239"><a href="#cb23-1239" aria-hidden="true" tabindex="-1"></a><span class="in">  {year: 2024, co2: 422, source: "Mauna Loa"}</span></span>
<span id="cb23-1240"><a href="#cb23-1240" aria-hidden="true" tabindex="-1"></a><span class="in">]</span></span>
<span id="cb23-1241"><a href="#cb23-1241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1242"><a href="#cb23-1242" aria-hidden="true" tabindex="-1"></a><span class="in">Plot.plot({</span></span>
<span id="cb23-1243"><a href="#cb23-1243" aria-hidden="true" tabindex="-1"></a><span class="in">  title: "Atmospheric CO‚ÇÇ Concentration (1750-2024)",</span></span>
<span id="cb23-1244"><a href="#cb23-1244" aria-hidden="true" tabindex="-1"></a><span class="in">  subtitle: "Parts per million (ppm)",</span></span>
<span id="cb23-1245"><a href="#cb23-1245" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 700,</span></span>
<span id="cb23-1246"><a href="#cb23-1246" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 400,</span></span>
<span id="cb23-1247"><a href="#cb23-1247" aria-hidden="true" tabindex="-1"></a><span class="in">  x: {label: "Year"},</span></span>
<span id="cb23-1248"><a href="#cb23-1248" aria-hidden="true" tabindex="-1"></a><span class="in">  y: {label: "CO‚ÇÇ (ppm)", domain: [270, 440]},</span></span>
<span id="cb23-1249"><a href="#cb23-1249" aria-hidden="true" tabindex="-1"></a><span class="in">  marks: [</span></span>
<span id="cb23-1250"><a href="#cb23-1250" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.ruleY([280], {stroke: "#27ae60", strokeDasharray: "5,5"}),</span></span>
<span id="cb23-1251"><a href="#cb23-1251" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text([{x: 1800, y: 275}], {x: "x", y: "y", text: d =&gt; "Pre-industrial level: 280 ppm", fill: "#27ae60", fontSize: 10}),</span></span>
<span id="cb23-1252"><a href="#cb23-1252" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.ruleY([350], {stroke: "#f39c12", strokeDasharray: "5,5"}),</span></span>
<span id="cb23-1253"><a href="#cb23-1253" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text([{x: 1800, y: 345}], {x: "x", y: "y", text: d =&gt; "\"Safe\" level: 350 ppm", fill: "#f39c12", fontSize: 10}),</span></span>
<span id="cb23-1254"><a href="#cb23-1254" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.line(co2GrowthData, {x: "year", y: "co2", stroke: "#e74c3c", strokeWidth: 3,</span></span>
<span id="cb23-1255"><a href="#cb23-1255" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true}),</span></span>
<span id="cb23-1256"><a href="#cb23-1256" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.dot(co2GrowthData, {x: "year", y: "co2", fill: "#c0392b", r: 4,</span></span>
<span id="cb23-1257"><a href="#cb23-1257" aria-hidden="true" tabindex="-1"></a><span class="in">        tip: true})</span></span>
<span id="cb23-1258"><a href="#cb23-1258" aria-hidden="true" tabindex="-1"></a><span class="in">  ]</span></span>
<span id="cb23-1259"><a href="#cb23-1259" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb23-1260"><a href="#cb23-1260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1261"><a href="#cb23-1261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1262"><a href="#cb23-1262" aria-hidden="true" tabindex="-1"></a>::: {.key-idea}</span>
<span id="cb23-1263"><a href="#cb23-1263" aria-hidden="true" tabindex="-1"></a><span class="fu">### üí° Key Ideas: Climate Feedbacks</span></span>
<span id="cb23-1264"><a href="#cb23-1264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1265"><a href="#cb23-1265" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**The greenhouse effect** explains why increasing CO‚ÇÇ leads to global warming</span>
<span id="cb23-1266"><a href="#cb23-1266" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Albedo** is the tendency of a surface to reflect or absorb radiation</span>
<span id="cb23-1267"><a href="#cb23-1267" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Ice has high albedo** (~60%) compared to seawater (~6%)</span>
<span id="cb23-1268"><a href="#cb23-1268" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**As ice melts, more radiation is absorbed**, causing more warming ‚Üí positive feedback</span>
<span id="cb23-1269"><a href="#cb23-1269" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>**Arctic amplification** (4x faster warming) is explained by ice-albedo feedback</span>
<span id="cb23-1270"><a href="#cb23-1270" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>**Multiple feedback loops** (ice-albedo, water vapor, permafrost) amplify climate change</span>
<span id="cb23-1271"><a href="#cb23-1271" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span>**Human activities** have dramatically increased CO‚ÇÇ levels beyond natural ranges</span>
<span id="cb23-1272"><a href="#cb23-1272" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-1273"><a href="#cb23-1273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1274"><a href="#cb23-1274" aria-hidden="true" tabindex="-1"></a><span class="fu"># Evaluate: Modeling Climate Feedbacks</span></span>
<span id="cb23-1275"><a href="#cb23-1275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1276"><a href="#cb23-1276" aria-hidden="true" tabindex="-1"></a>::: {.evaluate-box}</span>
<span id="cb23-1277"><a href="#cb23-1277" aria-hidden="true" tabindex="-1"></a><span class="fu">## üìä Performance Task Check-In</span></span>
<span id="cb23-1278"><a href="#cb23-1278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1279"><a href="#cb23-1279" aria-hidden="true" tabindex="-1"></a>Using what you've learned, you can now explain:</span>
<span id="cb23-1280"><a href="#cb23-1280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1281"><a href="#cb23-1281" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Why scientists are confident humans are causing climate change:**</span>
<span id="cb23-1282"><a href="#cb23-1282" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>CO‚ÇÇ levels are far beyond natural range (420 ppm vs. max 280 ppm)</span>
<span id="cb23-1283"><a href="#cb23-1283" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>The timing matches industrialization</span>
<span id="cb23-1284"><a href="#cb23-1284" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Natural factors (Milankovitch cycles, solar output) can't explain current warming</span>
<span id="cb23-1285"><a href="#cb23-1285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1286"><a href="#cb23-1286" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Why the Arctic is warming so fast:**</span>
<span id="cb23-1287"><a href="#cb23-1287" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Ice-albedo feedback amplifies warming</span>
<span id="cb23-1288"><a href="#cb23-1288" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>As ice melts, dark ocean absorbs more energy</span>
<span id="cb23-1289"><a href="#cb23-1289" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>This creates a self-reinforcing cycle</span>
<span id="cb23-1290"><a href="#cb23-1290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1291"><a href="#cb23-1291" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**How feedbacks make climate change worse:**</span>
<span id="cb23-1292"><a href="#cb23-1292" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Ice-albedo: melting ice ‚Üí more absorption ‚Üí more melting</span>
<span id="cb23-1293"><a href="#cb23-1293" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Water vapor: warming ‚Üí more evaporation ‚Üí more greenhouse effect</span>
<span id="cb23-1294"><a href="#cb23-1294" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Permafrost: warming ‚Üí methane release ‚Üí more warming</span>
<span id="cb23-1295"><a href="#cb23-1295" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb23-1296"><a href="#cb23-1296" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Claim with evidence:** Use data from this lesson to explain how human activities are driving destabilizing feedback loops today.</span>
<span id="cb23-1297"><a href="#cb23-1297" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-1298"><a href="#cb23-1298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1299"><a href="#cb23-1299" aria-hidden="true" tabindex="-1"></a><span class="fu">## Create Your Feedback Diagram</span></span>
<span id="cb23-1300"><a href="#cb23-1300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1301"><a href="#cb23-1301" aria-hidden="true" tabindex="-1"></a>::: {.lab-activity}</span>
<span id="cb23-1302"><a href="#cb23-1302" aria-hidden="true" tabindex="-1"></a><span class="fu">### üìù Activity: Draw Your Own Feedback Loop</span></span>
<span id="cb23-1303"><a href="#cb23-1303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1304"><a href="#cb23-1304" aria-hidden="true" tabindex="-1"></a>Create a diagram showing how multiple feedback loops interact:</span>
<span id="cb23-1305"><a href="#cb23-1305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1306"><a href="#cb23-1306" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Start with "Human emissions increase CO‚ÇÇ"</span>
<span id="cb23-1307"><a href="#cb23-1307" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Show how this leads to warming</span>
<span id="cb23-1308"><a href="#cb23-1308" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Include ice-albedo feedback</span>
<span id="cb23-1309"><a href="#cb23-1309" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Include water vapor feedback</span>
<span id="cb23-1310"><a href="#cb23-1310" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>Show how they connect and amplify each other</span>
<span id="cb23-1311"><a href="#cb23-1311" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>Indicate which parts are observed data vs. projected consequences</span>
<span id="cb23-1312"><a href="#cb23-1312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1313"><a href="#cb23-1313" aria-hidden="true" tabindex="-1"></a>**Guiding Questions:**</span>
<span id="cb23-1314"><a href="#cb23-1314" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Where do humans enter this system?</span>
<span id="cb23-1315"><a href="#cb23-1315" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Which parts of the cycle have we already observed?</span>
<span id="cb23-1316"><a href="#cb23-1316" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>What might happen if Arctic ice disappears entirely in summer?</span>
<span id="cb23-1317"><a href="#cb23-1317" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Are there any potential negative (stabilizing) feedbacks?</span>
<span id="cb23-1318"><a href="#cb23-1318" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-1319"><a href="#cb23-1319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1320"><a href="#cb23-1320" aria-hidden="true" tabindex="-1"></a><span class="fu"># Interactive Carbon Cycle Flow Diagram</span></span>
<span id="cb23-1321"><a href="#cb23-1321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1322"><a href="#cb23-1322" aria-hidden="true" tabindex="-1"></a>This visualization shows how carbon flows between Earth's major reservoirs changed after the Industrial Revolution.</span>
<span id="cb23-1323"><a href="#cb23-1323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1326"><a href="#cb23-1326" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1327"><a href="#cb23-1327" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1328"><a href="#cb23-1328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1329"><a href="#cb23-1329" aria-hidden="true" tabindex="-1"></a><span class="in">// Data for carbon reservoirs and flows</span></span>
<span id="cb23-1330"><a href="#cb23-1330" aria-hidden="true" tabindex="-1"></a><span class="in">carbonData = {</span></span>
<span id="cb23-1331"><a href="#cb23-1331" aria-hidden="true" tabindex="-1"></a><span class="in">  const preIndustrial = {</span></span>
<span id="cb23-1332"><a href="#cb23-1332" aria-hidden="true" tabindex="-1"></a><span class="in">    atmosphere: 560,</span></span>
<span id="cb23-1333"><a href="#cb23-1333" aria-hidden="true" tabindex="-1"></a><span class="in">    ocean: 38000,</span></span>
<span id="cb23-1334"><a href="#cb23-1334" aria-hidden="true" tabindex="-1"></a><span class="in">    landBiomass: 2160,</span></span>
<span id="cb23-1335"><a href="#cb23-1335" aria-hidden="true" tabindex="-1"></a><span class="in">    fossilFuels: 10000,</span></span>
<span id="cb23-1336"><a href="#cb23-1336" aria-hidden="true" tabindex="-1"></a><span class="in">    flows: [</span></span>
<span id="cb23-1337"><a href="#cb23-1337" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "ocean", to: "atmosphere", value: 90},</span></span>
<span id="cb23-1338"><a href="#cb23-1338" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "atmosphere", to: "ocean", value: 92},</span></span>
<span id="cb23-1339"><a href="#cb23-1339" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "landBiomass", to: "atmosphere", value: 60},</span></span>
<span id="cb23-1340"><a href="#cb23-1340" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "atmosphere", to: "landBiomass", value: 62},</span></span>
<span id="cb23-1341"><a href="#cb23-1341" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "fossilFuels", to: "atmosphere", value: 0}</span></span>
<span id="cb23-1342"><a href="#cb23-1342" aria-hidden="true" tabindex="-1"></a><span class="in">    ]</span></span>
<span id="cb23-1343"><a href="#cb23-1343" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb23-1344"><a href="#cb23-1344" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1345"><a href="#cb23-1345" aria-hidden="true" tabindex="-1"></a><span class="in">  const postIndustrial = {</span></span>
<span id="cb23-1346"><a href="#cb23-1346" aria-hidden="true" tabindex="-1"></a><span class="in">    atmosphere: 840,</span></span>
<span id="cb23-1347"><a href="#cb23-1347" aria-hidden="true" tabindex="-1"></a><span class="in">    ocean: 41000,</span></span>
<span id="cb23-1348"><a href="#cb23-1348" aria-hidden="true" tabindex="-1"></a><span class="in">    landBiomass: 2500,</span></span>
<span id="cb23-1349"><a href="#cb23-1349" aria-hidden="true" tabindex="-1"></a><span class="in">    fossilFuels: 9000,</span></span>
<span id="cb23-1350"><a href="#cb23-1350" aria-hidden="true" tabindex="-1"></a><span class="in">    flows: [</span></span>
<span id="cb23-1351"><a href="#cb23-1351" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "ocean", to: "atmosphere", value: 90},</span></span>
<span id="cb23-1352"><a href="#cb23-1352" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "atmosphere", to: "ocean", value: 93},</span></span>
<span id="cb23-1353"><a href="#cb23-1353" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "landBiomass", to: "atmosphere", value: 60},</span></span>
<span id="cb23-1354"><a href="#cb23-1354" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "atmosphere", to: "landBiomass", value: 63},</span></span>
<span id="cb23-1355"><a href="#cb23-1355" aria-hidden="true" tabindex="-1"></a><span class="in">      {from: "fossilFuels", to: "atmosphere", value: 9.4}</span></span>
<span id="cb23-1356"><a href="#cb23-1356" aria-hidden="true" tabindex="-1"></a><span class="in">    ]</span></span>
<span id="cb23-1357"><a href="#cb23-1357" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb23-1358"><a href="#cb23-1358" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1359"><a href="#cb23-1359" aria-hidden="true" tabindex="-1"></a><span class="in">  return {preIndustrial, postIndustrial};</span></span>
<span id="cb23-1360"><a href="#cb23-1360" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb23-1361"><a href="#cb23-1361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1362"><a href="#cb23-1362" aria-hidden="true" tabindex="-1"></a><span class="in">// Time period selector</span></span>
<span id="cb23-1363"><a href="#cb23-1363" aria-hidden="true" tabindex="-1"></a><span class="in">viewof timePeriod = Inputs.radio(</span></span>
<span id="cb23-1364"><a href="#cb23-1364" aria-hidden="true" tabindex="-1"></a><span class="in">  ["Pre-Industrial Revolution (1750)", "Post-Industrial Revolution (2020)"],</span></span>
<span id="cb23-1365"><a href="#cb23-1365" aria-hidden="true" tabindex="-1"></a><span class="in">  {value: "Pre-Industrial Revolution (1750)", label: "Time Period"}</span></span>
<span id="cb23-1366"><a href="#cb23-1366" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb23-1367"><a href="#cb23-1367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1368"><a href="#cb23-1368" aria-hidden="true" tabindex="-1"></a><span class="in">// Get current data based on selection</span></span>
<span id="cb23-1369"><a href="#cb23-1369" aria-hidden="true" tabindex="-1"></a><span class="in">currentData = timePeriod.includes("Pre-Industrial") </span></span>
<span id="cb23-1370"><a href="#cb23-1370" aria-hidden="true" tabindex="-1"></a><span class="in">  ? carbonData.preIndustrial </span></span>
<span id="cb23-1371"><a href="#cb23-1371" aria-hidden="true" tabindex="-1"></a><span class="in">  : carbonData.postIndustrial</span></span>
<span id="cb23-1372"><a href="#cb23-1372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1373"><a href="#cb23-1373" aria-hidden="true" tabindex="-1"></a><span class="in">// Calculate changes</span></span>
<span id="cb23-1374"><a href="#cb23-1374" aria-hidden="true" tabindex="-1"></a><span class="in">atmosphereChange = carbonData.postIndustrial.atmosphere - carbonData.preIndustrial.atmosphere</span></span>
<span id="cb23-1375"><a href="#cb23-1375" aria-hidden="true" tabindex="-1"></a><span class="in">fossilFuelBurned = carbonData.preIndustrial.fossilFuels - carbonData.postIndustrial.fossilFuels</span></span>
<span id="cb23-1376"><a href="#cb23-1376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1377"><a href="#cb23-1377" aria-hidden="true" tabindex="-1"></a><span class="in">// Visualization</span></span>
<span id="cb23-1378"><a href="#cb23-1378" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb23-1379"><a href="#cb23-1379" aria-hidden="true" tabindex="-1"></a><span class="in">  const width = 800;</span></span>
<span id="cb23-1380"><a href="#cb23-1380" aria-hidden="true" tabindex="-1"></a><span class="in">  const height = 600;</span></span>
<span id="cb23-1381"><a href="#cb23-1381" aria-hidden="true" tabindex="-1"></a><span class="in">  const margin = {top: 20, right: 20, bottom: 60, left: 20};</span></span>
<span id="cb23-1382"><a href="#cb23-1382" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1383"><a href="#cb23-1383" aria-hidden="true" tabindex="-1"></a><span class="in">  const svg = d3.create("svg")</span></span>
<span id="cb23-1384"><a href="#cb23-1384" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("viewBox", [0, 0, width, height])</span></span>
<span id="cb23-1385"><a href="#cb23-1385" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("style", "max-width: 100%; height: auto;");</span></span>
<span id="cb23-1386"><a href="#cb23-1386" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1387"><a href="#cb23-1387" aria-hidden="true" tabindex="-1"></a><span class="in">  // Define positions for reservoirs</span></span>
<span id="cb23-1388"><a href="#cb23-1388" aria-hidden="true" tabindex="-1"></a><span class="in">  const positions = {</span></span>
<span id="cb23-1389"><a href="#cb23-1389" aria-hidden="true" tabindex="-1"></a><span class="in">    atmosphere: {x: width/2, y: 100, color: "#93c5fd"},</span></span>
<span id="cb23-1390"><a href="#cb23-1390" aria-hidden="true" tabindex="-1"></a><span class="in">    ocean: {x: 150, y: 400, color: "#0ea5e9"},</span></span>
<span id="cb23-1391"><a href="#cb23-1391" aria-hidden="true" tabindex="-1"></a><span class="in">    landBiomass: {x: 650, y: 400, color: "#22c55e"},</span></span>
<span id="cb23-1392"><a href="#cb23-1392" aria-hidden="true" tabindex="-1"></a><span class="in">    fossilFuels: {x: width/2, y: 500, color: "#64748b"}</span></span>
<span id="cb23-1393"><a href="#cb23-1393" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb23-1394"><a href="#cb23-1394" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1395"><a href="#cb23-1395" aria-hidden="true" tabindex="-1"></a><span class="in">  // Draw flows (arrows)</span></span>
<span id="cb23-1396"><a href="#cb23-1396" aria-hidden="true" tabindex="-1"></a><span class="in">  const arrowGroup = svg.append("g");</span></span>
<span id="cb23-1397"><a href="#cb23-1397" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1398"><a href="#cb23-1398" aria-hidden="true" tabindex="-1"></a><span class="in">  currentData.flows.forEach(flow =&gt; {</span></span>
<span id="cb23-1399"><a href="#cb23-1399" aria-hidden="true" tabindex="-1"></a><span class="in">    if (flow.value &gt; 0) {</span></span>
<span id="cb23-1400"><a href="#cb23-1400" aria-hidden="true" tabindex="-1"></a><span class="in">      const start = positions[flow.from];</span></span>
<span id="cb23-1401"><a href="#cb23-1401" aria-hidden="true" tabindex="-1"></a><span class="in">      const end = positions[flow.to];</span></span>
<span id="cb23-1402"><a href="#cb23-1402" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb23-1403"><a href="#cb23-1403" aria-hidden="true" tabindex="-1"></a><span class="in">      // Calculate arrow path with curve</span></span>
<span id="cb23-1404"><a href="#cb23-1404" aria-hidden="true" tabindex="-1"></a><span class="in">      const midX = (start.x + end.x) / 2;</span></span>
<span id="cb23-1405"><a href="#cb23-1405" aria-hidden="true" tabindex="-1"></a><span class="in">      const midY = (start.y + end.y) / 2;</span></span>
<span id="cb23-1406"><a href="#cb23-1406" aria-hidden="true" tabindex="-1"></a><span class="in">      const dx = end.x - start.x;</span></span>
<span id="cb23-1407"><a href="#cb23-1407" aria-hidden="true" tabindex="-1"></a><span class="in">      const dy = end.y - start.y;</span></span>
<span id="cb23-1408"><a href="#cb23-1408" aria-hidden="true" tabindex="-1"></a><span class="in">      const dr = Math.sqrt(dx * dx + dy * dy) * 0.7;</span></span>
<span id="cb23-1409"><a href="#cb23-1409" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb23-1410"><a href="#cb23-1410" aria-hidden="true" tabindex="-1"></a><span class="in">      arrowGroup.append("path")</span></span>
<span id="cb23-1411"><a href="#cb23-1411" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("d", `M${start.x},${start.y} Q${midX + dy/4},${midY - dx/4} ${end.x},${end.y}`)</span></span>
<span id="cb23-1412"><a href="#cb23-1412" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("fill", "none")</span></span>
<span id="cb23-1413"><a href="#cb23-1413" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("stroke", flow.from === "fossilFuels" ? "#ef4444" : "#94a3b8")</span></span>
<span id="cb23-1414"><a href="#cb23-1414" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("stroke-width", Math.max(2, flow.value / 10))</span></span>
<span id="cb23-1415"><a href="#cb23-1415" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("opacity", 0.6)</span></span>
<span id="cb23-1416"><a href="#cb23-1416" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("marker-end", "url(#arrowhead)");</span></span>
<span id="cb23-1417"><a href="#cb23-1417" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb23-1418"><a href="#cb23-1418" aria-hidden="true" tabindex="-1"></a><span class="in">      // Add flow label</span></span>
<span id="cb23-1419"><a href="#cb23-1419" aria-hidden="true" tabindex="-1"></a><span class="in">      arrowGroup.append("text")</span></span>
<span id="cb23-1420"><a href="#cb23-1420" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("x", midX + dy/4)</span></span>
<span id="cb23-1421"><a href="#cb23-1421" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("y", midY - dx/4)</span></span>
<span id="cb23-1422"><a href="#cb23-1422" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("text-anchor", "middle")</span></span>
<span id="cb23-1423"><a href="#cb23-1423" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("font-size", "12px")</span></span>
<span id="cb23-1424"><a href="#cb23-1424" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("fill", "#1e293b")</span></span>
<span id="cb23-1425"><a href="#cb23-1425" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("font-weight", "600")</span></span>
<span id="cb23-1426"><a href="#cb23-1426" aria-hidden="true" tabindex="-1"></a><span class="in">        .text(`${flow.value} Gt/yr`);</span></span>
<span id="cb23-1427"><a href="#cb23-1427" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-1428"><a href="#cb23-1428" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb23-1429"><a href="#cb23-1429" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1430"><a href="#cb23-1430" aria-hidden="true" tabindex="-1"></a><span class="in">  // Define arrowhead marker</span></span>
<span id="cb23-1431"><a href="#cb23-1431" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.append("defs")</span></span>
<span id="cb23-1432"><a href="#cb23-1432" aria-hidden="true" tabindex="-1"></a><span class="in">    .append("marker")</span></span>
<span id="cb23-1433"><a href="#cb23-1433" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("id", "arrowhead")</span></span>
<span id="cb23-1434"><a href="#cb23-1434" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("markerWidth", 10)</span></span>
<span id="cb23-1435"><a href="#cb23-1435" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("markerHeight", 10)</span></span>
<span id="cb23-1436"><a href="#cb23-1436" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("refX", 9)</span></span>
<span id="cb23-1437"><a href="#cb23-1437" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("refY", 3)</span></span>
<span id="cb23-1438"><a href="#cb23-1438" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("orient", "auto")</span></span>
<span id="cb23-1439"><a href="#cb23-1439" aria-hidden="true" tabindex="-1"></a><span class="in">    .append("polygon")</span></span>
<span id="cb23-1440"><a href="#cb23-1440" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("points", "0 0, 10 3, 0 6")</span></span>
<span id="cb23-1441"><a href="#cb23-1441" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("fill", "#94a3b8");</span></span>
<span id="cb23-1442"><a href="#cb23-1442" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1443"><a href="#cb23-1443" aria-hidden="true" tabindex="-1"></a><span class="in">  // Draw reservoirs</span></span>
<span id="cb23-1444"><a href="#cb23-1444" aria-hidden="true" tabindex="-1"></a><span class="in">  Object.entries(positions).forEach(([name, pos]) =&gt; {</span></span>
<span id="cb23-1445"><a href="#cb23-1445" aria-hidden="true" tabindex="-1"></a><span class="in">    const reservoir = currentData[name];</span></span>
<span id="cb23-1446"><a href="#cb23-1446" aria-hidden="true" tabindex="-1"></a><span class="in">    const radius = Math.sqrt(reservoir) / 3;</span></span>
<span id="cb23-1447"><a href="#cb23-1447" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1448"><a href="#cb23-1448" aria-hidden="true" tabindex="-1"></a><span class="in">    const group = svg.append("g")</span></span>
<span id="cb23-1449"><a href="#cb23-1449" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("transform", `translate(${pos.x}, ${pos.y})`);</span></span>
<span id="cb23-1450"><a href="#cb23-1450" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1451"><a href="#cb23-1451" aria-hidden="true" tabindex="-1"></a><span class="in">    // Circle</span></span>
<span id="cb23-1452"><a href="#cb23-1452" aria-hidden="true" tabindex="-1"></a><span class="in">    group.append("circle")</span></span>
<span id="cb23-1453"><a href="#cb23-1453" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("r", radius)</span></span>
<span id="cb23-1454"><a href="#cb23-1454" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("fill", pos.color)</span></span>
<span id="cb23-1455"><a href="#cb23-1455" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("stroke", "#1e293b")</span></span>
<span id="cb23-1456"><a href="#cb23-1456" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("stroke-width", 2)</span></span>
<span id="cb23-1457"><a href="#cb23-1457" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("opacity", 0.8);</span></span>
<span id="cb23-1458"><a href="#cb23-1458" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1459"><a href="#cb23-1459" aria-hidden="true" tabindex="-1"></a><span class="in">    // Label</span></span>
<span id="cb23-1460"><a href="#cb23-1460" aria-hidden="true" tabindex="-1"></a><span class="in">    group.append("text")</span></span>
<span id="cb23-1461"><a href="#cb23-1461" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("text-anchor", "middle")</span></span>
<span id="cb23-1462"><a href="#cb23-1462" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("dy", -radius - 10)</span></span>
<span id="cb23-1463"><a href="#cb23-1463" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("font-size", "14px")</span></span>
<span id="cb23-1464"><a href="#cb23-1464" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("font-weight", "700")</span></span>
<span id="cb23-1465"><a href="#cb23-1465" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("fill", "#1e293b")</span></span>
<span id="cb23-1466"><a href="#cb23-1466" aria-hidden="true" tabindex="-1"></a><span class="in">      .text(name.replace(/([A-Z])/g, ' $1').trim());</span></span>
<span id="cb23-1467"><a href="#cb23-1467" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1468"><a href="#cb23-1468" aria-hidden="true" tabindex="-1"></a><span class="in">    // Value</span></span>
<span id="cb23-1469"><a href="#cb23-1469" aria-hidden="true" tabindex="-1"></a><span class="in">    group.append("text")</span></span>
<span id="cb23-1470"><a href="#cb23-1470" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("text-anchor", "middle")</span></span>
<span id="cb23-1471"><a href="#cb23-1471" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("dy", "0.35em")</span></span>
<span id="cb23-1472"><a href="#cb23-1472" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("font-size", "16px")</span></span>
<span id="cb23-1473"><a href="#cb23-1473" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("font-weight", "600")</span></span>
<span id="cb23-1474"><a href="#cb23-1474" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("fill", "#ffffff")</span></span>
<span id="cb23-1475"><a href="#cb23-1475" aria-hidden="true" tabindex="-1"></a><span class="in">      .text(`${reservoir} Gt`);</span></span>
<span id="cb23-1476"><a href="#cb23-1476" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb23-1477"><a href="#cb23-1477" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1478"><a href="#cb23-1478" aria-hidden="true" tabindex="-1"></a><span class="in">  // Add title</span></span>
<span id="cb23-1479"><a href="#cb23-1479" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.append("text")</span></span>
<span id="cb23-1480"><a href="#cb23-1480" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("x", width/2)</span></span>
<span id="cb23-1481"><a href="#cb23-1481" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("y", 30)</span></span>
<span id="cb23-1482"><a href="#cb23-1482" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("text-anchor", "middle")</span></span>
<span id="cb23-1483"><a href="#cb23-1483" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-size", "18px")</span></span>
<span id="cb23-1484"><a href="#cb23-1484" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-weight", "700")</span></span>
<span id="cb23-1485"><a href="#cb23-1485" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("fill", "#1e293b")</span></span>
<span id="cb23-1486"><a href="#cb23-1486" aria-hidden="true" tabindex="-1"></a><span class="in">    .text(`Carbon Reservoirs: ${timePeriod}`);</span></span>
<span id="cb23-1487"><a href="#cb23-1487" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1488"><a href="#cb23-1488" aria-hidden="true" tabindex="-1"></a><span class="in">  return svg.node();</span></span>
<span id="cb23-1489"><a href="#cb23-1489" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb23-1490"><a href="#cb23-1490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1491"><a href="#cb23-1491" aria-hidden="true" tabindex="-1"></a><span class="in">// Key findings display</span></span>
<span id="cb23-1492"><a href="#cb23-1492" aria-hidden="true" tabindex="-1"></a><span class="in">md`</span></span>
<span id="cb23-1493"><a href="#cb23-1493" aria-hidden="true" tabindex="-1"></a><span class="in">### Key Changes After Industrial Revolution:</span></span>
<span id="cb23-1494"><a href="#cb23-1494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1495"><a href="#cb23-1495" aria-hidden="true" tabindex="-1"></a><span class="in">- **Atmospheric CO‚ÇÇ increased by ${atmosphereChange} Gt** (${((atmosphereChange/carbonData.preIndustrial.atmosphere)*100).toFixed(1)}% increase)</span></span>
<span id="cb23-1496"><a href="#cb23-1496" aria-hidden="true" tabindex="-1"></a><span class="in">- **${fossilFuelBurned} Gt of fossil fuels burned** and added to atmosphere</span></span>
<span id="cb23-1497"><a href="#cb23-1497" aria-hidden="true" tabindex="-1"></a><span class="in">- **Ocean absorbed ${carbonData.postIndustrial.ocean - carbonData.preIndustrial.ocean} Gt** more carbon</span></span>
<span id="cb23-1498"><a href="#cb23-1498" aria-hidden="true" tabindex="-1"></a><span class="in">- **The carbon cycle became unbalanced** - more carbon entering atmosphere than leaving</span></span>
<span id="cb23-1499"><a href="#cb23-1499" aria-hidden="true" tabindex="-1"></a><span class="in">`</span></span>
<span id="cb23-1500"><a href="#cb23-1500" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1501"><a href="#cb23-1501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1502"><a href="#cb23-1502" aria-hidden="true" tabindex="-1"></a><span class="fu"># Feedback Loop Visualization</span></span>
<span id="cb23-1503"><a href="#cb23-1503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1504"><a href="#cb23-1504" aria-hidden="true" tabindex="-1"></a>This visualization shows how positive feedback mechanisms amplify climate change through interconnected processes.</span>
<span id="cb23-1505"><a href="#cb23-1505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1508"><a href="#cb23-1508" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1509"><a href="#cb23-1509" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1510"><a href="#cb23-1510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1511"><a href="#cb23-1511" aria-hidden="true" tabindex="-1"></a><span class="in">// Import d3 library</span></span>
<span id="cb23-1512"><a href="#cb23-1512" aria-hidden="true" tabindex="-1"></a><span class="in">d3 = require("d3@7")</span></span>
<span id="cb23-1513"><a href="#cb23-1513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1514"><a href="#cb23-1514" aria-hidden="true" tabindex="-1"></a><span class="in">// Feedback type selector</span></span>
<span id="cb23-1515"><a href="#cb23-1515" aria-hidden="true" tabindex="-1"></a><span class="in">viewof feedbackType = Inputs.radio(</span></span>
<span id="cb23-1516"><a href="#cb23-1516" aria-hidden="true" tabindex="-1"></a><span class="in">  ["Ice-Albedo Feedback", "Greenhouse Gas Feedback", "Combined Feedbacks"],</span></span>
<span id="cb23-1517"><a href="#cb23-1517" aria-hidden="true" tabindex="-1"></a><span class="in">  {value: "Ice-Albedo Feedback", label: "Select Feedback Mechanism"}</span></span>
<span id="cb23-1518"><a href="#cb23-1518" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb23-1519"><a href="#cb23-1519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1520"><a href="#cb23-1520" aria-hidden="true" tabindex="-1"></a><span class="in">// Animation control</span></span>
<span id="cb23-1521"><a href="#cb23-1521" aria-hidden="true" tabindex="-1"></a><span class="in">viewof isAnimating = Inputs.toggle({label: "Animate feedback loop", value: true})</span></span>
<span id="cb23-1522"><a href="#cb23-1522" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1523"><a href="#cb23-1523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1526"><a href="#cb23-1526" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1527"><a href="#cb23-1527" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1528"><a href="#cb23-1528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1529"><a href="#cb23-1529" aria-hidden="true" tabindex="-1"></a><span class="in">// Define feedback loops</span></span>
<span id="cb23-1530"><a href="#cb23-1530" aria-hidden="true" tabindex="-1"></a><span class="in">feedbackLoops = {</span></span>
<span id="cb23-1531"><a href="#cb23-1531" aria-hidden="true" tabindex="-1"></a><span class="in">  const iceAlbedo = [</span></span>
<span id="cb23-1532"><a href="#cb23-1532" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 0, label: "CO‚ÇÇ Emissions\nIncrease", x: 400, y: 50, color: "#ef4444"},</span></span>
<span id="cb23-1533"><a href="#cb23-1533" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 1, label: "Global Temperature\nRises", x: 650, y: 150, color: "#f97316"},</span></span>
<span id="cb23-1534"><a href="#cb23-1534" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 2, label: "Arctic Ice\nMelts", x: 650, y: 350, color: "#06b6d4"},</span></span>
<span id="cb23-1535"><a href="#cb23-1535" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 3, label: "Less Solar\nReflection", x: 400, y: 450, color: "#3b82f6"},</span></span>
<span id="cb23-1536"><a href="#cb23-1536" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 4, label: "More Heat\nAbsorbed", x: 150, y: 350, color: "#8b5cf6"},</span></span>
<span id="cb23-1537"><a href="#cb23-1537" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 5, label: "Temperature\nRises Further", x: 150, y: 150, color: "#dc2626"}</span></span>
<span id="cb23-1538"><a href="#cb23-1538" aria-hidden="true" tabindex="-1"></a><span class="in">  ];</span></span>
<span id="cb23-1539"><a href="#cb23-1539" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1540"><a href="#cb23-1540" aria-hidden="true" tabindex="-1"></a><span class="in">  const greenhouseGas = [</span></span>
<span id="cb23-1541"><a href="#cb23-1541" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 0, label: "Temperature\nIncreases", x: 400, y: 50, color: "#f97316"},</span></span>
<span id="cb23-1542"><a href="#cb23-1542" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 1, label: "Ocean Water\nWarms", x: 650, y: 150, color: "#0ea5e9"},</span></span>
<span id="cb23-1543"><a href="#cb23-1543" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 2, label: "CO‚ÇÇ Released\nfrom Ocean", x: 650, y: 350, color: "#64748b"},</span></span>
<span id="cb23-1544"><a href="#cb23-1544" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 3, label: "Permafrost\nThaws", x: 400, y: 450, color: "#a855f7"},</span></span>
<span id="cb23-1545"><a href="#cb23-1545" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 4, label: "More GHGs\nEnter Atmosphere", x: 150, y: 350, color: "#ef4444"},</span></span>
<span id="cb23-1546"><a href="#cb23-1546" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 5, label: "Greenhouse Effect\nStrengthens", x: 150, y: 150, color: "#dc2626"}</span></span>
<span id="cb23-1547"><a href="#cb23-1547" aria-hidden="true" tabindex="-1"></a><span class="in">  ];</span></span>
<span id="cb23-1548"><a href="#cb23-1548" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1549"><a href="#cb23-1549" aria-hidden="true" tabindex="-1"></a><span class="in">  const combined = [</span></span>
<span id="cb23-1550"><a href="#cb23-1550" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 0, label: "Human Activity:\nFossil Fuel Burning", x: 400, y: 30, color: "#1e293b"},</span></span>
<span id="cb23-1551"><a href="#cb23-1551" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 1, label: "CO‚ÇÇ &amp; GHGs\nIncrease", x: 600, y: 120, color: "#64748b"},</span></span>
<span id="cb23-1552"><a href="#cb23-1552" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 2, label: "Enhanced\nGreenhouse Effect", x: 700, y: 250, color: "#ef4444"},</span></span>
<span id="cb23-1553"><a href="#cb23-1553" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 3, label: "Temperature\nRises", x: 650, y: 380, color: "#f97316"},</span></span>
<span id="cb23-1554"><a href="#cb23-1554" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 4, label: "Ice Melts\nAlbedo ‚Üì", x: 480, y: 480, color: "#06b6d4"},</span></span>
<span id="cb23-1555"><a href="#cb23-1555" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 5, label: "Ocean/Permafrost\nRelease CO‚ÇÇ", x: 280, y: 480, color: "#3b82f6"},</span></span>
<span id="cb23-1556"><a href="#cb23-1556" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 6, label: "More Heat\nAbsorbed", x: 120, y: 380, color: "#8b5cf6"},</span></span>
<span id="cb23-1557"><a href="#cb23-1557" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 7, label: "AMPLIFICATION:\nFaster Warming", x: 100, y: 250, color: "#dc2626"},</span></span>
<span id="cb23-1558"><a href="#cb23-1558" aria-hidden="true" tabindex="-1"></a><span class="in">    {step: 8, label: "Multiple Feedbacks\nReinforce", x: 200, y: 120, color: "#991b1b"}</span></span>
<span id="cb23-1559"><a href="#cb23-1559" aria-hidden="true" tabindex="-1"></a><span class="in">  ];</span></span>
<span id="cb23-1560"><a href="#cb23-1560" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1561"><a href="#cb23-1561" aria-hidden="true" tabindex="-1"></a><span class="in">  return {iceAlbedo, greenhouseGas, combined};</span></span>
<span id="cb23-1562"><a href="#cb23-1562" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb23-1563"><a href="#cb23-1563" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1564"><a href="#cb23-1564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1567"><a href="#cb23-1567" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1568"><a href="#cb23-1568" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1569"><a href="#cb23-1569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1570"><a href="#cb23-1570" aria-hidden="true" tabindex="-1"></a><span class="in">// Get current loop</span></span>
<span id="cb23-1571"><a href="#cb23-1571" aria-hidden="true" tabindex="-1"></a><span class="in">currentLoop = feedbackType === "Ice-Albedo Feedback" </span></span>
<span id="cb23-1572"><a href="#cb23-1572" aria-hidden="true" tabindex="-1"></a><span class="in">  ? feedbackLoops.iceAlbedo </span></span>
<span id="cb23-1573"><a href="#cb23-1573" aria-hidden="true" tabindex="-1"></a><span class="in">  : feedbackType === "Greenhouse Gas Feedback"</span></span>
<span id="cb23-1574"><a href="#cb23-1574" aria-hidden="true" tabindex="-1"></a><span class="in">  ? feedbackLoops.greenhouseGas</span></span>
<span id="cb23-1575"><a href="#cb23-1575" aria-hidden="true" tabindex="-1"></a><span class="in">  : feedbackLoops.combined</span></span>
<span id="cb23-1576"><a href="#cb23-1576" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1577"><a href="#cb23-1577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1580"><a href="#cb23-1580" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1581"><a href="#cb23-1581" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1582"><a href="#cb23-1582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1583"><a href="#cb23-1583" aria-hidden="true" tabindex="-1"></a><span class="in">// Animation frame</span></span>
<span id="cb23-1584"><a href="#cb23-1584" aria-hidden="true" tabindex="-1"></a><span class="in">mutable currentStep = 0</span></span>
<span id="cb23-1585"><a href="#cb23-1585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1586"><a href="#cb23-1586" aria-hidden="true" tabindex="-1"></a><span class="in">tick = {</span></span>
<span id="cb23-1587"><a href="#cb23-1587" aria-hidden="true" tabindex="-1"></a><span class="in">  if (isAnimating) {</span></span>
<span id="cb23-1588"><a href="#cb23-1588" aria-hidden="true" tabindex="-1"></a><span class="in">    while (true) {</span></span>
<span id="cb23-1589"><a href="#cb23-1589" aria-hidden="true" tabindex="-1"></a><span class="in">      yield Promises.tick(1500);</span></span>
<span id="cb23-1590"><a href="#cb23-1590" aria-hidden="true" tabindex="-1"></a><span class="in">      mutable currentStep = (currentStep + 1) % currentLoop.length;</span></span>
<span id="cb23-1591"><a href="#cb23-1591" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-1592"><a href="#cb23-1592" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-1593"><a href="#cb23-1593" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb23-1594"><a href="#cb23-1594" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1595"><a href="#cb23-1595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1598"><a href="#cb23-1598" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1599"><a href="#cb23-1599" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1600"><a href="#cb23-1600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1601"><a href="#cb23-1601" aria-hidden="true" tabindex="-1"></a><span class="in">// Visualization</span></span>
<span id="cb23-1602"><a href="#cb23-1602" aria-hidden="true" tabindex="-1"></a><span class="in">chart = {</span></span>
<span id="cb23-1603"><a href="#cb23-1603" aria-hidden="true" tabindex="-1"></a><span class="in">  const width = 800;</span></span>
<span id="cb23-1604"><a href="#cb23-1604" aria-hidden="true" tabindex="-1"></a><span class="in">  const height = 550;</span></span>
<span id="cb23-1605"><a href="#cb23-1605" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1606"><a href="#cb23-1606" aria-hidden="true" tabindex="-1"></a><span class="in">  const svg = d3.create("svg")</span></span>
<span id="cb23-1607"><a href="#cb23-1607" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("viewBox", [0, 0, width, height])</span></span>
<span id="cb23-1608"><a href="#cb23-1608" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("style", "max-width: 100%; height: auto;");</span></span>
<span id="cb23-1609"><a href="#cb23-1609" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1610"><a href="#cb23-1610" aria-hidden="true" tabindex="-1"></a><span class="in">  // Define arrow markers first</span></span>
<span id="cb23-1611"><a href="#cb23-1611" aria-hidden="true" tabindex="-1"></a><span class="in">  const defs = svg.append("defs");</span></span>
<span id="cb23-1612"><a href="#cb23-1612" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1613"><a href="#cb23-1613" aria-hidden="true" tabindex="-1"></a><span class="in">  ["active", "inactive"].forEach(state =&gt; {</span></span>
<span id="cb23-1614"><a href="#cb23-1614" aria-hidden="true" tabindex="-1"></a><span class="in">    defs.append("marker")</span></span>
<span id="cb23-1615"><a href="#cb23-1615" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("id", `arrow-${state}`)</span></span>
<span id="cb23-1616"><a href="#cb23-1616" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("markerWidth", 12)</span></span>
<span id="cb23-1617"><a href="#cb23-1617" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("markerHeight", 12)</span></span>
<span id="cb23-1618"><a href="#cb23-1618" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("refX", 11)</span></span>
<span id="cb23-1619"><a href="#cb23-1619" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("refY", 3)</span></span>
<span id="cb23-1620"><a href="#cb23-1620" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("orient", "auto")</span></span>
<span id="cb23-1621"><a href="#cb23-1621" aria-hidden="true" tabindex="-1"></a><span class="in">      .append("polygon")</span></span>
<span id="cb23-1622"><a href="#cb23-1622" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("points", "0 0, 12 3, 0 6")</span></span>
<span id="cb23-1623"><a href="#cb23-1623" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("fill", state === "active" ? "#dc2626" : "#cbd5e1");</span></span>
<span id="cb23-1624"><a href="#cb23-1624" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb23-1625"><a href="#cb23-1625" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1626"><a href="#cb23-1626" aria-hidden="true" tabindex="-1"></a><span class="in">  // Draw connecting paths</span></span>
<span id="cb23-1627"><a href="#cb23-1627" aria-hidden="true" tabindex="-1"></a><span class="in">  const pathGroup = svg.append("g");</span></span>
<span id="cb23-1628"><a href="#cb23-1628" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1629"><a href="#cb23-1629" aria-hidden="true" tabindex="-1"></a><span class="in">  for (let i = 0; i &lt; currentLoop.length; i++) {</span></span>
<span id="cb23-1630"><a href="#cb23-1630" aria-hidden="true" tabindex="-1"></a><span class="in">    const current = currentLoop[i];</span></span>
<span id="cb23-1631"><a href="#cb23-1631" aria-hidden="true" tabindex="-1"></a><span class="in">    const next = currentLoop[(i + 1) % currentLoop.length];</span></span>
<span id="cb23-1632"><a href="#cb23-1632" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1633"><a href="#cb23-1633" aria-hidden="true" tabindex="-1"></a><span class="in">    const isActive = isAnimating ? (i === currentStep) : true;</span></span>
<span id="cb23-1634"><a href="#cb23-1634" aria-hidden="true" tabindex="-1"></a><span class="in">    const strokeWidth = isActive ? 6 : 3;</span></span>
<span id="cb23-1635"><a href="#cb23-1635" aria-hidden="true" tabindex="-1"></a><span class="in">    const opacity = isActive ? 1 : 0.3;</span></span>
<span id="cb23-1636"><a href="#cb23-1636" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1637"><a href="#cb23-1637" aria-hidden="true" tabindex="-1"></a><span class="in">    // Create curved path</span></span>
<span id="cb23-1638"><a href="#cb23-1638" aria-hidden="true" tabindex="-1"></a><span class="in">    const midX = (current.x + next.x) / 2;</span></span>
<span id="cb23-1639"><a href="#cb23-1639" aria-hidden="true" tabindex="-1"></a><span class="in">    const midY = (current.y + next.y) / 2;</span></span>
<span id="cb23-1640"><a href="#cb23-1640" aria-hidden="true" tabindex="-1"></a><span class="in">    const dx = next.x - current.x;</span></span>
<span id="cb23-1641"><a href="#cb23-1641" aria-hidden="true" tabindex="-1"></a><span class="in">    const dy = next.y - current.y;</span></span>
<span id="cb23-1642"><a href="#cb23-1642" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1643"><a href="#cb23-1643" aria-hidden="true" tabindex="-1"></a><span class="in">    pathGroup.append("path")</span></span>
<span id="cb23-1644"><a href="#cb23-1644" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("d", `M${current.x},${current.y} Q${midX + dy/3},${midY - dx/3} ${next.x},${next.y}`)</span></span>
<span id="cb23-1645"><a href="#cb23-1645" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("fill", "none")</span></span>
<span id="cb23-1646"><a href="#cb23-1646" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("stroke", isActive ? current.color : "#cbd5e1")</span></span>
<span id="cb23-1647"><a href="#cb23-1647" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("stroke-width", strokeWidth)</span></span>
<span id="cb23-1648"><a href="#cb23-1648" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("opacity", opacity)</span></span>
<span id="cb23-1649"><a href="#cb23-1649" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("marker-end", isActive ? "url(#arrow-active)" : "url(#arrow-inactive)")</span></span>
<span id="cb23-1650"><a href="#cb23-1650" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("stroke-dasharray", isActive ? "8,4" : "none");</span></span>
<span id="cb23-1651"><a href="#cb23-1651" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb23-1652"><a href="#cb23-1652" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1653"><a href="#cb23-1653" aria-hidden="true" tabindex="-1"></a><span class="in">  // Draw nodes</span></span>
<span id="cb23-1654"><a href="#cb23-1654" aria-hidden="true" tabindex="-1"></a><span class="in">  currentLoop.forEach((node, i) =&gt; {</span></span>
<span id="cb23-1655"><a href="#cb23-1655" aria-hidden="true" tabindex="-1"></a><span class="in">    const isActive = isAnimating ? (i === currentStep) : true;</span></span>
<span id="cb23-1656"><a href="#cb23-1656" aria-hidden="true" tabindex="-1"></a><span class="in">    const nodeRadius = 50;</span></span>
<span id="cb23-1657"><a href="#cb23-1657" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1658"><a href="#cb23-1658" aria-hidden="true" tabindex="-1"></a><span class="in">    const group = svg.append("g")</span></span>
<span id="cb23-1659"><a href="#cb23-1659" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("transform", `translate(${node.x}, ${node.y})`);</span></span>
<span id="cb23-1660"><a href="#cb23-1660" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1661"><a href="#cb23-1661" aria-hidden="true" tabindex="-1"></a><span class="in">    // Node circle</span></span>
<span id="cb23-1662"><a href="#cb23-1662" aria-hidden="true" tabindex="-1"></a><span class="in">    group.append("circle")</span></span>
<span id="cb23-1663"><a href="#cb23-1663" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("r", nodeRadius)</span></span>
<span id="cb23-1664"><a href="#cb23-1664" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("fill", isActive ? node.color : "#e2e8f0")</span></span>
<span id="cb23-1665"><a href="#cb23-1665" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("stroke", isActive ? "#1e293b" : "#94a3b8")</span></span>
<span id="cb23-1666"><a href="#cb23-1666" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("stroke-width", isActive ? 3 : 2)</span></span>
<span id="cb23-1667"><a href="#cb23-1667" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("opacity", isActive ? 0.95 : 0.5);</span></span>
<span id="cb23-1668"><a href="#cb23-1668" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1669"><a href="#cb23-1669" aria-hidden="true" tabindex="-1"></a><span class="in">    // Node label</span></span>
<span id="cb23-1670"><a href="#cb23-1670" aria-hidden="true" tabindex="-1"></a><span class="in">    const lines = node.label.split("\\n");</span></span>
<span id="cb23-1671"><a href="#cb23-1671" aria-hidden="true" tabindex="-1"></a><span class="in">    lines.forEach((line, idx) =&gt; {</span></span>
<span id="cb23-1672"><a href="#cb23-1672" aria-hidden="true" tabindex="-1"></a><span class="in">      group.append("text")</span></span>
<span id="cb23-1673"><a href="#cb23-1673" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("text-anchor", "middle")</span></span>
<span id="cb23-1674"><a href="#cb23-1674" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("dy", `${-0.3 + idx * 1.2}em`)</span></span>
<span id="cb23-1675"><a href="#cb23-1675" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("font-size", "13px")</span></span>
<span id="cb23-1676"><a href="#cb23-1676" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("font-weight", isActive ? "700" : "500")</span></span>
<span id="cb23-1677"><a href="#cb23-1677" aria-hidden="true" tabindex="-1"></a><span class="in">        .attr("fill", isActive ? "#ffffff" : "#64748b")</span></span>
<span id="cb23-1678"><a href="#cb23-1678" aria-hidden="true" tabindex="-1"></a><span class="in">        .text(line);</span></span>
<span id="cb23-1679"><a href="#cb23-1679" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-1680"><a href="#cb23-1680" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1681"><a href="#cb23-1681" aria-hidden="true" tabindex="-1"></a><span class="in">    // Step number</span></span>
<span id="cb23-1682"><a href="#cb23-1682" aria-hidden="true" tabindex="-1"></a><span class="in">    group.append("circle")</span></span>
<span id="cb23-1683"><a href="#cb23-1683" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("cx", nodeRadius - 15)</span></span>
<span id="cb23-1684"><a href="#cb23-1684" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("cy", -nodeRadius + 15)</span></span>
<span id="cb23-1685"><a href="#cb23-1685" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("r", 15)</span></span>
<span id="cb23-1686"><a href="#cb23-1686" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("fill", "#1e293b")</span></span>
<span id="cb23-1687"><a href="#cb23-1687" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("opacity", 0.9);</span></span>
<span id="cb23-1688"><a href="#cb23-1688" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb23-1689"><a href="#cb23-1689" aria-hidden="true" tabindex="-1"></a><span class="in">    group.append("text")</span></span>
<span id="cb23-1690"><a href="#cb23-1690" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x", nodeRadius - 15)</span></span>
<span id="cb23-1691"><a href="#cb23-1691" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("y", -nodeRadius + 15)</span></span>
<span id="cb23-1692"><a href="#cb23-1692" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("text-anchor", "middle")</span></span>
<span id="cb23-1693"><a href="#cb23-1693" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("dy", "0.35em")</span></span>
<span id="cb23-1694"><a href="#cb23-1694" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("font-size", "12px")</span></span>
<span id="cb23-1695"><a href="#cb23-1695" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("font-weight", "700")</span></span>
<span id="cb23-1696"><a href="#cb23-1696" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("fill", "#ffffff")</span></span>
<span id="cb23-1697"><a href="#cb23-1697" aria-hidden="true" tabindex="-1"></a><span class="in">      .text(i + 1);</span></span>
<span id="cb23-1698"><a href="#cb23-1698" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb23-1699"><a href="#cb23-1699" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1700"><a href="#cb23-1700" aria-hidden="true" tabindex="-1"></a><span class="in">  // Add title</span></span>
<span id="cb23-1701"><a href="#cb23-1701" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.append("text")</span></span>
<span id="cb23-1702"><a href="#cb23-1702" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("x", width/2)</span></span>
<span id="cb23-1703"><a href="#cb23-1703" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("y", height - 20)</span></span>
<span id="cb23-1704"><a href="#cb23-1704" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("text-anchor", "middle")</span></span>
<span id="cb23-1705"><a href="#cb23-1705" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-size", "16px")</span></span>
<span id="cb23-1706"><a href="#cb23-1706" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-weight", "700")</span></span>
<span id="cb23-1707"><a href="#cb23-1707" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("fill", "#1e293b")</span></span>
<span id="cb23-1708"><a href="#cb23-1708" aria-hidden="true" tabindex="-1"></a><span class="in">    .text(`${feedbackType}: A Positive (Amplifying) Feedback Loop`);</span></span>
<span id="cb23-1709"><a href="#cb23-1709" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb23-1710"><a href="#cb23-1710" aria-hidden="true" tabindex="-1"></a><span class="in">  return svg.node();</span></span>
<span id="cb23-1711"><a href="#cb23-1711" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb23-1712"><a href="#cb23-1712" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1713"><a href="#cb23-1713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1716"><a href="#cb23-1716" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1717"><a href="#cb23-1717" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1718"><a href="#cb23-1718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1719"><a href="#cb23-1719" aria-hidden="true" tabindex="-1"></a><span class="in">// Explanatory text</span></span>
<span id="cb23-1720"><a href="#cb23-1720" aria-hidden="true" tabindex="-1"></a><span class="in">md`</span></span>
<span id="cb23-1721"><a href="#cb23-1721" aria-hidden="true" tabindex="-1"></a><span class="in">### Understanding Positive Feedbacks</span></span>
<span id="cb23-1722"><a href="#cb23-1722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1723"><a href="#cb23-1723" aria-hidden="true" tabindex="-1"></a><span class="in">${feedbackType === "Ice-Albedo Feedback" ? `</span></span>
<span id="cb23-1724"><a href="#cb23-1724" aria-hidden="true" tabindex="-1"></a><span class="in">**Ice-Albedo Feedback** occurs when warming melts reflective ice and snow, exposing darker surfaces (ocean, land) that absorb more solar radiation. This extra absorption causes more warming, which melts more ice - a self-reinforcing cycle that **amplifies** the initial warming.</span></span>
<span id="cb23-1725"><a href="#cb23-1725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1726"><a href="#cb23-1726" aria-hidden="true" tabindex="-1"></a><span class="in">**Key Point:** Arctic regions are warming **~4 times faster** than the global average due to this feedback!</span></span>
<span id="cb23-1727"><a href="#cb23-1727" aria-hidden="true" tabindex="-1"></a><span class="in">` : feedbackType === "Greenhouse Gas Feedback" ? `</span></span>
<span id="cb23-1728"><a href="#cb23-1728" aria-hidden="true" tabindex="-1"></a><span class="in">**Greenhouse Gas Feedback** happens when warming temperatures cause natural systems to release stored carbon. Warmer oceans hold less dissolved CO‚ÇÇ, and thawing permafrost releases both CO‚ÇÇ and methane. These additional greenhouse gases trap more heat, causing further warming and more release.</span></span>
<span id="cb23-1729"><a href="#cb23-1729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1730"><a href="#cb23-1730" aria-hidden="true" tabindex="-1"></a><span class="in">**Key Point:** This creates a situation where human-caused warming **triggers natural carbon releases** that we don't directly control.</span></span>
<span id="cb23-1731"><a href="#cb23-1731" aria-hidden="true" tabindex="-1"></a><span class="in">` : `</span></span>
<span id="cb23-1732"><a href="#cb23-1732" aria-hidden="true" tabindex="-1"></a><span class="in">**Combined Feedbacks** show how multiple reinforcing mechanisms work together to amplify warming far beyond the initial forcing from fossil fuel emissions. Each feedback strengthens the others:</span></span>
<span id="cb23-1733"><a href="#cb23-1733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1734"><a href="#cb23-1734" aria-hidden="true" tabindex="-1"></a><span class="in">- More GHGs ‚Üí More warming ‚Üí Ice melts ‚Üí Less reflection ‚Üí Even more warming</span></span>
<span id="cb23-1735"><a href="#cb23-1735" aria-hidden="true" tabindex="-1"></a><span class="in">- More warming ‚Üí Ocean/permafrost release CO‚ÇÇ ‚Üí More GHGs ‚Üí Even more warming</span></span>
<span id="cb23-1736"><a href="#cb23-1736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1737"><a href="#cb23-1737" aria-hidden="true" tabindex="-1"></a><span class="in">**Key Point:** The **rate of current warming** (0.2¬∞C per decade) is unprecedented in the last 2,000 years because these feedbacks amplify the human-caused forcing.</span></span>
<span id="cb23-1738"><a href="#cb23-1738" aria-hidden="true" tabindex="-1"></a><span class="in">`}</span></span>
<span id="cb23-1739"><a href="#cb23-1739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1740"><a href="#cb23-1740" aria-hidden="true" tabindex="-1"></a><span class="in">‚ö†Ô∏è **Why this matters:** These are called **positive feedbacks** not because they're good, but because they **amplify change** rather than damping it. Once triggered, they make climate change harder to stop.</span></span>
<span id="cb23-1741"><a href="#cb23-1741" aria-hidden="true" tabindex="-1"></a><span class="in">`</span></span>
<span id="cb23-1742"><a href="#cb23-1742" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb23-1743"><a href="#cb23-1743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1744"><a href="#cb23-1744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1745"><a href="#cb23-1745" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb23-1746"><a href="#cb23-1746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1747"><a href="#cb23-1747" aria-hidden="true" tabindex="-1"></a>::: {.quiz-section}</span>
<span id="cb23-1748"><a href="#cb23-1748" aria-hidden="true" tabindex="-1"></a><span class="fu">## üìù Climate Feedbacks Quiz</span></span>
<span id="cb23-1749"><a href="#cb23-1749" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb23-1750"><a href="#cb23-1750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1753"><a href="#cb23-1753" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb23-1754"><a href="#cb23-1754" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: false</span></span>
<span id="cb23-1755"><a href="#cb23-1755" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb23-1756"><a href="#cb23-1756" aria-hidden="true" tabindex="-1"></a><span class="in">  const questions = [</span></span>
<span id="cb23-1757"><a href="#cb23-1757" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1758"><a href="#cb23-1758" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "What is the primary greenhouse gas that humans have increased in the atmosphere?",</span></span>
<span id="cb23-1759"><a href="#cb23-1759" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) Oxygen", "B) Nitrogen", "C) Carbon dioxide", "D) Argon"],</span></span>
<span id="cb23-1760"><a href="#cb23-1760" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 2,</span></span>
<span id="cb23-1761"><a href="#cb23-1761" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "Carbon dioxide (CO‚ÇÇ) is the primary greenhouse gas increased by human activities, mainly through burning fossil fuels."</span></span>
<span id="cb23-1762"><a href="#cb23-1762" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb23-1763"><a href="#cb23-1763" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1764"><a href="#cb23-1764" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "What is albedo?",</span></span>
<span id="cb23-1765"><a href="#cb23-1765" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) The amount of CO‚ÇÇ in the atmosphere", "B) The measure of how much light a surface reflects", "C) The temperature of the ocean", "D) The speed of ice melting"],</span></span>
<span id="cb23-1766"><a href="#cb23-1766" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 1,</span></span>
<span id="cb23-1767"><a href="#cb23-1767" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "Albedo measures the reflectivity of a surface ‚Äî from 0 (absorbs all light) to 1 (reflects all light)."</span></span>
<span id="cb23-1768"><a href="#cb23-1768" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb23-1769"><a href="#cb23-1769" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1770"><a href="#cb23-1770" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "Which surface has the HIGHEST albedo?",</span></span>
<span id="cb23-1771"><a href="#cb23-1771" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) Fresh snow", "B) Ocean water", "C) Forest", "D) Desert sand"],</span></span>
<span id="cb23-1772"><a href="#cb23-1772" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 0,</span></span>
<span id="cb23-1773"><a href="#cb23-1773" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "Fresh snow has an albedo of about 0.80‚Äì0.90, reflecting most incoming solar radiation."</span></span>
<span id="cb23-1774"><a href="#cb23-1774" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb23-1775"><a href="#cb23-1775" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1776"><a href="#cb23-1776" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "The ice-albedo feedback is an example of:",</span></span>
<span id="cb23-1777"><a href="#cb23-1777" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) Negative feedback that stabilizes climate", "B) Positive feedback that amplifies warming", "C) No feedback effect", "D) A cooling mechanism"],</span></span>
<span id="cb23-1778"><a href="#cb23-1778" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 1,</span></span>
<span id="cb23-1779"><a href="#cb23-1779" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "Ice-albedo is a positive feedback: warming melts ice ‚Üí darker surface ‚Üí more absorption ‚Üí more warming."</span></span>
<span id="cb23-1780"><a href="#cb23-1780" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb23-1781"><a href="#cb23-1781" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1782"><a href="#cb23-1782" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "Why is the Arctic warming almost 4 times faster than the global average?",</span></span>
<span id="cb23-1783"><a href="#cb23-1783" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) The Sun is closer to the Arctic", "B) Ice-albedo feedback amplifies warming there", "C) There are more people in the Arctic", "D) Volcanic activity in the Arctic"],</span></span>
<span id="cb23-1784"><a href="#cb23-1784" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 1,</span></span>
<span id="cb23-1785"><a href="#cb23-1785" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "Arctic amplification occurs because the ice-albedo feedback is strongest where ice is melting, creating a self-reinforcing warming cycle."</span></span>
<span id="cb23-1786"><a href="#cb23-1786" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb23-1787"><a href="#cb23-1787" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1788"><a href="#cb23-1788" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "Current atmospheric CO‚ÇÇ levels are approximately:",</span></span>
<span id="cb23-1789"><a href="#cb23-1789" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) 280 ppm (pre-industrial level)", "B) 350 ppm", "C) 420 ppm", "D) 1000 ppm"],</span></span>
<span id="cb23-1790"><a href="#cb23-1790" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 2,</span></span>
<span id="cb23-1791"><a href="#cb23-1791" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "As of 2024, atmospheric CO‚ÇÇ is approximately 420 ppm ‚Äî 50% higher than the pre-industrial level of 280 ppm."</span></span>
<span id="cb23-1792"><a href="#cb23-1792" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb23-1793"><a href="#cb23-1793" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1794"><a href="#cb23-1794" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "In the greenhouse effect, what type of radiation do greenhouse gases absorb?",</span></span>
<span id="cb23-1795"><a href="#cb23-1795" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) Visible light from the Sun", "B) Ultraviolet radiation", "C) Infrared radiation from Earth's surface", "D) X-rays"],</span></span>
<span id="cb23-1796"><a href="#cb23-1796" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 2,</span></span>
<span id="cb23-1797"><a href="#cb23-1797" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "Greenhouse gases absorb infrared (heat) radiation emitted by Earth's surface, trapping energy in the atmosphere."</span></span>
<span id="cb23-1798"><a href="#cb23-1798" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb23-1799"><a href="#cb23-1799" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1800"><a href="#cb23-1800" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "The permafrost feedback involves the release of which gases?",</span></span>
<span id="cb23-1801"><a href="#cb23-1801" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) Oxygen and nitrogen", "B) Methane and carbon dioxide", "C) Ozone and CFCs", "D) Hydrogen and helium"],</span></span>
<span id="cb23-1802"><a href="#cb23-1802" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 1,</span></span>
<span id="cb23-1803"><a href="#cb23-1803" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "Thawing permafrost releases methane (CH‚ÇÑ) and CO‚ÇÇ from decomposing organic matter ‚Äî methane is 80x more potent as a greenhouse gas over 20 years."</span></span>
<span id="cb23-1804"><a href="#cb23-1804" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb23-1805"><a href="#cb23-1805" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1806"><a href="#cb23-1806" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "If Arctic sea ice (albedo 0.60) is replaced by open ocean (albedo 0.06), what happens to energy absorption?",</span></span>
<span id="cb23-1807"><a href="#cb23-1807" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) Stays the same", "B) Decreases slightly", "C) Increases dramatically (10x more absorbed)", "D) Decreases dramatically"],</span></span>
<span id="cb23-1808"><a href="#cb23-1808" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 2,</span></span>
<span id="cb23-1809"><a href="#cb23-1809" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "Ocean absorbs 94% of incoming radiation vs. ice absorbing only 40% ‚Äî nearly 10x more energy is absorbed."</span></span>
<span id="cb23-1810"><a href="#cb23-1810" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb23-1811"><a href="#cb23-1811" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb23-1812"><a href="#cb23-1812" aria-hidden="true" tabindex="-1"></a><span class="in">      q: "Which statement best explains why scientists are confident humans are causing current climate change?",</span></span>
<span id="cb23-1813"><a href="#cb23-1813" aria-hidden="true" tabindex="-1"></a><span class="in">      options: ["A) It's just a guess", "B) Temperatures have changed before naturally", "C) CO‚ÇÇ levels are far beyond natural range and match timing of industrialization", "D) The Sun has gotten brighter"],</span></span>
<span id="cb23-1814"><a href="#cb23-1814" aria-hidden="true" tabindex="-1"></a><span class="in">      correct: 2,</span></span>
<span id="cb23-1815"><a href="#cb23-1815" aria-hidden="true" tabindex="-1"></a><span class="in">      explanation: "CO‚ÇÇ at 420 ppm is far beyond the 180‚Äì280 ppm natural range of the last 800,000 years, and the rise correlates precisely with fossil fuel use."</span></span>
<span id="cb23-1816"><a href="#cb23-1816" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb23-1817"><a href="#cb23-1817" aria-hidden="true" tabindex="-1"></a><span class="in">  ];</span></span>
<span id="cb23-1818"><a href="#cb23-1818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1819"><a href="#cb23-1819" aria-hidden="true" tabindex="-1"></a><span class="in">  const container = d3.create("div").attr("class", "interactive-quiz");</span></span>
<span id="cb23-1820"><a href="#cb23-1820" aria-hidden="true" tabindex="-1"></a><span class="in">  container.append("p").style("text-align", "center").style("color", "#718096").style("font-style", "italic")</span></span>
<span id="cb23-1821"><a href="#cb23-1821" aria-hidden="true" tabindex="-1"></a><span class="in">    .text("Select an answer for each question, then click 'Check Answers' to see your score.");</span></span>
<span id="cb23-1822"><a href="#cb23-1822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1823"><a href="#cb23-1823" aria-hidden="true" tabindex="-1"></a><span class="in">  const state = { answers: new Array(questions.length).fill(-1) };</span></span>
<span id="cb23-1824"><a href="#cb23-1824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1825"><a href="#cb23-1825" aria-hidden="true" tabindex="-1"></a><span class="in">  questions.forEach((question, qi) =&gt; {</span></span>
<span id="cb23-1826"><a href="#cb23-1826" aria-hidden="true" tabindex="-1"></a><span class="in">    const qDiv = container.append("div").attr("class", "quiz-question");</span></span>
<span id="cb23-1827"><a href="#cb23-1827" aria-hidden="true" tabindex="-1"></a><span class="in">    qDiv.append("p").style("font-weight", "700").style("margin-bottom", "12px")</span></span>
<span id="cb23-1828"><a href="#cb23-1828" aria-hidden="true" tabindex="-1"></a><span class="in">      .text(`Question ${qi + 1}: ${question.q}`);</span></span>
<span id="cb23-1829"><a href="#cb23-1829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1830"><a href="#cb23-1830" aria-hidden="true" tabindex="-1"></a><span class="in">    question.options.forEach((opt, oi) =&gt; {</span></span>
<span id="cb23-1831"><a href="#cb23-1831" aria-hidden="true" tabindex="-1"></a><span class="in">      const label = qDiv.append("label").attr("class", "quiz-option")</span></span>
<span id="cb23-1832"><a href="#cb23-1832" aria-hidden="true" tabindex="-1"></a><span class="in">        .style("display", "block").style("padding", "10px 16px").style("margin", "6px 0")</span></span>
<span id="cb23-1833"><a href="#cb23-1833" aria-hidden="true" tabindex="-1"></a><span class="in">        .style("border", "2px solid #e2e8f0").style("border-radius", "8px").style("cursor", "pointer");</span></span>
<span id="cb23-1834"><a href="#cb23-1834" aria-hidden="true" tabindex="-1"></a><span class="in">      label.append("input").attr("type", "radio").attr("name", `cfq${qi}`)</span></span>
<span id="cb23-1835"><a href="#cb23-1835" aria-hidden="true" tabindex="-1"></a><span class="in">        .style("margin-right", "10px")</span></span>
<span id="cb23-1836"><a href="#cb23-1836" aria-hidden="true" tabindex="-1"></a><span class="in">        .on("change", () =&gt; { state.answers[qi] = oi; });</span></span>
<span id="cb23-1837"><a href="#cb23-1837" aria-hidden="true" tabindex="-1"></a><span class="in">      label.append("span").text(opt);</span></span>
<span id="cb23-1838"><a href="#cb23-1838" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-1839"><a href="#cb23-1839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1840"><a href="#cb23-1840" aria-hidden="true" tabindex="-1"></a><span class="in">    qDiv.append("div").attr("class", `cf-feedback-${qi}`);</span></span>
<span id="cb23-1841"><a href="#cb23-1841" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb23-1842"><a href="#cb23-1842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1843"><a href="#cb23-1843" aria-hidden="true" tabindex="-1"></a><span class="in">  const btnDiv = container.append("div").style("text-align", "center").style("margin-top", "20px");</span></span>
<span id="cb23-1844"><a href="#cb23-1844" aria-hidden="true" tabindex="-1"></a><span class="in">  btnDiv.append("button")</span></span>
<span id="cb23-1845"><a href="#cb23-1845" aria-hidden="true" tabindex="-1"></a><span class="in">    .style("background", "linear-gradient(135deg, #667eea, #764ba2)").style("color", "white")</span></span>
<span id="cb23-1846"><a href="#cb23-1846" aria-hidden="true" tabindex="-1"></a><span class="in">    .style("border", "none").style("padding", "12px 36px").style("border-radius", "25px")</span></span>
<span id="cb23-1847"><a href="#cb23-1847" aria-hidden="true" tabindex="-1"></a><span class="in">    .style("font-size", "1.1em").style("font-weight", "700").style("cursor", "pointer")</span></span>
<span id="cb23-1848"><a href="#cb23-1848" aria-hidden="true" tabindex="-1"></a><span class="in">    .style("box-shadow", "0 4px 15px rgba(102,126,234,0.4)")</span></span>
<span id="cb23-1849"><a href="#cb23-1849" aria-hidden="true" tabindex="-1"></a><span class="in">    .text("Check Answers")</span></span>
<span id="cb23-1850"><a href="#cb23-1850" aria-hidden="true" tabindex="-1"></a><span class="in">    .on("click", function() {</span></span>
<span id="cb23-1851"><a href="#cb23-1851" aria-hidden="true" tabindex="-1"></a><span class="in">      let score = 0;</span></span>
<span id="cb23-1852"><a href="#cb23-1852" aria-hidden="true" tabindex="-1"></a><span class="in">      questions.forEach((question, qi) =&gt; {</span></span>
<span id="cb23-1853"><a href="#cb23-1853" aria-hidden="true" tabindex="-1"></a><span class="in">        const fb = container.select(`.cf-feedback-${qi}`);</span></span>
<span id="cb23-1854"><a href="#cb23-1854" aria-hidden="true" tabindex="-1"></a><span class="in">        fb.html("");</span></span>
<span id="cb23-1855"><a href="#cb23-1855" aria-hidden="true" tabindex="-1"></a><span class="in">        if (state.answers[qi] === -1) {</span></span>
<span id="cb23-1856"><a href="#cb23-1856" aria-hidden="true" tabindex="-1"></a><span class="in">          fb.append("div").attr("class", "quiz-feedback incorrect")</span></span>
<span id="cb23-1857"><a href="#cb23-1857" aria-hidden="true" tabindex="-1"></a><span class="in">            .text("‚ö†Ô∏è Please select an answer.");</span></span>
<span id="cb23-1858"><a href="#cb23-1858" aria-hidden="true" tabindex="-1"></a><span class="in">          return;</span></span>
<span id="cb23-1859"><a href="#cb23-1859" aria-hidden="true" tabindex="-1"></a><span class="in">        }</span></span>
<span id="cb23-1860"><a href="#cb23-1860" aria-hidden="true" tabindex="-1"></a><span class="in">        const isCorrect = state.answers[qi] === question.correct;</span></span>
<span id="cb23-1861"><a href="#cb23-1861" aria-hidden="true" tabindex="-1"></a><span class="in">        if (isCorrect) score++;</span></span>
<span id="cb23-1862"><a href="#cb23-1862" aria-hidden="true" tabindex="-1"></a><span class="in">        fb.append("div").attr("class", `quiz-feedback ${isCorrect ? "correct" : "incorrect"}`)</span></span>
<span id="cb23-1863"><a href="#cb23-1863" aria-hidden="true" tabindex="-1"></a><span class="in">          .html(`${isCorrect ? "‚úÖ Correct!" : "‚ùå Incorrect. The correct answer is " + question.options[question.correct] + "."}&lt;br&gt;&lt;em&gt;${question.explanation}&lt;/em&gt;`);</span></span>
<span id="cb23-1864"><a href="#cb23-1864" aria-hidden="true" tabindex="-1"></a><span class="in">      });</span></span>
<span id="cb23-1865"><a href="#cb23-1865" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb23-1866"><a href="#cb23-1866" aria-hidden="true" tabindex="-1"></a><span class="in">      const scoreDiv = container.select(".cf-score-display");</span></span>
<span id="cb23-1867"><a href="#cb23-1867" aria-hidden="true" tabindex="-1"></a><span class="in">      scoreDiv.html("");</span></span>
<span id="cb23-1868"><a href="#cb23-1868" aria-hidden="true" tabindex="-1"></a><span class="in">      const pct = Math.round(score / questions.length * 100);</span></span>
<span id="cb23-1869"><a href="#cb23-1869" aria-hidden="true" tabindex="-1"></a><span class="in">      const emoji = pct === 100 ? "üåü" : pct &gt;= 80 ? "üëè" : pct &gt;= 60 ? "üëç" : "üìö";</span></span>
<span id="cb23-1870"><a href="#cb23-1870" aria-hidden="true" tabindex="-1"></a><span class="in">      scoreDiv.append("div").attr("class", "quiz-score")</span></span>
<span id="cb23-1871"><a href="#cb23-1871" aria-hidden="true" tabindex="-1"></a><span class="in">        .text(`${emoji} Score: ${score}/${questions.length} (${pct}%)`);</span></span>
<span id="cb23-1872"><a href="#cb23-1872" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb23-1873"><a href="#cb23-1873" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-1874"><a href="#cb23-1874" aria-hidden="true" tabindex="-1"></a><span class="in">  container.append("div").attr("class", "cf-score-display");</span></span>
<span id="cb23-1875"><a href="#cb23-1875" aria-hidden="true" tabindex="-1"></a><span class="in">  return container.node();</span></span>
<span id="cb23-1876"><a href="#cb23-1876" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb23-1877"><a href="#cb23-1877" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>